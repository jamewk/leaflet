!function(t){"use strict";function a(t){for(var a=t.length,s=1/0,i=-(1/0);a--;){var e=t[a];null==e||(s>e?s=e:e>i&&(i=e))}return s===1/0?s=i:i===-(1/0)&&(i=s),s!==1/0&&s!==-(1/0)||(s=null,i=null),[s,i]}function s(t,a){if(0===t.length)throw new Error("Array must have at least one element");var s=-1,i=t.length,e=1===t.length||t[0]<t[1];if(e)for(;i-s>1;){var n=Math.round((s+i)/2);t[n]<=a?s=n:i=n}else for(;i-s>1;){var r=Math.round((s+i)/2);t[r]>=a?s=r:i=r}return t[s]===a&&(i=s),-1===s&&(s=i),i===t.length&&(i=s),[s,i]}function i(t,a){var i=s(t,a),e=i[0],n=i[1];return Math.abs(a-t[e])<=Math.abs(a-t[n])?e:n}function e(t){var a=arguments.length<=1||void 0===arguments[1]?et:arguments[1];if(a in t)return a;var s=a.split("-")[0],i=Object.keys(t).filter(function(t){return s===t.split("-")[0]});return i.length?i[0]:Object.keys(t)[0]}function n(t){var a=arguments.length<=1||void 0===arguments[1]?et:arguments[1],s=e(t,a);return t[s]}function r(t,a){if(!t)return"";if(t.symbol){var s=t.symbol.value||t.symbol,i=t.symbol.type;return"http://www.opengis.net/def/uom/UCUM/"===i&&("Cel"===s?s="Â°C":"1"===s&&(s="")),s}return n(t.label,a)}function h(t){var a=1/0,s=-(1/0),i=function(t){null!==t&&(a>t&&(a=t),t>s&&(s=t))};return u(t,i),a===1/0?[void 0,void 0]:[a,s]}function o(t,a,s){var i=s,e=function(t){i=a(i,t)};return u(t,e),i}function u(t,a){var s=[].concat(lt(t.shape));s.sort(function(t,a){var s=ut(t,2),i=s[1],e=ut(a,2),n=e[1];return i-n});var i="var obj = {}",e="",n=!0,r=!1,h=void 0;try{for(var o,u=s[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var l=ut(o.value,2),c=l[0],f=l[1];i+="\n      for (var i"+c+"=0; i"+c+" < "+f+"; ++i"+c+") {\n        obj['"+c+"'] = i"+c+"\n    ",e+="}"}}catch(d){r=!0,h=d}finally{try{!n&&u["return"]&&u["return"]()}finally{if(r)throw h}}i+="\n    fn(get(obj))\n  ";var p=new Function("return function iterRange (get, fn) { "+i+" "+e+" }")();p(t.get,a)}function l(t,a){var s=!0,i=!1,e=void 0;try{for(var n,r=function(){var s=ut(n.value,2),i=s[0],e=s[1];if(-1!==e.indexOf(a)){var r=t.observedProperty.categories.filter(function(t){return t.id===i})[0];return{v:r}}},h=t.categoryEncoding[Symbol.iterator]();!(s=(n=h.next()).done);s=!0){var o=r();if("object"===("undefined"==typeof o?"undefined":nt(o)))return o.v}}catch(u){i=!0,e=u}finally{try{!s&&h["return"]&&h["return"]()}finally{if(i)throw e}}}function c(t){return t.type===$}function f(t){if(!c(t))throw new Error("must be a Coverage")}function d(t){return t.type===Y}function p(t){if(!d(t))throw new Error("must be a Domain")}function m(t,a){return a={exports:{}},t(a,a.exports),a.exports}function y(t,a){var s=t.referencing.find(function(t){return-1!==t.coordinates.indexOf(a)});return s}function M(t){var a=function(t){return-1!==["GeodeticCRS","GeographicCRS","GeocentricCRS","ProjectedCRS"].indexOf(t.system.type)},s=t.referencing.find(a);return s}function v(t){return"GeographicCRS"===t.type||-1!==_i.indexOf(t.id)}function b(t){var a=t.referencing.some(function(t){return v(t.system)});if(a)return P(t);var s=M(t);if(!s)throw new Error("No horizontal CRS found in coverage domain");var i=s.system.id,e=yi(i);if(!e)throw new Error("Projection "+i+" not cached in uriproj, use loadProjection() instead");return w(e)}function g(t){try{return b(t)}catch(a){}var s=M(t);if(!s)throw new Error("No horizontal CRS found in coverage domain");var i=s.system.id;return mi(i).then(function(t){return w(t)})}function _(t){return x(t)}function x(t){var a=M(t);return a.coordinates}function w(t){return{project:function(a){var s=a.lon,i=a.lat,e=t.forward([s,i]),n=ut(e,2),r=n[0],h=n[1];return{x:r,y:h}},unproject:function(a){var s=a.x,i=a.y,e=t.inverse([s,i]),n=ut(e,2),r=n[0],h=n[1];return{lon:r,lat:h}}}}function P(t){var a=t.referencing.find(function(t){return v(t.system)}),s=xi[a.system.id];if(s>1)throw new Error;var i=a.coordinates[s],e=void 0,n=void 0;if(t.axes.has(i)){var r=i,h=t.axes.get(r).values;if(e=h[0],n=h[h.length-1],e>n){var o=[n,e];e=o[0],n=o[1]}}else{var u=[].concat(lt(t.axes.values())),l=u.find(function(t){return-1!==t.coordinates.indexOf(i)}),c=l.coordinates.indexOf(i);if(e=1/0,n=-(1/0),l.dataType===st){var f=!0,d=!1,p=void 0;try{for(var m,y=l.values[Symbol.iterator]();!(f=(m=y.next()).done);f=!0){var M=m.value,b=M[c];e=Math.min(b,e),n=Math.max(b,n)}}catch(g){d=!0,p=g}finally{try{!f&&y["return"]&&y["return"]()}finally{if(d)throw p}}}else{if(l.dataType!==it)throw new Error("Unsupported data type: "+l.dataType);var _=!0,x=!1,w=void 0;try{for(var P,S=l.values[Symbol.iterator]();!(_=(P=S.next()).done);_=!0){var C=P.value,E=!0,j=!1,I=void 0;try{for(var k,O=C[Symbol.iterator]();!(E=(k=O.next()).done);E=!0){var N=k.value,T=!0,R=!1,A=void 0;try{for(var q,G=N[Symbol.iterator]();!(T=(q=G.next()).done);T=!0){var D=q.value,B=D[c];e=Math.min(B,e),n=Math.max(B,n)}}catch(g){R=!0,A=g}finally{try{!T&&G["return"]&&G["return"]()}finally{if(R)throw A}}}}catch(g){j=!0,I=g}finally{try{!E&&O["return"]&&O["return"]()}finally{if(j)throw I}}}}catch(g){x=!0,w=g}finally{try{!_&&S["return"]&&S["return"]()}finally{if(x)throw w}}}}var L=(n+e)/2,z=L-180,U=L+180;return{project:function(t){var a=t.lon,i=t.lat,e=void 0;e=a>=z&&U>=a?a:((a-z)%360+360)%360+z;var n=0===s?[e,i]:[i,e],r=ut(n,2),h=r[0],o=r[1];return{x:h,y:o}},unproject:function(t){var a=t.x,i=t.y,e=0===s?[a,i]:[i,a],n=ut(e,2),r=n[0],h=n[1];return{lon:r,lat:h}}}}function S(t,a,s){return s.project(a.unproject(t))}function C(t,a){if(!E(t,a))throw new Error("'"+a+"' is not a longitude axis");var s=t.axes.get(a).values,i=s[0],e=s[s.length-1];if(i>e){var n=[e,i];i=n[0],e=n[1]}var r=(e+i)/2,h=r-180,o=r+180;return function(t){return t>=h&&o>=t?t:((t-h)%360+360)%360+h}}function E(t,a){var s=y(t,a);if(!s)return!1;var i=s.system.id;if(-1===_i.indexOf(i))return!1;var e=s.coordinates.indexOf(a),n=xi[i]===e;return n}function j(t,a){var s=t.axes.get(a).values[0];return"string"!=typeof s?!1:!isNaN(new Date(s).getTime())}function I(t){var a=void 0,s=!1;if("string"==typeof t?a=new Date(t).getTime():t instanceof Date?a=t.getTime():s=!0,isNaN(a)&&(s=!0),s)throw new Error("Invalid date: "+t);return a}function k(t,a){var s={};for(var i in a)if(t.axes.has(i)&&void 0!==a[i]&&null!==a[i]){if("number"==typeof a[i]){var e=a[i];s[i]={start:e,stop:e+1}}else s[i]=a[i];var n=s[i],r=n.start,h=void 0===r?0:r,o=n.stop,u=void 0===o?t.axes.get(i).values.length:o,l=n.step,c=void 0===l?1:l;if(0>=c)throw new Error("Invalid constraint for "+i+": step="+c+" must be > 0");if(h>=u||0>h)throw new Error("Invalid constraint for "+i+": stop="+u+" must be > start="+h+" and both >= 0");s[i]={start:h,stop:u,step:c}}var f=!0,d=!1,p=void 0;try{for(var m,y=t.axes.keys()[Symbol.iterator]();!(f=(m=y.next()).done);f=!0){var M=m.value;if(!(M in s)){var v=t.axes.get(M).values.length;s[M]={start:0,stop:v,step:1}}}}catch(b){d=!0,p=b}finally{try{!f&&y["return"]&&y["return"]()}finally{if(d)throw p}}return s}function O(t,a){a=k(t,a);var s={type:Y,domainType:t.domainType,axes:new Map(t.axes),referencing:t.referencing},i=!0,e=!1,n=void 0;try{for(var r,h=function(){var i=r.value,e=t.axes.get(i),n=e.values,h=e.bounds,o=a[i],u=void 0,l=void 0,c=o.start,f=o.stop,d=o.step;if(0===c&&f===n.length&&1===d)u=n,l=h;else if(1===d)u=n.subarray?n.subarray(c,f):n.slice(c,f),h&&(l={get:function(t){return h.get(c+t)}});else{var p=Math.trunc((f-c)/d),m=(f-c)%d,y=p+m;u=new n.constructor(y);for(var M=c,v=0;f>M;M+=d,v++)u[v]=n[M];h&&(l={get:function(t){return h.get(c+t*d)}})}var b={dataType:e.dataType,coordinates:e.coordinates,values:u,bounds:l};s.axes.set(i,b)},o=Object.keys(a)[Symbol.iterator]();!(i=(r=o.next()).done);i=!0)h()}catch(u){e=!0,n=u}finally{try{!i&&o["return"]&&o["return"]()}finally{if(e)throw n}}return s}function N(t,a){var s,i=arguments.length<=2||void 0===arguments[2]?["x","y"]:arguments[2],e=ut(a,4),n=e[0],r=e[1],h=e[2],o=e[3];return t.subsetByValue((s={},ot(s,i[0],{start:n,stop:h}),ot(s,i[1],{start:r,stop:o}),s))}function T(t,a){return t.loadDomain().then(function(s){a=k(s,a);var i=O(s,a),e=function(t){var e={dataType:t.dataType,get:function(s){var i={},e=!0,n=!1,r=void 0;try{for(var h,o=Object.keys(s)[Symbol.iterator]();!(e=(h=o.next()).done);e=!0){var u=h.value,l=a[u],c=l.start,f=l.step;i[u]=c+s[u]*f}}catch(d){n=!0,r=d}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw r}}return t.get(i)}};e.shape=new Map;var n=!0,r=!1,h=void 0;try{for(var o,u=s.axes.keys()[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var l=o.value,c=i.axes.get(l).values.length;e.shape.set(l,c)}}catch(f){r=!0,h=f}finally{try{!n&&u["return"]&&u["return"]()}finally{if(r)throw h}}return e},n=function(a){return t.loadRange(a).then(e)},r=function(a){return t.loadRanges(a).then(function(t){return new Map([].concat(lt(t)).map(function(t){var a=ut(t,2),s=a[0],i=a[1];return[s,e(i)]}))})},h={type:$,domainType:t.domainType,parameters:t.parameters,loadDomain:function(){return Promise.resolve(i)},loadRange:n,loadRanges:r};return h.subsetByIndex=T.bind(null,h),h.subsetByValue=R.bind(null,h),h})}function R(t,a){return t.loadDomain().then(function(e){var n={},r=!0,h=!1,o=void 0;try{for(var u,l=Object.keys(a)[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var c=u.value,f=a[c];if(void 0!==f&&null!==f&&e.axes.has(c)){var d=e.axes.get(c),p=d.values,m=j(e,c),y=E(e,c),M=y?C(e,c):void 0;if("number"==typeof f||"string"==typeof f||f instanceof Date){var v=f;m?(v=I(v),p=p.map(function(t){return new Date(t).getTime()})):y&&(v=M(v));var b=void 0;if(b=p.indexOf?p.indexOf(v):Array.prototype.indexOf.call(p,v),-1===b)throw new Error("Domain value not found: "+f);n[c]=b}else if("target"in f){var g=f.target;if(m)g=I(g),p=p.map(function(t){return new Date(t).getTime()});else if(y)g=M(g);else if("number"!=typeof p[0]||"number"!=typeof g)throw new Error("Invalid axis or constraint value type");var _=i(p,g);n[c]=_}else{if(!("start"in f&&"stop"in f))throw new Error("Invalid subset constraints");var x=f.start,w=f.stop;if(m){var P=[I(x),I(w)];x=P[0],w=P[1],p=p.map(function(t){return new Date(t).getTime()})}else if(y){var S=[M(x),M(w)];x=S[0],w=S[1]}else if("number"!=typeof p[0]||"number"!=typeof x)throw new Error("Invalid axis or constraint value type");var k=s(p,x),O=ut(k,2),N=O[0],T=O[1],R=s(p,w),A=ut(R,2),q=A[0],G=A[1],D=Math.min(N,T,q,G),B=Math.max(N,T,q,G)+1;n[c]={start:D,stop:B}}}}}catch(L){h=!0,o=L}finally{try{!r&&l["return"]&&l["return"]()}finally{if(h)throw o}}return t.subsetByIndex(n)})}function A(t){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];p(t);var s=a.gridAxes;s=void 0===s?["x","y"]:s;var i=ut(s,2),e=i[0],n=i[1],r="domain",h="Domain",o=t.axes.has(e)&&t.axes.has(n)&&(t.axes.get(e).values.length>1||t.axes.get(n).values.length>1),u=void 0,l=void 0,c="a",f=0,d="b",m=1;o?(u=[{id:c,label:{en:"A"}},{id:d,label:{en:"B"}}],l=new Map([[c,[f]],[d,[m]]])):(u=[{id:c,label:{en:"X"}}],l=new Map([[c,[f]]]));var y=new Map;y.set(r,{key:r,observedProperty:{label:{en:h},categories:u},categoryEncoding:l});var M=new Map([].concat(lt(t.axes)).map(function(t){var a=ut(t,2),s=a[0],i=a[1];return[s,i.values.length]})),v=void 0;o?!function(){var t=function(t){return t%2};v=function(a){var s=a.x,i=void 0===s?0:s,e=a.y,n=void 0===e?0:e;return t(i+n)?f:m}}():v=function(){return f};var b=function(){return Promise.resolve({shape:M,dataType:"integer",get:v})},g={type:$,domainType:t.domainType,parameters:y,loadDomain:function(){return Promise.resolve(t)},loadRange:b};return D(g),G(g),g}function q(t){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a.parameter,i=void 0===s?{key:"p1",observedProperty:{label:{en:"Parameter 1"}}}:s,e=a.referencing,n=a.domainType,r=new Map;r.set(i.key,i),e||(e=[],t.coords.has("x")&&t.coords.has("y")&&e.push({coordinates:["x","y"],system:{type:"GeographicCRS",id:"http://www.opengis.net/def/crs/OGC/1.3/CRS84"}}),t.coords.has("t")&&e.push({coordinates:["t"],system:{type:"TemporalRS",calendar:"Gregorian"}}));var h=new Map,o=!0,u=!1,l=void 0;try{for(var c,f=t.coords[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){for(var d=ut(c.value,2),p=d[0],m=d[1],y=new Array(m.size),M=0;M<m.size;M++)y[M]=m.get(M);h.set(p,{key:p,coordinates:[p],values:y})}}catch(v){u=!0,l=v}finally{try{!o&&f["return"]&&f["return"]()}finally{if(u)throw l}}var b={type:Y,domainType:n,referencing:e,axes:h},g=new Map([].concat(lt(b.axes)).map(function(t){var a=ut(t,2),s=a[0],i=a[1];return[s,i.values.length]})),_=-1!==t.dtype.indexOf("int")?"integer":"float",x=function(){return Promise.resolve({shape:g,dataType:_,get:t.xget.bind(t)})},w={type:$,domainType:n,parameters:r,loadDomain:function(){return Promise.resolve(b)},loadRange:x};return D(w),G(w),w}function G(t){f(t),t.subsetByIndex=T.bind(null,t),t.subsetByValue=R.bind(null,t)}function D(t){function a(a){return a||(a=t.parameters.keys()),Promise.all([].concat(lt(a)).map(t.loadRange)).then(function(t){return new Map(a.map(function(a,s){return[a,t[s]]}))})}f(t),t.loadRanges=a}function B(t){var a=void 0;if(t instanceof Map)a=new Map(t);else{a=Object.create(Object.getPrototypeOf(t));for(var s in t)a[s]=t[s]}return a}function L(t,a){return t.loadDomain().then(function(s){var i=M(s);if(i.coordinates.length>2)throw new Error("Reprojection not supported for >2D CRSs");if(i.coordinates.some(s.axes.has))throw new Error("Grid reprojection not supported yet");var e=ut(i.coordinates,2),n=e[0],r=e[1],h=[].concat(lt(s.axes.values())),o=h.find(function(t){return i.coordinates.every(function(a){return-1!==t.coordinates.indexOf(a)})}),u=o.coordinates.indexOf(n),l=o.coordinates.indexOf(r),c=b(s),f=b(a),d=void 0;if(o.dataType!==st)throw new Error("Unsupported data type: "+o.dataType);d=o.values.map(function(t){return t.slice()});var p=!0,m=!1,y=void 0;try{for(var v,g=d[Symbol.iterator]();!(p=(v=g.next()).done);p=!0){var _=v.value,x=_[u],w=_[l],P=c.unproject({x:x,y:w}),S=f.project(P),C=S.x,E=S.y;_[u]=C,_[l]=E}}catch(j){m=!0,y=j}finally{try{!p&&g["return"]&&g["return"]()}finally{if(m)throw y}}var I=new Map(s.axes),k=B(o);delete k.bounds,k.values=d,I.set(o.key,k);var O=M(a);if(O.coordinates.length>2)throw new Error("Reprojection not supported for >2D CRSs");var N=s.referencing.map(function(t){return t===i?{coordinates:i.coordinates,system:O.system}:t}),T={type:Y,domainType:s.domainType,axes:I,referencing:N},R={type:$,domainType:t.domainType,parameters:t.parameters,loadDomain:function(){return Promise.resolve(T)},loadRange:function(a){return t.loadRange(a)},loadRanges:function(a){return t.loadRanges(a)},subsetByIndex:function(s){return t.subsetByIndex(s).then(function(t){return L(t,a)})},subsetByValue:function(s){return t.subsetByValue(s).then(function(t){return L(t,a)})}};return R})}function z(t,a){var s={type:$,domainType:t.domainType,parameters:a,loadDomain:function(){return t.loadDomain()},loadRange:function(a){return t.loadRange(a)},loadRanges:function(a){return t.loadRanges(a)},subsetByIndex:function(s){return t.subsetByIndex(s).then(function(t){return z(t,a)})},subsetByValue:function(s){return t.subsetByValue(s).then(function(t){return z(t,a)})}};return s}function U(t,a,s,i){if(f(t),s.categories.some(function(t){return!t.id}))throw new Error('At least one category object is missing the "id" property');var e=B(t.parameters),n=B(e.get(a));e.set(a,n),e.get(a).observedProperty=s;var r=t.parameters.get(a).categoryEncoding,h=new Map,o=s.categories,u=!0,l=!1,c=void 0;try{for(var d,p=o[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var m=d.value,y=[],M=!0,v=!1,b=void 0;try{for(var g,_=i[Symbol.iterator]();!(M=(g=_.next()).done);M=!0){var x=ut(g.value,2),w=x[0],P=x[1];P===m.id&&r.has(w)&&y.push.apply(y,lt(r.get(w)))}}catch(S){v=!0,b=S}finally{try{!M&&_["return"]&&_["return"]()}finally{if(v)throw b}}y.length>0&&h.set(m.id,y)}}catch(S){l=!0,c=S}finally{try{!u&&p["return"]&&p["return"]()}finally{if(l)throw c}}e.get(a).categoryEncoding=h;var C=z(t,e);return C}function F(t,a){f(t);var s=function(t){var s={type:Y,domainType:a,axes:t.axes,referencing:t.referencing};return s},i={type:$,domainType:a,parameters:t.parameters,loadDomain:function(){return t.loadDomain().then(s)},loadRange:function(a){return t.loadRange(a)},loadRanges:function(a){return t.loadRanges(a)},subsetByIndex:function(s){return t.subsetByIndex(s).then(function(t){return F(t,a)})},subsetByValue:function(s){return t.subsetByValue(s).then(function(t){return F(t,a)})}};return i}function H(t){return t.loadDomain().then(function(t){})}function V(t,a){f(t),a=new Map(a);var s=!0,i=!1,e=void 0;try{for(var n,r=t.axes.keys()[Symbol.iterator]();!(s=(n=r.next()).done);s=!0){var h=n.value;a.has(h)||a.set(h,h)}}catch(o){i=!0,e=o}finally{try{!s&&r["return"]&&r["return"]()}finally{if(i)throw e}}var u=function(t){var s=new Map,i=!0,e=!1,n=void 0;try{for(var r,h=a[Symbol.iterator]();!(i=(r=h.next()).done);i=!0){var o=ut(r.value,2),u=o[0],l=o[1],c=t.axes.get(u),f=c.dataType,d=c.coordinates,p=c.values,m=c.bounds,y={key:l,dataType:f,coordinates:d.map(function(t){return a.has(t)?a.get(t):t}),values:p,bounds:m};s.set(l,y)}}catch(M){e=!0,n=M}finally{try{!i&&h["return"]&&h["return"]()}finally{if(e)throw n}}var v=t.referencing.map(function(t){var s=t.coordinates,i=t.system;return{coordinates:s.map(function(t){return a.has(t)?a.get(t):t}),system:i}}),b={type:Y,domainType:t.domainType,axes:s,referencing:v};return b},l=[].concat(lt(a)).map(function(t){var a=ut(t,2),s=a[0],i=a[1];return"['"+s+"']:obj['"+i+"']"}).join(","),c=function(t){var s=new Function("range","return function get (obj){return range.get({"+l+"})}")(t),i={shape:new Map([].concat(lt(t.shape)).map(function(t){var s=ut(t,2),i=s[0],e=s[1];return[a.get(i),e]})),dataType:t.dataType,get:s};return i},d=function(a){return t.loadRange(a).then(c)},p=function(a){return t.loadRanges(a).then(function(t){return new Map([].concat(lt(t)).map(function(t){var a=ut(t,2),s=a[0],i=a[1];return[s,c(i)]}))})},m={type:$,domainType:t.domainType,parameters:t.parameters,loadDomain:function(){return t.loadDomain().then(u)},loadRange:d,loadRanges:p,subsetByIndex:function(s){return t.subsetByIndex(s).then(function(t){return V(t,a)})},subsetByValue:function(s){return t.subsetByValue(s).then(function(t){return V(t,a)})}};return m}function Q(t,a,s,i){f(t);var e=function(t){var a={shape:t.shape,dataType:i||t.dataType,get:function(a){return s(a,t)}};return a},n=function(s){return a===s?t.loadRange(s).then(e):t.loadRange(s)},r=function(s){return t.loadRanges(s).then(function(t){return new Map([].concat(lt(t)).map(function(t){var s=ut(t,2),i=s[0],n=s[1];return[i,a===i?e(n):n]}))})},h={type:$,domainType:t.domainType,parameters:t.parameters,loadDomain:function(){return t.loadDomain()},loadRange:n,loadRanges:r,subsetByIndex:function(e){return t.subsetByIndex(e).then(function(t){return Q(t,a,s,i)})},subsetByValue:function(e){return t.subsetByValue(e).then(function(t){return Q(t,a,s,i)})}};return h}function W(t,a){f(t);var s=a.parameter,i=a.inputParameters,e=a.dataType,n=void 0===e?"float":e,r=a.fn,h=new Map(t.parameters);h.set(s.key,s);var o=function(){return t.loadRanges(i).then(function(t){var a=i.map(function(a){return t.get(a)}),s=a[0].shape,e={shape:s,dataType:n,get:function(t){return r.apply(void 0,[t].concat(lt(a)))}};return e})},u=function(a){return s.key===a?o():t.loadRange(a)},l={type:$,domainType:t.domainType,parameters:h,loadDomain:function(){return t.loadDomain()},loadRange:u,subsetByIndex:function(s){return t.subsetByIndex(s).then(function(t){return W(t,a)})},subsetByValue:function(s){return t.subsetByValue(s).then(function(t){return W(t,a)})}};return D(l),l}function X(t,a){var s=a.parameter,i=a.inputParameters,e=a.dataType,n=a.fn,r={parameter:s,inputParameters:i,dataType:e,fn:function(t){for(var a=arguments.length,s=Array(a>1?a-1:0),e=1;a>e;e++)s[e-1]=arguments[e];var r=i.map(function(a,i){return s[i].get(t)});return r.some(function(t){return null===t})?null:n.apply(void 0,lt(r))}};return W(t,r)}function J(t){if(t.paging)throw new Error("Paged collections not supported");t.query=function(){return new wi(t)}}function K(t,a){var s=!0,i=!1,e=void 0;try{for(var n,r=Object.keys(a)[Symbol.iterator]();!(s=(n=r.next()).done);s=!0){var h=n.value,o=a[h];if(!t.axes.has(h))throw new Error('Axis "'+h+'" does not exist');var u=t.axes.get(h),l=u.values,c=l[0],f=l[l.length-1];if("number"!=typeof c&&"string"!=typeof c)throw new Error("Can only filter primitive axis values");var d=o.start,p=o.stop;if(j(t,h)){var m=[I(c),I(f)];c=m[0],f=m[1];var y=[I(d),I(p)];d=y[0],p=y[1]}else if(E(t,h)){var M=C(t,h),v=[M(d),M(p)];d=v[0],p=v[1]}if(c>f){var b=[f,c];c=b[0],f=b[1]}if(d>f||c>p)return!1}}catch(g){i=!0,e=g}finally{try{!s&&r["return"]&&r["return"]()}finally{if(i)throw e}}return!0}function Z(t,a){var s=!0,i=!1,e=void 0;try{for(var n,r=Object.keys(t)[Symbol.iterator]();!(s=(n=r.next()).done);s=!0){var h=n.value;a[h]=t[h]}}catch(o){i=!0,e=o}finally{try{!s&&r["return"]&&r["return"]()}finally{if(i)throw e}}}var Y="Domain",$="Coverage",tt=$+"Collection",at="http://covjson.org/def/core#",st=at+"tuple",it=at+"polygon",et="en",nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},rt=function(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")},ht=function(){function t(t,a){for(var s=0;s<a.length;s++){var i=a[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(a,s,i){return s&&t(a.prototype,s),i&&t(a,i),a}}(),ot=function(t,a,s){return a in t?Object.defineProperty(t,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[a]=s,t},ut=function(){function t(t,a){var s=[],i=!0,e=!1,n=void 0;try{for(var r,h=t[Symbol.iterator]();!(i=(r=h.next()).done)&&(s.push(r.value),!a||s.length!==a);i=!0);}catch(o){e=!0,n=o}finally{try{!i&&h["return"]&&h["return"]()}finally{if(e)throw n}}return s}return function(a,s){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return t(a,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),lt=function(t){if(Array.isArray(t)){for(var a=0,s=Array(t.length);a<t.length;a++)s[a]=t[a];return s}return Array.from(t)},ct=m(function(t){t.exports=function(t,a,s,i,e){var n,r;n=t/a;for(var h=0;15>h;h++)if(r=(t-(a*n-s*Math.sin(2*n)+i*Math.sin(4*n)-e*Math.sin(6*n)))/(a-2*s*Math.cos(2*n)+4*i*Math.cos(4*n)-6*e*Math.cos(6*n)),n+=r,Math.abs(r)<=1e-10)return n;return NaN}}),ft=ct&&"object"==typeof ct&&"default"in ct?ct["default"]:ct,dt=m(function(t){t.exports=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}}),pt=dt&&"object"==typeof dt&&"default"in dt?dt["default"]:dt,mt=m(function(t){t.exports=function(t,a,s){var i=a*s;return t/Math.sqrt(1-i*i)}}),yt=mt&&"object"==typeof mt&&"default"in mt?mt["default"]:mt,Mt=m(function(t){t.exports=function(t){return t*t*t*(35/3072)}}),vt=Mt&&"object"==typeof Mt&&"default"in Mt?Mt["default"]:Mt,bt=m(function(t){t.exports=function(t){return.05859375*t*t*(1+.75*t)}}),gt=bt&&"object"==typeof bt&&"default"in bt?bt["default"]:bt,_t=m(function(t){t.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}}),xt=_t&&"object"==typeof _t&&"default"in _t?_t["default"]:_t,wt=m(function(t){t.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}}),Pt=wt&&"object"==typeof wt&&"default"in wt?wt["default"]:wt,St=m(function(t){t.exports=function(t,a,s,i,e){return t*e-a*Math.sin(2*e)+s*Math.sin(4*e)-i*Math.sin(6*e)}}),Ct=St&&"object"==typeof St&&"default"in St?St["default"]:St,Et=m(function(t){t.exports=function(t){return 0>t?-1:1}}),jt=Et&&"object"==typeof Et&&"default"in Et?Et["default"]:Et,It=m(function(t){var a=2*Math.PI,s=3.14159265359,i=jt;t.exports=function(t){return Math.abs(t)<=s?t:t-i(t)*a}}),kt=It&&"object"==typeof It&&"default"in It?It["default"]:It,Ot=m(function(t,a){var s=kt,i=Math.PI/2,e=1e-10,n=Ct,r=Pt,h=xt,o=gt,u=vt,l=yt,c=pt,f=ft;a.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},a.forward=function(t){var a,c,f,d,p,m,y,M,v,b,g,_,x,w,P,S,C,E,j,I,k,O,N,T=t.x,R=t.y,A=Math.sin(t.y),q=Math.cos(t.y),G=s(T-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=e?(t.x=this.x0+this.a*(i-R)*Math.sin(G),t.y=this.y0-this.a*(i-R)*Math.cos(G),t):Math.abs(this.sin_p12+1)<=e?(t.x=this.x0+this.a*(i+R)*Math.sin(G),t.y=this.y0+this.a*(i+R)*Math.cos(G),t):(E=this.sin_p12*A+this.cos_p12*q*Math.cos(G),S=Math.acos(E),C=S/Math.sin(S),t.x=this.x0+this.a*C*q*Math.sin(G),t.y=this.y0+this.a*C*(this.cos_p12*A-this.sin_p12*q*Math.cos(G)),t):(a=r(this.es),c=h(this.es),f=o(this.es),d=u(this.es),Math.abs(this.sin_p12-1)<=e?(p=this.a*n(a,c,f,d,i),m=this.a*n(a,c,f,d,R),t.x=this.x0+(p-m)*Math.sin(G),t.y=this.y0-(p-m)*Math.cos(G),t):Math.abs(this.sin_p12+1)<=e?(p=this.a*n(a,c,f,d,i),m=this.a*n(a,c,f,d,R),t.x=this.x0+(p+m)*Math.sin(G),t.y=this.y0+(p+m)*Math.cos(G),t):(y=A/q,M=l(this.a,this.e,this.sin_p12),v=l(this.a,this.e,A),b=Math.atan((1-this.es)*y+this.es*M*this.sin_p12/(v*q)),g=Math.atan2(Math.sin(G),this.cos_p12*Math.tan(b)-this.sin_p12*Math.cos(G)),j=0===g?Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.abs(Math.abs(g)-Math.PI)<=e?-Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.asin(Math.sin(G)*Math.cos(b)/Math.sin(g)),_=this.e*this.sin_p12/Math.sqrt(1-this.es),x=this.e*this.cos_p12*Math.cos(g)/Math.sqrt(1-this.es),w=_*x,P=x*x,I=j*j,k=I*j,O=k*j,N=O*j,S=M*j*(1-I*P*(1-P)/6+k/8*w*(1-2*P)+O/120*(P*(4-7*P)-3*_*_*(1-7*P))-N/48*w),t.x=this.x0+S*Math.sin(g),t.y=this.y0+S*Math.cos(g),t))},a.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var a,d,p,m,y,M,v,b,g,_,x,w,P,S,C,E,j,I,k,O,N,T,R;if(this.sphere){if(a=Math.sqrt(t.x*t.x+t.y*t.y),a>2*i*this.a)return;return d=a/this.a,p=Math.sin(d),m=Math.cos(d),y=this.long0,Math.abs(a)<=e?M=this.lat0:(M=c(m*this.sin_p12+t.y*p*this.cos_p12/a),v=Math.abs(this.lat0)-i,y=s(Math.abs(v)<=e?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*p,a*this.cos_p12*m-t.y*this.sin_p12*p))),t.x=y,t.y=M,t}return b=r(this.es),g=h(this.es),_=o(this.es),x=u(this.es),Math.abs(this.sin_p12-1)<=e?(w=this.a*n(b,g,_,x,i),a=Math.sqrt(t.x*t.x+t.y*t.y),P=w-a,M=f(P/this.a,b,g,_,x),y=s(this.long0+Math.atan2(t.x,-1*t.y)),t.x=y,t.y=M,t):Math.abs(this.sin_p12+1)<=e?(w=this.a*n(b,g,_,x,i),a=Math.sqrt(t.x*t.x+t.y*t.y),P=a-w,M=f(P/this.a,b,g,_,x),y=s(this.long0+Math.atan2(t.x,t.y)),t.x=y,t.y=M,t):(a=Math.sqrt(t.x*t.x+t.y*t.y),E=Math.atan2(t.x,t.y),S=l(this.a,this.e,this.sin_p12),j=Math.cos(E),I=this.e*this.cos_p12*j,k=-I*I/(1-this.es),O=3*this.es*(1-k)*this.sin_p12*this.cos_p12*j/(1-this.es),N=a/S,T=N-k*(1+k)*Math.pow(N,3)/6-O*(1+3*k)*Math.pow(N,4)/24,R=1-k*T*T/2-N*T*T*T/6,C=Math.asin(this.sin_p12*Math.cos(T)+this.cos_p12*Math.sin(T)*j),y=s(this.long0+Math.asin(Math.sin(E)*Math.sin(T)/Math.cos(C))),M=Math.atan((1-this.es*R*this.sin_p12/Math.sin(C))*Math.tan(C)/(1-this.es)),t.x=y,t.y=M,t)},a.names=["Azimuthal_Equidistant","aeqd"]}),Nt=Ot&&"object"==typeof Ot&&"default"in Ot?Ot["default"]:Ot,Tt=m(function(t,a){var s=kt,i=Math.PI/2,e=1e-10,n=pt;a.init=function(){this.R=this.a},a.forward=function(t){var a,r,h=t.x,o=t.y,u=s(h-this.long0);Math.abs(o)<=e&&(a=this.x0+this.R*u,r=this.y0);var l=n(2*Math.abs(o/Math.PI));(Math.abs(u)<=e||Math.abs(Math.abs(o)-i)<=e)&&(a=this.x0,r=o>=0?this.y0+Math.PI*this.R*Math.tan(.5*l):this.y0+Math.PI*this.R*-Math.tan(.5*l));var c=.5*Math.abs(Math.PI/u-u/Math.PI),f=c*c,d=Math.sin(l),p=Math.cos(l),m=p/(d+p-1),y=m*m,M=m*(2/d-1),v=M*M,b=Math.PI*this.R*(c*(m-v)+Math.sqrt(f*(m-v)*(m-v)-(v+f)*(y-v)))/(v+f);0>u&&(b=-b),a=this.x0+b;var g=f+m;return b=Math.PI*this.R*(M*g-c*Math.sqrt((v+f)*(f+1)-g*g))/(v+f),r=o>=0?this.y0+b:this.y0-b,t.x=a,t.y=r,t},a.inverse=function(t){var a,i,n,r,h,o,u,l,c,f,d,p,m;return t.x-=this.x0,t.y-=this.y0,d=Math.PI*this.R,n=t.x/d,r=t.y/d,h=n*n+r*r,o=-Math.abs(r)*(1+h),u=o-2*r*r+n*n,l=-2*o+1+2*r*r+h*h,m=r*r/l+(2*u*u*u/l/l/l-9*o*u/l/l)/27,c=(o-u*u/3/l)/l,f=2*Math.sqrt(-c/3),d=3*m/c/f,Math.abs(d)>1&&(d=d>=0?1:-1),p=Math.acos(d)/3,i=t.y>=0?(-f*Math.cos(p+Math.PI/3)-u/3/l)*Math.PI:-(-f*Math.cos(p+Math.PI/3)-u/3/l)*Math.PI,a=Math.abs(n)<e?this.long0:s(this.long0+Math.PI*(h-1+Math.sqrt(1+2*(n*n-r*r)+h*h))/2/n),t.x=a,t.y=i,t},a.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]}),Rt=Tt&&"object"==typeof Tt&&"default"in Tt?Tt["default"]:Tt,At=m(function(t){var a=Math.PI/2,s=jt;t.exports=function(t){return Math.abs(t)<a?t:t-s(t)*Math.PI}}),qt=At&&"object"==typeof At&&"default"in At?At["default"]:At,Gt=m(function(t){t.exports=function(t,a,s){var i=t*a;return s/Math.sqrt(1-i*i)}}),Dt=Gt&&"object"==typeof Gt&&"default"in Gt?Gt["default"]:Gt,Bt=m(function(t,a){var s=Pt,i=xt,e=gt,n=vt,r=Dt,h=Ct,o=kt,u=qt,l=ft,c=1e-10;a.init=function(){Math.abs(this.lat1+this.lat2)<c||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=s(this.es),this.e1=i(this.es),this.e2=e(this.es),this.e3=n(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=r(this.e,this.sinphi,this.cosphi),this.ml1=h(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<c?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=r(this.e,this.sinphi,this.cosphi),this.ml2=h(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=h(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},a.forward=function(t){var a,s=t.x,i=t.y;if(this.sphere)a=this.a*(this.g-i);else{var e=h(this.e0,this.e1,this.e2,this.e3,i);a=this.a*(this.g-e)}var n=this.ns*o(s-this.long0),r=this.x0+a*Math.sin(n),u=this.y0+this.rh-a*Math.cos(n);return t.x=r,t.y=u,t},a.inverse=function(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var a,s,i,e;this.ns>=0?(s=Math.sqrt(t.x*t.x+t.y*t.y),a=1):(s=-Math.sqrt(t.x*t.x+t.y*t.y),a=-1);var n=0;if(0!==s&&(n=Math.atan2(a*t.x,a*t.y)),this.sphere)return e=o(this.long0+n/this.ns),i=u(this.g-s/this.a),t.x=e,t.y=i,t;var r=this.g-s/this.a;return i=l(r,this.e0,this.e1,this.e2,this.e3),e=o(this.long0+n/this.ns),t.x=e,t.y=i,t},a.names=["Equidistant_Conic","eqdc"]}),Lt=Bt&&"object"==typeof Bt&&"default"in Bt?Bt["default"]:Bt,zt=m(function(t,a){var s=kt,i=1e-10;a.init=function(){},a.forward=function(t){for(var a=t.x,e=t.y,n=s(a-this.long0),r=e,h=Math.PI*Math.sin(e),o=0;!0;o++){var u=-(r+Math.sin(r)-h)/(1+Math.cos(r));if(r+=u,Math.abs(u)<i)break}r/=2,Math.PI/2-Math.abs(e)<i&&(n=0);var l=.900316316158*this.a*n*Math.cos(r)+this.x0,c=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=l,t.y=c,t},a.inverse=function(t){var a,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),a=Math.asin(i);var e=s(this.long0+t.x/(.900316316158*this.a*Math.cos(a)));e<-Math.PI&&(e=-Math.PI),e>Math.PI&&(e=Math.PI),i=(2*a+Math.sin(2*a))/Math.PI,Math.abs(i)>1&&(i=1);var n=Math.asin(i);return t.x=e,t.y=n,t},a.names=["Mollweide","moll"]}),Ut=zt&&"object"==typeof zt&&"default"in zt?zt["default"]:zt,Ft=m(function(t){t.exports=function(t,a,s,i){return s*=a,a*=a,i[0]*t-s*(i[1]+a*(i[2]+a*(i[3]+a*i[4])))}}),Ht=Ft&&"object"==typeof Ft&&"default"in Ft?Ft["default"]:Ft,Vt=m(function(t){var a=Ht,s=1e-10,i=20;t.exports=function(t,e,n){for(var r=1/(1-e),h=t,o=i;o;--o){var u=Math.sin(h),l=1-e*u*u;if(l=(a(h,u,Math.cos(h),n)-t)*(l*Math.sqrt(l))*r,h-=l,Math.abs(l)<s)return h}return h}}),Qt=Vt&&"object"==typeof Vt&&"default"in Vt?Vt["default"]:Vt,Wt=m(function(t){var a=1,s=.25,i=.046875,e=.01953125,n=.01068115234375,r=.75,h=.46875,o=.013020833333333334,u=.007120768229166667,l=.3645833333333333,c=.005696614583333333,f=.3076171875;t.exports=function(t){var d=[];d[0]=a-t*(s+t*(i+t*(e+t*n))),d[1]=t*(r-t*(i+t*(e+t*n)));var p=t*t;return d[2]=p*(h-t*(o+t*u)),p*=t,d[3]=p*(l-t*c),d[4]=p*t*f,d}}),Xt=Wt&&"object"==typeof Wt&&"default"in Wt?Wt["default"]:Wt,Jt=m(function(t,a){var s=kt,i=qt,e=Xt,n=20,r=Ht,h=Qt,o=Math.PI/2,u=1e-10,l=pt;a.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=e(this.es)},a.forward=function(t){var a,i,e=t.x,h=t.y;if(e=s(e-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(h),l=n;l;--l){
var c=(this.m*h+Math.sin(h)-o)/(this.m+Math.cos(h));if(h-=c,Math.abs(c)<u)break}else h=1!==this.n?Math.asin(this.n*Math.sin(h)):h;a=this.a*this.C_x*e*(this.m+Math.cos(h)),i=this.a*this.C_y*h}else{var f=Math.sin(h),d=Math.cos(h);i=this.a*r(h,f,d,this.en),a=this.a*e*d/Math.sqrt(1-this.es*f*f)}return t.x=a,t.y=i,t},a.inverse=function(t){var a,e,n,r;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,a=t.y/this.a,this.sphere?(a/=this.C_y,n/=this.C_x*(this.m+Math.cos(a)),this.m?a=l((this.m*a+Math.sin(a))/this.n):1!==this.n&&(a=l(Math.sin(a)/this.n)),n=s(n+this.long0),a=i(a)):(a=h(t.y/this.a,this.es,this.en),r=Math.abs(a),o>r?(r=Math.sin(a),e=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(a)),n=s(e)):o>r-u&&(n=this.long0)),t.x=n,t.y=a,t},a.names=["Sinusoidal","sinu"]}),Kt=Jt&&"object"==typeof Jt&&"default"in Jt?Jt["default"]:Jt,Zt=m(function(t,a){var s=kt;a.init=function(){},a.forward=function(t){var a=t.x,i=t.y,e=s(a-this.long0),n=this.x0+this.a*e,r=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=n,t.y=r,t},a.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var a=s(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=a,t.y=i,t},a.names=["Miller_Cylindrical","mill"]}),Yt=Zt&&"object"==typeof Zt&&"default"in Zt?Zt["default"]:Zt,$t=m(function(t,a){var s=484813681109536e-20;a.iterations=1,a.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},a.forward=function(t){var a,i=t.x,e=t.y,n=e-this.lat0,r=i-this.long0,h=n/s*1e-5,o=r,u=1,l=0;for(a=1;10>=a;a++)u*=h,l+=this.A[a]*u;var c,f,d=l,p=o,m=1,y=0,M=0,v=0;for(a=1;6>=a;a++)c=m*d-y*p,f=y*d+m*p,m=c,y=f,M=M+this.B_re[a]*m-this.B_im[a]*y,v=v+this.B_im[a]*m+this.B_re[a]*y;return t.x=v*this.a+this.x0,t.y=M*this.a+this.y0,t},a.inverse=function(t){var a,i,e,n=t.x,r=t.y,h=n-this.x0,o=r-this.y0,u=o/this.a,l=h/this.a,c=1,f=0,d=0,p=0;for(a=1;6>=a;a++)i=c*u-f*l,e=f*u+c*l,c=i,f=e,d=d+this.C_re[a]*c-this.C_im[a]*f,p=p+this.C_im[a]*c+this.C_re[a]*f;for(var m=0;m<this.iterations;m++){var y,M,v=d,b=p,g=u,_=l;for(a=2;6>=a;a++)y=v*d-b*p,M=b*d+v*p,v=y,b=M,g+=(a-1)*(this.B_re[a]*v-this.B_im[a]*b),_+=(a-1)*(this.B_im[a]*v+this.B_re[a]*b);v=1,b=0;var x=this.B_re[1],w=this.B_im[1];for(a=2;6>=a;a++)y=v*d-b*p,M=b*d+v*p,v=y,b=M,x+=a*(this.B_re[a]*v-this.B_im[a]*b),w+=a*(this.B_im[a]*v+this.B_re[a]*b);var P=x*x+w*w;d=(g*x+_*w)/P,p=(_*x-g*w)/P}var S=d,C=p,E=1,j=0;for(a=1;9>=a;a++)E*=S,j+=this.D[a]*E;var I=this.lat0+j*s*1e5,k=this.long0+C;return t.x=k,t.y=I,t},a.names=["New_Zealand_Map_Grid","nzmg"]}),ta=$t&&"object"==typeof $t&&"default"in $t?$t["default"]:$t,aa=m(function(t,a){var s=Pt,i=xt,e=gt,n=vt,r=kt,h=qt,o=Ct,u=1e-10,l=yt,c=20;a.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=s(this.es),this.e1=i(this.es),this.e2=e(this.es),this.e3=n(this.es),this.ml0=this.a*o(this.e0,this.e1,this.e2,this.e3,this.lat0)},a.forward=function(t){var a,s,i,e=t.x,n=t.y,c=r(e-this.long0);if(i=c*Math.sin(n),this.sphere)Math.abs(n)<=u?(a=this.a*c,s=-1*this.a*this.lat0):(a=this.a*Math.sin(i)/Math.tan(n),s=this.a*(h(n-this.lat0)+(1-Math.cos(i))/Math.tan(n)));else if(Math.abs(n)<=u)a=this.a*c,s=-1*this.ml0;else{var f=l(this.a,this.e,Math.sin(n))/Math.tan(n);a=f*Math.sin(i),s=this.a*o(this.e0,this.e1,this.e2,this.e3,n)-this.ml0+f*(1-Math.cos(i))}return t.x=a+this.x0,t.y=s+this.y0,t},a.inverse=function(t){var a,s,i,e,n,h,l,f,d;if(i=t.x-this.x0,e=t.y-this.y0,this.sphere)if(Math.abs(e+this.a*this.lat0)<=u)a=r(i/this.a+this.long0),s=0;else{h=this.lat0+e/this.a,l=i*i/this.a/this.a+h*h,f=h;var p;for(n=c;n;--n)if(p=Math.tan(f),d=-1*(h*(f*p+1)-f-.5*(f*f+l)*p)/((f-h)/p-1),f+=d,Math.abs(d)<=u){s=f;break}a=r(this.long0+Math.asin(i*Math.tan(f)/this.a)/Math.sin(s))}else if(Math.abs(e+this.ml0)<=u)s=0,a=r(this.long0+i/this.a);else{h=(this.ml0+e)/this.a,l=i*i/this.a/this.a+h*h,f=h;var m,y,M,v,b;for(n=c;n;--n)if(b=this.e*Math.sin(f),m=Math.sqrt(1-b*b)*Math.tan(f),y=this.a*o(this.e0,this.e1,this.e2,this.e3,f),M=this.e0-2*this.e1*Math.cos(2*f)+4*this.e2*Math.cos(4*f)-6*this.e3*Math.cos(6*f),v=y/this.a,d=(h*(m*v+1)-v-.5*m*(v*v+l))/(this.es*Math.sin(2*f)*(v*v+l-2*h*v)/(4*m)+(h-v)*(m*M-2/Math.sin(2*f))-M),f-=d,Math.abs(d)<=u){s=f;break}m=Math.sqrt(1-this.es*Math.pow(Math.sin(s),2))*Math.tan(s),a=r(this.long0+Math.asin(i*m/this.a)/Math.sin(s))}return t.x=a,t.y=s,t},a.names=["Polyconic","poly"]}),sa=aa&&"object"==typeof aa&&"default"in aa?aa["default"]:aa,ia=m(function(t,a){var s=kt,i=qt;a.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},a.forward=function(t){var a=t.x,e=t.y,n=s(a-this.long0),r=i(e-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*r,t},a.inverse=function(t){var a=t.x,e=t.y;return t.x=s(this.long0+(a-this.x0)/(this.a*this.rc)),t.y=i(this.lat0+(e-this.y0)/this.a),t},a.names=["Equirectangular","Equidistant_Cylindrical","eqc"]}),ea=ia&&"object"==typeof ia&&"default"in ia?ia["default"]:ia,na=m(function(t){var a=Math.PI/2;t.exports=function(t,s){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(s)-i)<1e-6)return 0>s?-1*a:a;for(var e,n,r,h,o=Math.asin(.5*s),u=0;30>u;u++)if(n=Math.sin(o),r=Math.cos(o),h=t*n,e=Math.pow(1-h*h,2)/(2*r)*(s/(1-t*t)-n/(1-h*h)+.5/t*Math.log((1-h)/(1+h))),o+=e,Math.abs(e)<=1e-10)return o;return NaN}}),ra=na&&"object"==typeof na&&"default"in na?na["default"]:na,ha=m(function(t){t.exports=function(t,a){var s;return t>1e-7?(s=t*a,(1-t*t)*(a/(1-s*s)-.5/t*Math.log((1-s)/(1+s)))):2*a}}),oa=ha&&"object"==typeof ha&&"default"in ha?ha["default"]:ha,ua=m(function(t,a){var s=kt,i=oa,e=Dt,n=ra;a.init=function(){this.sphere||(this.k0=e(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},a.forward=function(t){var a,e,n=t.x,r=t.y,h=s(n-this.long0);if(this.sphere)a=this.x0+this.a*h*Math.cos(this.lat_ts),e=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var o=i(this.e,Math.sin(r));a=this.x0+this.a*this.k0*h,e=this.y0+this.a*o*.5/this.k0}return t.x=a,t.y=e,t},a.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var a,i;return this.sphere?(a=s(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=n(this.e,2*t.y*this.k0/this.a),a=s(this.long0+t.x/(this.a*this.k0))),t.x=a,t.y=i,t},a.names=["cea"]}),la=ua&&"object"==typeof ua&&"default"in ua?ua["default"]:ua,ca=m(function(t,a){var s=kt,i=1e-10,e=pt;a.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},a.forward=function(t){var a,e,n,r,h,o,u,l,c=t.x,f=t.y;return n=s(c-this.long0),a=Math.sin(f),e=Math.cos(f),r=Math.cos(n),o=this.sin_p14*a+this.cos_p14*e*r,h=1,o>0||Math.abs(o)<=i?(u=this.x0+this.a*h*e*Math.sin(n)/o,l=this.y0+this.a*h*(this.cos_p14*a-this.sin_p14*e*r)/o):(u=this.x0+this.infinity_dist*e*Math.sin(n),l=this.y0+this.infinity_dist*(this.cos_p14*a-this.sin_p14*e*r)),t.x=u,t.y=l,t},a.inverse=function(t){var a,i,n,r,h,o;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(a=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(a,this.rc),i=Math.sin(r),n=Math.cos(r),o=e(n*this.sin_p14+t.y*i*this.cos_p14/a),h=Math.atan2(t.x*i,a*this.cos_p14*n-t.y*this.sin_p14*i),h=s(this.long0+h)):(o=this.phic0,h=0),t.x=h,t.y=o,t},a.names=["gnom"]}),fa=ca&&"object"==typeof ca&&"default"in ca?ca["default"]:ca,da=m(function(t,a){var s=1e-10,i=Dt,e=oa,n=kt,r=pt;a.init=function(){Math.abs(this.lat1+this.lat2)<s||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=i(this.e3,this.sin_po,this.cos_po),this.qs1=e(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=i(this.e3,this.sin_po,this.cos_po),this.qs2=e(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=e(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>s?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},a.forward=function(t){var a=t.x,s=t.y;this.sin_phi=Math.sin(s),this.cos_phi=Math.cos(s);var i=e(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,h=this.ns0*n(a-this.long0),o=r*Math.sin(h)+this.x0,u=this.rh-r*Math.cos(h)+this.y0;return t.x=o,t.y=u,t},a.inverse=function(t){var a,s,i,e,r,h;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(a=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(a=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),e=0,0!==a&&(e=Math.atan2(i*t.x,i*t.y)),i=a*this.ns0/this.a,this.sphere?h=Math.asin((this.c-i*i)/(2*this.ns0)):(s=(this.c-i*i)/this.ns0,h=this.phi1z(this.e3,s)),r=n(e/this.ns0+this.long0),t.x=r,t.y=h,t},a.phi1z=function(t,a){var i,e,n,h,o,u=r(.5*a);if(s>t)return u;for(var l=t*t,c=1;25>=c;c++)if(i=Math.sin(u),e=Math.cos(u),n=t*i,h=1-n*n,o=.5*h*h/e*(a/(1-l)-i/h+.5/t*Math.log((1-n)/(1+n))),u+=o,Math.abs(o)<=1e-7)return u;return null},a.names=["Albers_Conic_Equal_Area","Albers","aea"]}),pa=da&&"object"==typeof da&&"default"in da?da["default"]:da,ma=m(function(t,a){var s=Math.PI/2,i=Math.PI/4,e=1e-10,n=oa,r=kt;a.S_POLE=1,a.N_POLE=2,a.EQUIT=3,a.OBLIQ=4,a.init=function(){var t=Math.abs(this.lat0);if(Math.abs(t-s)<e?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<e?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var a;switch(this.qp=n(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),a=Math.sin(this.lat0),this.sinb1=n(this.e,a)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*a*a)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},a.forward=function(t){var a,h,o,u,l,c,f,d,p,m,y=t.x,M=t.y;if(y=r(y-this.long0),this.sphere){if(l=Math.sin(M),m=Math.cos(M),o=Math.cos(y),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h=this.mode===this.EQUIT?1+m*o:1+this.sinph0*l+this.cosph0*m*o,e>=h)return null;h=Math.sqrt(2/h),a=h*m*Math.sin(y),h*=this.mode===this.EQUIT?l:this.cosph0*l-this.sinph0*m*o}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(o=-o),Math.abs(M+this.phi0)<e)return null;h=i-.5*M,h=2*(this.mode===this.S_POLE?Math.cos(h):Math.sin(h)),a=h*Math.sin(y),h*=o}}else{switch(f=0,d=0,p=0,o=Math.cos(y),u=Math.sin(y),l=Math.sin(M),c=n(this.e,l),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=c/this.qp,d=Math.sqrt(1-f*f)),this.mode){case this.OBLIQ:p=1+this.sinb1*f+this.cosb1*d*o;break;case this.EQUIT:p=1+d*o;break;case this.N_POLE:p=s+M,c=this.qp-c;break;case this.S_POLE:p=M-s,c=this.qp+c}if(Math.abs(p)<e)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:p=Math.sqrt(2/p),h=this.mode===this.OBLIQ?this.ymf*p*(this.cosb1*f-this.sinb1*d*o):(p=Math.sqrt(2/(1+d*o)))*f*this.ymf,a=this.xmf*p*d*u;break;case this.N_POLE:case this.S_POLE:c>=0?(a=(p=Math.sqrt(c))*u,h=o*(this.mode===this.S_POLE?p:-p)):a=h=0}}return t.x=this.a*a+this.x0,t.y=this.a*h+this.y0,t},a.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var a,i,n,h,o,u,l,c=t.x/this.a,f=t.y/this.a;if(this.sphere){var d,p=0,m=0;if(d=Math.sqrt(c*c+f*f),i=.5*d,i>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(m=Math.sin(i),p=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(d)<=e?0:Math.asin(f*m/d),c*=m,f=p*d;break;case this.OBLIQ:i=Math.abs(d)<=e?this.phi0:Math.asin(p*this.sinph0+f*m*this.cosph0/d),c*=m*this.cosph0,f=(p-Math.sin(i)*this.sinph0)*d;break;case this.N_POLE:f=-f,i=s-i;break;case this.S_POLE:i-=s}a=0!==f||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(c,f):0}else{if(l=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c/=this.dd,f*=this.dd,u=Math.sqrt(c*c+f*f),e>u)return t.x=0,t.y=this.phi0,t;h=2*Math.asin(.5*u/this.rq),n=Math.cos(h),c*=h=Math.sin(h),this.mode===this.OBLIQ?(l=n*this.sinb1+f*h*this.cosb1/u,o=this.qp*l,f=u*this.cosb1*n-f*this.sinb1*h):(l=f*h/u,o=this.qp*l,f=u*n)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(f=-f),o=c*c+f*f,!o)return t.x=0,t.y=this.phi0,t;l=1-o/this.qp,this.mode===this.S_POLE&&(l=-l)}a=Math.atan2(c,f),i=this.authlat(Math.asin(l),this.apa)}return t.x=r(this.long0+a),t.y=i,t},a.P00=.3333333333333333,a.P01=.17222222222222222,a.P02=.10257936507936508,a.P10=.06388888888888888,a.P11=.0664021164021164,a.P20=.016415012942191543,a.authset=function(t){var a,s=[];return s[0]=t*this.P00,a=t*t,s[0]+=a*this.P01,s[1]=a*this.P10,a*=t,s[0]+=a*this.P02,s[1]+=a*this.P11,s[2]=a*this.P20,s},a.authlat=function(t,a){var s=t+t;return t+a[0]*Math.sin(s)+a[1]*Math.sin(s+s)+a[2]*Math.sin(s+s+s)},a.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]}),ya=ma&&"object"==typeof ma&&"default"in ma?ma["default"]:ma,Ma=m(function(t,a){var s=Ct,i=Pt,e=xt,n=gt,r=vt,h=yt,o=kt,u=qt,l=ft,c=Math.PI/2,f=1e-10;a.init=function(){this.sphere||(this.e0=i(this.es),this.e1=e(this.es),this.e2=n(this.es),this.e3=r(this.es),this.ml0=this.a*s(this.e0,this.e1,this.e2,this.e3,this.lat0))},a.forward=function(t){var a,i,e=t.x,n=t.y;if(e=o(e-this.long0),this.sphere)a=this.a*Math.asin(Math.cos(n)*Math.sin(e)),i=this.a*(Math.atan2(Math.tan(n),Math.cos(e))-this.lat0);else{var r=Math.sin(n),u=Math.cos(n),l=h(this.a,this.e,r),c=Math.tan(n)*Math.tan(n),f=e*Math.cos(n),d=f*f,p=this.es*u*u/(1-this.es),m=this.a*s(this.e0,this.e1,this.e2,this.e3,n);a=l*f*(1-d*c*(1/6-(8-c+8*p)*d/120)),i=m-this.ml0+l*r/u*d*(.5+(5-c+6*p)*d/24)}return t.x=a+this.x0,t.y=i+this.y0,t},a.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var a,s,i=t.x/this.a,e=t.y/this.a;if(this.sphere){var n=e+this.lat0;a=Math.asin(Math.sin(n)*Math.cos(i)),s=Math.atan2(Math.tan(i),Math.cos(n))}else{var r=this.ml0/this.a+e,d=l(r,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(d)-c)<=f)return t.x=this.long0,t.y=c,0>e&&(t.y*=-1),t;var p=h(this.a,this.e,Math.sin(d)),m=p*p*p/this.a/this.a*(1-this.es),y=Math.pow(Math.tan(d),2),M=i*this.a/p,v=M*M;a=d-p*Math.tan(d)/m*M*M*(.5-(1+3*y)*M*M/24),s=M*(1-v*(y/3+(1+3*y)*y*v/15))/Math.cos(d)}return t.x=o(s+this.long0),t.y=u(a),t},a.names=["Cassini","Cassini_Soldner","cass"]}),va=Ma&&"object"==typeof Ma&&"default"in Ma?Ma["default"]:Ma,ba=m(function(t,a){var s=kt;a.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},a.forward=function(t){var a,i,e,n,r,h,o,u=t.x,l=t.y,c=s(u-this.long0);return a=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/a)-this.s45),e=-c*this.alfa,n=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(e)),r=Math.asin(Math.cos(i)*Math.sin(e)/Math.cos(n)),h=this.n*r,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(n/2+this.s45),this.n),t.y=o*Math.cos(h)/1,t.x=o*Math.sin(h)/1,this.czech||(t.y*=-1,t.x*=-1),t},a.inverse=function(t){var a,s,i,e,n,r,h,o,u=t.x;t.x=t.y,t.y=u,this.czech||(t.y*=-1,t.x*=-1),r=Math.sqrt(t.x*t.x+t.y*t.y),n=Math.atan2(t.y,t.x),e=n/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/r,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),a=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(e)),s=Math.asin(Math.cos(i)*Math.sin(e)/Math.cos(a)),t.x=this.long0-s/this.alfa,h=a,o=0;var l=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(a/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.e/2))-this.s45),Math.abs(h-t.y)<1e-10&&(o=1),h=t.y,l+=1;while(0===o&&15>l);return l>=15?null:t},a.names=["Krovak","krovak"]}),ga=ba&&"object"==typeof ba&&"default"in ba?ba["default"]:ba,_a=m(function(t){var a=Math.PI/2;t.exports=function(t,s){for(var i,e,n=.5*t,r=a-2*Math.atan(s),h=0;15>=h;h++)if(i=t*Math.sin(r),e=a-2*Math.atan(s*Math.pow((1-i)/(1+i),n))-r,r+=e,Math.abs(e)<=1e-10)return r;return-9999}}),xa=_a&&"object"==typeof _a&&"default"in _a?_a["default"]:_a,wa=m(function(t){var a=Math.PI/2;t.exports=function(t,s,i){var e=t*i,n=.5*t;return e=Math.pow((1-e)/(1+e),n),Math.tan(.5*(a-s))/e}}),Pa=wa&&"object"==typeof wa&&"default"in wa?wa["default"]:wa,Sa=m(function(t,a){var s=1e-10,i=Dt,e=Pa,n=Math.PI/2,r=jt,h=kt,o=xa;a.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<s)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var a=Math.sin(this.lat1),n=Math.cos(this.lat1),r=i(this.e,a,n),h=e(this.e,this.lat1,a),o=Math.sin(this.lat2),u=Math.cos(this.lat2),l=i(this.e,o,u),c=e(this.e,this.lat2,o),f=e(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>s?this.ns=Math.log(r/l)/Math.log(h/c):this.ns=a,isNaN(this.ns)&&(this.ns=a),this.f0=r/(this.ns*Math.pow(h,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}},a.forward=function(t){var a=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=s&&(i=r(i)*(n-2*s));var o,u,l=Math.abs(Math.abs(i)-n);if(l>s)o=e(this.e,i,Math.sin(i)),u=this.a*this.f0*Math.pow(o,this.ns);else{if(l=i*this.ns,0>=l)return null;u=0}var c=this.ns*h(a-this.long0);return t.x=this.k0*(u*Math.sin(c))+this.x0,t.y=this.k0*(this.rh-u*Math.cos(c))+this.y0,t},a.inverse=function(t){var a,s,i,e,r,u=(t.x-this.x0)/this.k0,l=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(a=Math.sqrt(u*u+l*l),s=1):(a=-Math.sqrt(u*u+l*l),s=-1);var c=0;if(0!==a&&(c=Math.atan2(s*u,s*l)),0!==a||this.ns>0){if(s=1/this.ns,i=Math.pow(a/(this.a*this.f0),s),e=o(this.e,i),-9999===e)return null}else e=-n;return r=h(c/this.ns+this.long0),t.x=r,t.y=e,t},a.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]}),Ca=Sa&&"object"==typeof Sa&&"default"in Sa?Sa["default"]:Sa,Ea=m(function(t,a){var s=Pa,i=kt,e=xa,n=Math.PI/2,r=Math.PI/4,h=1e-10;a.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),a=Math.cos(this.lat0),e=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(a,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-e*e);var n=s(this.e,this.lat0,t),r=this.bl/a*Math.sqrt((1-this.es)/(1-e*e));1>r*r&&(r=1);var h,o;if(isNaN(this.longc)){var u=s(this.e,this.lat1,Math.sin(this.lat1)),l=s(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(r+Math.sqrt(r*r-1))*Math.pow(n,this.bl):this.el=(r-Math.sqrt(r*r-1))*Math.pow(n,this.bl);var c=Math.pow(u,this.bl),f=Math.pow(l,this.bl);h=this.el/c,o=.5*(h-1/h);var d=(this.el*this.el-f*c)/(this.el*this.el+f*c),p=(f-c)/(f+c),m=i(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(d*Math.tan(.5*this.bl*m)/p)/this.bl,this.long0=i(this.long0);var y=i(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*y)/o),this.alpha=Math.asin(r*Math.sin(this.gamma0))}else h=this.lat0>=0?r+Math.sqrt(r*r-1):r-Math.sqrt(r*r-1),this.el=h*Math.pow(n,this.bl),o=.5*(h-1/h),this.gamma0=Math.asin(Math.sin(this.alpha)/r),this.long0=this.longc-Math.asin(o*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(r*r-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(r*r-1),Math.cos(this.alpha))},a.forward=function(t){var a,e,o,u=t.x,l=t.y,c=i(u-this.long0);if(Math.abs(Math.abs(l)-n)<=h)o=l>0?-1:1,e=this.al/this.bl*Math.log(Math.tan(r+o*this.gamma0*.5)),a=-1*o*n*this.al/this.bl;else{var f=s(this.e,l,Math.sin(l)),d=this.el/Math.pow(f,this.bl),p=.5*(d-1/d),m=.5*(d+1/d),y=Math.sin(this.bl*c),M=(p*Math.sin(this.gamma0)-y*Math.cos(this.gamma0))/m;e=Math.abs(Math.abs(M)-1)<=h?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-M)/(1+M))/this.bl,a=Math.abs(Math.cos(this.bl*c))<=h?this.al*this.bl*c:this.al*Math.atan2(p*Math.cos(this.gamma0)+y*Math.sin(this.gamma0),Math.cos(this.bl*c))/this.bl}return this.no_rot?(t.x=this.x0+a,t.y=this.y0+e):(a-=this.uc,t.x=this.x0+e*Math.cos(this.alpha)+a*Math.sin(this.alpha),t.y=this.y0+a*Math.cos(this.alpha)-e*Math.sin(this.alpha)),t},a.inverse=function(t){var a,s;this.no_rot?(s=t.y-this.y0,a=t.x-this.x0):(s=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),a=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),a+=this.uc);var r=Math.exp(-1*this.bl*s/this.al),o=.5*(r-1/r),u=.5*(r+1/r),l=Math.sin(this.bl*a/this.al),c=(l*Math.cos(this.gamma0)+o*Math.sin(this.gamma0))/u,f=Math.pow(this.el/Math.sqrt((1+c)/(1-c)),1/this.bl);return Math.abs(c-1)<h?(t.x=this.long0,t.y=n):Math.abs(c+1)<h?(t.x=this.long0,t.y=-1*n):(t.y=e(this.e,f),t.x=i(this.long0-Math.atan2(o*Math.cos(this.gamma0)-l*Math.sin(this.gamma0),Math.cos(this.bl*a/this.al))/this.bl)),t},a.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]}),ja=Ea&&"object"==typeof Ea&&"default"in Ea?Ea["default"]:Ea,Ia=m(function(t,a){a.init=function(){var t=this.lat0;this.lambda0=this.long0;var a=Math.sin(t),s=this.a,i=this.rf,e=1/i,n=2*e-Math.pow(e,2),r=this.e=Math.sqrt(n);this.R=this.k0*s*Math.sqrt(1-n)/(1-n*Math.pow(a,2)),this.alpha=Math.sqrt(1+n/(1-n)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(a/this.alpha);var h=Math.log(Math.tan(Math.PI/4+this.b0/2)),o=Math.log(Math.tan(Math.PI/4+t/2)),u=Math.log((1+r*a)/(1-r*a));this.K=h-this.alpha*o+this.alpha*r/2*u},a.forward=function(t){var a=Math.log(Math.tan(Math.PI/4-t.y/2)),s=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(a+s)+this.K,e=2*(Math.atan(Math.exp(i))-Math.PI/4),n=this.alpha*(t.x-this.lambda0),r=Math.atan(Math.sin(n)/(Math.sin(this.b0)*Math.tan(e)+Math.cos(this.b0)*Math.cos(n))),h=Math.asin(Math.cos(this.b0)*Math.sin(e)-Math.sin(this.b0)*Math.cos(e)*Math.cos(n));return t.y=this.R/2*Math.log((1+Math.sin(h))/(1-Math.sin(h)))+this.y0,t.x=this.R*r+this.x0,t},a.inverse=function(t){for(var a=t.x-this.x0,s=t.y-this.y0,i=a/this.R,e=2*(Math.atan(Math.exp(s/this.R))-Math.PI/4),n=Math.asin(Math.cos(this.b0)*Math.sin(e)+Math.sin(this.b0)*Math.cos(e)*Math.cos(i)),r=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(e))),h=this.lambda0+r/this.alpha,o=0,u=n,l=-1e3,c=0;Math.abs(u-l)>1e-7;){if(++c>20)return;o=1/this.alpha*(Math.log(Math.tan(Math.PI/4+n/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),l=u,u=2*Math.atan(Math.exp(o))-Math.PI/2}return t.x=h,t.y=u,t},a.names=["somerc"]}),ka=Ia&&"object"==typeof Ia&&"default"in Ia?Ia["default"]:Ia,Oa=m(function(t,a){var s=Math.PI/2,i=1e-10,e=jt,n=Dt,r=Pa,h=xa,o=kt;a.ssfn_=function(t,a,i){return a*=i,Math.tan(.5*(s+t))*Math.pow((1-a)/(1+a),.5*i)},a.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=i&&(this.k0=.5*(1+e(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=i&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=i&&(this.k0=.5*this.cons*n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/r(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=n(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-s,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},a.forward=function(t){var a,e,n,h,u,l,c=t.x,f=t.y,d=Math.sin(f),p=Math.cos(f),m=o(c-this.long0);return Math.abs(Math.abs(c-this.long0)-Math.PI)<=i&&Math.abs(f+this.lat0)<=i?(t.x=NaN,t.y=NaN,t):this.sphere?(a=2*this.k0/(1+this.sinlat0*d+this.coslat0*p*Math.cos(m)),t.x=this.a*a*p*Math.sin(m)+this.x0,t.y=this.a*a*(this.coslat0*d-this.sinlat0*p*Math.cos(m))+this.y0,t):(e=2*Math.atan(this.ssfn_(f,d,this.e))-s,h=Math.cos(e),n=Math.sin(e),Math.abs(this.coslat0)<=i?(u=r(this.e,f*this.con,this.con*d),l=2*this.a*this.k0*u/this.cons,t.x=this.x0+l*Math.sin(c-this.long0),t.y=this.y0-this.con*l*Math.cos(c-this.long0),t):(Math.abs(this.sinlat0)<i?(a=2*this.a*this.k0/(1+h*Math.cos(m)),t.y=a*n):(a=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*n+this.cosX0*h*Math.cos(m))),t.y=a*(this.cosX0*n-this.sinX0*h*Math.cos(m))+this.y0),t.x=a*h*Math.sin(m)+this.x0,t))},a.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var a,e,n,r,u,l=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var c=2*Math.atan(l/(.5*this.a*this.k0));return a=this.long0,e=this.lat0,i>=l?(t.x=a,t.y=e,t):(e=Math.asin(Math.cos(c)*this.sinlat0+t.y*Math.sin(c)*this.coslat0/l),a=o(Math.abs(this.coslat0)<i?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(c),l*this.coslat0*Math.cos(c)-t.y*this.sinlat0*Math.sin(c))),t.x=a,t.y=e,t)}if(Math.abs(this.coslat0)<=i){if(i>=l)return e=this.lat0,a=this.long0,t.x=a,t.y=e,t;t.x*=this.con,t.y*=this.con,n=l*this.cons/(2*this.a*this.k0),e=this.con*h(this.e,n),a=this.con*o(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(l*this.cosX0/(2*this.a*this.k0*this.ms1)),a=this.long0,i>=l?u=this.X0:(u=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/l),a=o(this.long0+Math.atan2(t.x*Math.sin(r),l*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),e=-1*h(this.e,Math.tan(.5*(s+u)));return t.x=a,t.y=e,t},a.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]}),Na=Oa&&"object"==typeof Oa&&"default"in Oa?Oa["default"]:Oa,Ta=m(function(t){t.exports=function(t,a){return Math.pow((1-t)/(1+t),a)}}),Ra=Ta&&"object"==typeof Ta&&"default"in Ta?Ta["default"]:Ta,Aa=m(function(t,a){var s=Math.PI/4,i=Ra,e=Math.PI/2,n=20;a.init=function(){var t=Math.sin(this.lat0),a=Math.cos(this.lat0);a*=a,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*a*a/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+s)/(Math.pow(Math.tan(.5*this.lat0+s),this.C)*i(this.e*t,this.ratexp))},a.forward=function(t){var a=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+s),this.C)*i(this.e*Math.sin(n),this.ratexp))-e,t.x=this.C*a,t},a.inverse=function(t){for(var a=1e-14,r=t.x/this.C,h=t.y,o=Math.pow(Math.tan(.5*h+s)/this.K,1/this.C),u=n;u>0&&(h=2*Math.atan(o*i(this.e*Math.sin(t.y),-.5*this.e))-e,!(Math.abs(h-t.y)<a));--u)t.y=h;return u?(t.x=r,t.y=h,t):null},a.names=["gauss"]}),qa=Aa&&"object"==typeof Aa&&"default"in Aa?Aa["default"]:Aa,Ga=m(function(t,a){var s=qa,i=kt;a.init=function(){s.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},a.forward=function(t){var a,e,n,r;return t.x=i(t.x-this.long0),s.forward.apply(this,[t]),a=Math.sin(t.y),e=Math.cos(t.y),n=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*a+this.cosc0*e*n),t.x=r*e*Math.sin(t.x),t.y=r*(this.cosc0*a-this.sinc0*e*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},a.inverse=function(t){var a,e,n,r,h;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,h=Math.sqrt(t.x*t.x+t.y*t.y)){var o=2*Math.atan2(h,this.R2);a=Math.sin(o),e=Math.cos(o),r=Math.asin(e*this.sinc0+t.y*a*this.cosc0/h),n=Math.atan2(t.x*a,h*this.cosc0*e-t.y*this.sinc0*a)}else r=this.phic0,n=0;return t.x=n,t.y=r,s.inverse.apply(this,[t]),t.x=i(t.x+this.long0),t},a.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]}),Da=Ga&&"object"==typeof Ga&&"default"in Ga?Ga["default"]:Ga,Ba=m(function(t,a){var s=Pt,i=xt,e=gt,n=vt,r=Ct,h=kt,o=Math.PI/2,u=1e-10,l=jt,c=pt;a.init=function(){this.e0=s(this.es),this.e1=i(this.es),this.e2=e(this.es),this.e3=n(this.es),this.ml0=this.a*r(this.e0,this.e1,this.e2,this.e3,this.lat0)},a.forward=function(t){var a,s,i,e=t.x,n=t.y,o=h(e-this.long0),u=Math.sin(n),l=Math.cos(n);if(this.sphere){var c=l*Math.sin(o);if(Math.abs(Math.abs(c)-1)<1e-10)return 93;s=.5*this.a*this.k0*Math.log((1+c)/(1-c)),a=Math.acos(l*Math.cos(o)/Math.sqrt(1-c*c)),0>n&&(a=-a),i=this.a*this.k0*(a-this.lat0)}else{var f=l*o,d=Math.pow(f,2),p=this.ep2*Math.pow(l,2),m=Math.tan(n),y=Math.pow(m,2);a=1-this.es*Math.pow(u,2);var M=this.a/Math.sqrt(a),v=this.a*r(this.e0,this.e1,this.e2,this.e3,n);s=this.k0*M*f*(1+d/6*(1-y+p+d/20*(5-18*y+Math.pow(y,2)+72*p-58*this.ep2)))+this.x0,i=this.k0*(v-this.ml0+M*m*(d*(.5+d/24*(5-y+9*p+4*Math.pow(p,2)+d/30*(61-58*y+Math.pow(y,2)+600*p-330*this.ep2)))))+this.y0}return t.x=s,t.y=i,t},a.inverse=function(t){var a,s,i,e,n,r,f=6;if(this.sphere){var d=Math.exp(t.x/(this.a*this.k0)),p=.5*(d-1/d),m=this.lat0+t.y/(this.a*this.k0),y=Math.cos(m);a=Math.sqrt((1-y*y)/(1+p*p)),n=c(a),0>m&&(n=-n),r=0===p&&0===y?this.long0:h(Math.atan2(p,y)+this.long0)}else{var M=t.x-this.x0,v=t.y-this.y0;for(a=(this.ml0+v/this.k0)/this.a,s=a,e=0;!0&&(i=(a+this.e1*Math.sin(2*s)-this.e2*Math.sin(4*s)+this.e3*Math.sin(6*s))/this.e0-s,s+=i,!(Math.abs(i)<=u));e++)if(e>=f)return 95;if(Math.abs(s)<o){var b=Math.sin(s),g=Math.cos(s),_=Math.tan(s),x=this.ep2*Math.pow(g,2),w=Math.pow(x,2),P=Math.pow(_,2),S=Math.pow(P,2);a=1-this.es*Math.pow(b,2);var C=this.a/Math.sqrt(a),E=C*(1-this.es)/a,j=M/(C*this.k0),I=Math.pow(j,2);n=s-C*_*I/E*(.5-I/24*(5+3*P+10*x-4*w-9*this.ep2-I/30*(61+90*P+298*x+45*S-252*this.ep2-3*w))),r=h(this.long0+j*(1-I/6*(1+2*P+x-I/20*(5-2*x+28*P-3*w+8*this.ep2+24*S)))/g)}else n=o*l(v),r=this.long0}return t.x=r,t.y=n,t},a.names=["Transverse_Mercator","Transverse Mercator","tmerc"]}),La=Ba&&"object"==typeof Ba&&"default"in Ba?Ba["default"]:Ba,za=m(function(t,a){var s=.017453292519943295,i=La;a.dependsOn="tmerc",a.init=function(){this.zone&&(this.lat0=0,this.long0=(6*Math.abs(this.zone)-183)*s,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,i.init.apply(this),this.forward=i.forward,this.inverse=i.inverse)},a.names=["Universal Transverse Mercator System","utm"]}),Ua=za&&"object"==typeof za&&"default"in za?za["default"]:za,Fa=m(function(t){
var a=[La,Ua,Da,Na,ka,ja,Ca,ga,va,ya,pa,fa,la,ea,sa,ta,Yt,Kt,Ut,Lt,Rt,Nt];t.exports=function(t){a.forEach(function(a){t.Proj.projections.add(a)})}}),Ha=Fa&&"object"==typeof Fa&&"default"in Fa?Fa["default"]:Fa,Va="proj4",Qa="2.3.14",Wa="Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",Xa="lib/index.js",Ja={test:"test",doc:"docs"},Ka={test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},Za={type:"git",url:"git://github.com/proj4js/proj4js.git"},Ya="",$a="MIT",ts={main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},as={"grunt-cli":"~0.1.13",grunt:"~0.4.2","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0",chai:"~1.8.1",mocha:"~1.17.1","grunt-mocha-phantomjs":"~0.4.0",browserify:"~12.0.1","grunt-browserify":"~4.0.1","grunt-contrib-uglify":"~0.11.1",curl:"git://github.com/cujojs/curl.git",istanbul:"~0.2.4",tin:"~0.4.0"},ss={mgrs:"~0.0.2"},is=[{name:"Mike Adair",email:"madair@dmsolutions.ca"},{name:"Richard Greenwood",email:"rich@greenwoodmap.com"},{name:"Calvin Metcalf",email:"calvin.metcalf@gmail.com"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],es="7619c8a63df1eae5bad0b9ad31ca1d87b0549243",ns={url:"https://github.com/proj4js/proj4js/issues"},rs="https://github.com/proj4js/proj4js#readme",hs="proj4@2.3.14",os="928906144388980c914c5a357fc493aba59a747a",us="proj4@>=2.3.14 <3.0.0",ls="2.14.12",cs="4.2.6",fs={name:"ahocevar",email:"andreas.hocevar@gmail.com"},ds={shasum:"928906144388980c914c5a357fc493aba59a747a",tarball:"https://registry.npmjs.org/proj4/-/proj4-2.3.14.tgz"},ps=[{name:"cwmma",email:"calvin.metcalf@gmail.com"},{name:"ahocevar",email:"andreas.hocevar@gmail.com"}],ms={host:"packages-13-west.internal.npmjs.com",tmp:"tmp/proj4-2.3.14.tgz_1457689264880_0.9409773757215589"},ys="https://registry.npmjs.org/proj4/-/proj4-2.3.14.tgz",Ms="ERROR: No README data found!",vs={name:Va,version:Qa,description:Wa,main:Xa,directories:Ja,scripts:Ka,repository:Za,author:Ya,license:$a,jam:ts,devDependencies:as,dependencies:ss,contributors:is,gitHead:es,bugs:ns,homepage:rs,_id:hs,_shasum:os,_from:us,_npmVersion:ls,_nodeVersion:cs,_npmUser:fs,dist:ds,maintainers:ps,_npmOperationalInternal:ms,_resolved:ys,readme:Ms},bs=m(function(t,a){function s(t){return t*(Math.PI/180)}function i(t){return 180*(t/Math.PI)}function e(t){var a,i,e,n,h,o,u,l,c,f=t.lat,d=t.lon,p=6378137,m=.00669438,y=.9996,M=s(f),v=s(d);c=Math.floor((d+180)/6)+1,180===d&&(c=60),f>=56&&64>f&&d>=3&&12>d&&(c=32),f>=72&&84>f&&(d>=0&&9>d?c=31:d>=9&&21>d?c=33:d>=21&&33>d?c=35:d>=33&&42>d&&(c=37)),a=6*(c-1)-180+3,l=s(a),i=m/(1-m),e=p/Math.sqrt(1-m*Math.sin(M)*Math.sin(M)),n=Math.tan(M)*Math.tan(M),h=i*Math.cos(M)*Math.cos(M),o=Math.cos(M)*(v-l),u=p*((1-m/4-3*m*m/64-5*m*m*m/256)*M-(3*m/8+3*m*m/32+45*m*m*m/1024)*Math.sin(2*M)+(15*m*m/256+45*m*m*m/1024)*Math.sin(4*M)-35*m*m*m/3072*Math.sin(6*M));var b=y*e*(o+(1-n+h)*o*o*o/6+(5-18*n+n*n+72*h-58*i)*o*o*o*o*o/120)+5e5,g=y*(u+e*Math.tan(M)*(o*o/2+(5-n+9*h+4*h*h)*o*o*o*o/24+(61-58*n+n*n+600*h-330*i)*o*o*o*o*o*o/720));return 0>f&&(g+=1e7),{northing:Math.round(g),easting:Math.round(b),zoneNumber:c,zoneLetter:r(f)}}function n(t){var a=t.northing,s=t.easting,e=t.zoneLetter,r=t.zoneNumber;if(0>r||r>60)return null;var h,o,u,l,c,f,d,p,m,y,M=.9996,v=6378137,b=.00669438,g=(1-Math.sqrt(1-b))/(1+Math.sqrt(1-b)),_=s-5e5,x=a;"N">e&&(x-=1e7),p=6*(r-1)-180+3,h=b/(1-b),d=x/M,m=d/(v*(1-b/4-3*b*b/64-5*b*b*b/256)),y=m+(3*g/2-27*g*g*g/32)*Math.sin(2*m)+(21*g*g/16-55*g*g*g*g/32)*Math.sin(4*m)+151*g*g*g/96*Math.sin(6*m),o=v/Math.sqrt(1-b*Math.sin(y)*Math.sin(y)),u=Math.tan(y)*Math.tan(y),l=h*Math.cos(y)*Math.cos(y),c=v*(1-b)/Math.pow(1-b*Math.sin(y)*Math.sin(y),1.5),f=_/(o*M);var w=y-o*Math.tan(y)/c*(f*f/2-(5+3*u+10*l-4*l*l-9*h)*f*f*f*f/24+(61+90*u+298*l+45*u*u-252*h-3*l*l)*f*f*f*f*f*f/720);w=i(w);var P=(f-(1+2*u+l)*f*f*f/6+(5-2*l+28*u-3*l*l+8*h+24*u*u)*f*f*f*f*f/120)/Math.cos(y);P=p+i(P);var S;if(t.accuracy){var C=n({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});S={top:C.lat,right:C.lon,bottom:w,left:P}}else S={lat:w,lon:P};return S}function r(t){var a="Z";return 84>=t&&t>=72?a="X":72>t&&t>=64?a="W":64>t&&t>=56?a="V":56>t&&t>=48?a="U":48>t&&t>=40?a="T":40>t&&t>=32?a="S":32>t&&t>=24?a="R":24>t&&t>=16?a="Q":16>t&&t>=8?a="P":8>t&&t>=0?a="N":0>t&&t>=-8?a="M":-8>t&&t>=-16?a="L":-16>t&&t>=-24?a="K":-24>t&&t>=-32?a="J":-32>t&&t>=-40?a="H":-40>t&&t>=-48?a="G":-48>t&&t>=-56?a="F":-56>t&&t>=-64?a="E":-64>t&&t>=-72?a="D":-72>t&&t>=-80&&(a="C"),a}function h(t,a){var s="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+o(t.easting,t.northing,t.zoneNumber)+s.substr(s.length-5,a)+i.substr(i.length-5,a)}function o(t,a,s){var i=u(s),e=Math.floor(t/1e5),n=Math.floor(a/1e5)%20;return l(e,n,i)}function u(t){var a=t%m;return 0===a&&(a=m),a}function l(t,a,s){var i=s-1,e=y.charCodeAt(i),n=M.charCodeAt(i),r=e+t-1,h=n+a,o=!1;r>x&&(r=r-x+v-1,o=!0),(r===b||b>e&&r>b||(r>b||b>e)&&o)&&r++,(r===g||g>e&&r>g||(r>g||g>e)&&o)&&(r++,r===b&&r++),r>x&&(r=r-x+v-1),h>_?(h=h-_+v-1,o=!0):o=!1,(h===b||b>n&&h>b||(h>b||b>n)&&o)&&h++,(h===g||g>n&&h>g||(h>g||g>n)&&o)&&(h++,h===b&&h++),h>_&&(h=h-_+v-1);var u=String.fromCharCode(r)+String.fromCharCode(h);return u}function c(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var a,s=t.length,i=null,e="",n=0;!/[A-Z]/.test(a=t.charAt(n));){if(n>=2)throw"MGRSPoint bad conversion from: "+t;e+=a,n++}var r=parseInt(e,10);if(0===n||n+3>s)throw"MGRSPoint bad conversion from: "+t;var h=t.charAt(n++);if("A">=h||"B"===h||"Y"===h||h>="Z"||"I"===h||"O"===h)throw"MGRSPoint zone letter "+h+" not handled: "+t;i=t.substring(n,n+=2);for(var o=u(r),l=f(i.charAt(0),o),c=d(i.charAt(1),o);c<p(h);)c+=2e6;var m=s-n;if(m%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var y,M,v,b,g,_=m/2,x=0,w=0;return _>0&&(y=1e5/Math.pow(10,_),M=t.substring(n,n+_),x=parseFloat(M)*y,v=t.substring(n+_),w=parseFloat(v)*y),b=x+l,g=w+c,{easting:b,northing:g,zoneLetter:h,zoneNumber:r,accuracy:y}}function f(t,a){for(var s=y.charCodeAt(a-1),i=1e5,e=!1;s!==t.charCodeAt(0);){if(s++,s===b&&s++,s===g&&s++,s>x){if(e)throw"Bad character: "+t;s=v,e=!0}i+=1e5}return i}function d(t,a){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var s=M.charCodeAt(a-1),i=0,e=!1;s!==t.charCodeAt(0);){if(s++,s===b&&s++,s===g&&s++,s>_){if(e)throw"Bad character: "+t;s=v,e=!0}i+=1e5}return i}function p(t){var a;switch(t){case"C":a=11e5;break;case"D":a=2e6;break;case"E":a=28e5;break;case"F":a=37e5;break;case"G":a=46e5;break;case"H":a=55e5;break;case"J":a=64e5;break;case"K":a=73e5;break;case"L":a=82e5;break;case"M":a=91e5;break;case"N":a=0;break;case"P":a=8e5;break;case"Q":a=17e5;break;case"R":a=26e5;break;case"S":a=35e5;break;case"T":a=44e5;break;case"U":a=53e5;break;case"V":a=62e5;break;case"W":a=7e6;break;case"X":a=79e5;break;default:a=-1}if(a>=0)return a;throw"Invalid zone letter: "+t}var m=6,y="AJSAJS",M="AFAFAF",v=65,b=73,g=79,_=86,x=90;a.forward=function(t,a){return a=a||5,h(e({lat:t[1],lon:t[0]}),a)},a.inverse=function(t){var a=n(c(t.toUpperCase()));return a.lat&&a.lon?[a.lon,a.lat,a.lon,a.lat]:[a.left,a.bottom,a.right,a.top]},a.toPoint=function(t){var a=n(c(t.toUpperCase()));return a.lat&&a.lon?[a.lon,a.lat]:[(a.left+a.right)/2,(a.top+a.bottom)/2]}}),gs=bs&&"object"==typeof bs&&"default"in bs?bs["default"]:bs,_s=m(function(t){t.exports=function(t){var a={x:t[0],y:t[1]};return t.length>2&&(a.z=t[2]),t.length>3&&(a.m=t[3]),a}}),xs=_s&&"object"==typeof _s&&"default"in _s?_s["default"]:_s,ws=m(function(t){var a=Math.PI/2,s=1,i=2,e=3,n=4,r=5,h=484813681109536e-20,o=1.0026,u=.3826834323650898,l=function(t){return this instanceof l?(this.datum_type=n,void(t&&(t.datumCode&&"none"===t.datumCode&&(this.datum_type=r),t.datum_params&&(this.datum_params=t.datum_params.map(parseFloat),0===this.datum_params[0]&&0===this.datum_params[1]&&0===this.datum_params[2]||(this.datum_type=s),this.datum_params.length>3&&(0===this.datum_params[3]&&0===this.datum_params[4]&&0===this.datum_params[5]&&0===this.datum_params[6]||(this.datum_type=i,this.datum_params[3]*=h,this.datum_params[4]*=h,this.datum_params[5]*=h,this.datum_params[6]=this.datum_params[6]/1e6+1))),this.datum_type=t.grids?e:this.datum_type,this.a=t.a,this.b=t.b,this.es=t.es,this.ep2=t.ep2,this.datum_type===e&&(this.grids=t.grids)))):new l(t)};l.prototype={compare_datums:function(t){return this.datum_type!==t.datum_type?!1:this.a!==t.a||Math.abs(this.es-t.es)>5e-11?!1:this.datum_type===s?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]:this.datum_type===i?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]:this.datum_type===e||t.datum_type===e?this.nadgrids===t.nadgrids:!0},geodetic_to_geocentric:function(t){var s,i,e,n,r,h,o,u=t.x,l=t.y,c=t.z?t.z:0,f=0;if(-a>l&&l>-1.001*a)l=-a;else if(l>a&&1.001*a>l)l=a;else if(-a>l||l>a)return null;return u>Math.PI&&(u-=2*Math.PI),r=Math.sin(l),o=Math.cos(l),h=r*r,n=this.a/Math.sqrt(1-this.es*h),s=(n+c)*o*Math.cos(u),i=(n+c)*o*Math.sin(u),e=(n*(1-this.es)+c)*r,t.x=s,t.y=i,t.z=e,f},geocentric_to_geodetic:function(t){var s,i,e,n,r,h,o,u,l,c,f,d,p,m,y,M,v,b=1e-12,g=b*b,_=30,x=t.x,w=t.y,P=t.z?t.z:0;if(p=!1,s=Math.sqrt(x*x+w*w),i=Math.sqrt(x*x+w*w+P*P),s/this.a<b){if(p=!0,y=0,i/this.a<b)return M=a,void(v=-this.b)}else y=Math.atan2(w,x);e=P/i,n=s/i,r=1/Math.sqrt(1-this.es*(2-this.es)*n*n),u=n*(1-this.es)*r,l=e*r,m=0;do m++,o=this.a/Math.sqrt(1-this.es*l*l),v=s*u+P*l-o*(1-this.es*l*l),h=this.es*o/(o+v),r=1/Math.sqrt(1-h*(2-h)*n*n),c=n*(1-h)*r,f=e*r,d=f*u-c*l,u=c,l=f;while(d*d>g&&_>m);return M=Math.atan(f/Math.abs(c)),t.x=y,t.y=M,t.z=v,t},geocentric_to_geodetic_noniter:function(t){var s,i,e,n,r,h,l,c,f,d,p,m,y,M,v,b,g,_=t.x,x=t.y,w=t.z?t.z:0;if(_=parseFloat(_),x=parseFloat(x),w=parseFloat(w),g=!1,0!==_)s=Math.atan2(x,_);else if(x>0)s=a;else if(0>x)s=-a;else if(g=!0,s=0,w>0)i=a;else{if(!(0>w))return i=a,void(e=-this.b);i=-a}return r=_*_+x*x,n=Math.sqrt(r),h=w*o,c=Math.sqrt(h*h+r),d=h/c,m=n/c,p=d*d*d,l=w+this.b*this.ep2*p,b=n-this.a*this.es*m*m*m,f=Math.sqrt(l*l+b*b),y=l/f,M=b/f,v=this.a/Math.sqrt(1-this.es*y*y),e=M>=u?n/M-v:-u>=M?n/-M-v:w/y+v*(this.es-1),g===!1&&(i=Math.atan(y/M)),t.x=s,t.y=i,t.z=e,t},geocentric_to_wgs84:function(t){if(this.datum_type===s)t.x+=this.datum_params[0],t.y+=this.datum_params[1],t.z+=this.datum_params[2];else if(this.datum_type===i){var a=this.datum_params[0],e=this.datum_params[1],n=this.datum_params[2],r=this.datum_params[3],h=this.datum_params[4],o=this.datum_params[5],u=this.datum_params[6],l=u*(t.x-o*t.y+h*t.z)+a,c=u*(o*t.x+t.y-r*t.z)+e,f=u*(-h*t.x+r*t.y+t.z)+n;t.x=l,t.y=c,t.z=f}},geocentric_from_wgs84:function(t){if(this.datum_type===s)t.x-=this.datum_params[0],t.y-=this.datum_params[1],t.z-=this.datum_params[2];else if(this.datum_type===i){var a=this.datum_params[0],e=this.datum_params[1],n=this.datum_params[2],r=this.datum_params[3],h=this.datum_params[4],o=this.datum_params[5],u=this.datum_params[6],l=(t.x-a)/u,c=(t.y-e)/u,f=(t.z-n)/u;t.x=l+o*c-h*f,t.y=-o*l+c+r*f,t.z=h*l-r*c+f}}},t.exports=l}),Ps=ws&&"object"==typeof ws&&"default"in ws?ws["default"]:ws,Ss=m(function(t){t.exports=function(t,a){t=t||{};var s,i;if(!a)return t;for(i in a)s=a[i],void 0!==s&&(t[i]=s);return t}}),Cs=Ss&&"object"==typeof Ss&&"default"in Ss?Ss["default"]:Ss,Es=m(function(t,a){a.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},a.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},a.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},a.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},a.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},a.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},a.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},a.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},a.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},a.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},a.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},a.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},a.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},a.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},a.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},a.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},a.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},a.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},a.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},a.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},a.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},a.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},a.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},a.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},a.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},a.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},a.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},a.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},a.hough={a:6378270,rf:297,ellipseName:"Hough"},a.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},a.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},a.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},a.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},a.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},a.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},a.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},a.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},a.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},a.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},a.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},a.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},a.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},a.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}}),js=Es&&"object"==typeof Es&&"default"in Es?Es["default"]:Es,Is=m(function(t,a){a.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},a.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},a.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},a.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},a.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},a.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},a.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},a.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},a.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},a.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},a.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},a.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},a.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},a.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},a.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},a.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}}),ks=Is&&"object"==typeof Is&&"default"in Is?Is["default"]:Is,Os=m(function(t){var a=ks,s=js,i=Cs,e=Ps,n=1e-10,r=.16666666666666666,h=.04722222222222222,o=.022156084656084655;t.exports=function(t){if(t.datumCode&&"none"!==t.datumCode){var u=a[t.datumCode];u&&(t.datum_params=u.towgs84?u.towgs84.split(","):null,t.ellps=u.ellipse,t.datumName=u.datumName?u.datumName:t.datumCode)}if(!t.a){var l=s[t.ellps]?s[t.ellps]:s.WGS84;i(t,l)}return t.rf&&!t.b&&(t.b=(1-1/t.rf)*t.a),(0===t.rf||Math.abs(t.a-t.b)<n)&&(t.sphere=!0,t.b=t.a),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=(t.a2-t.b2)/t.a2,t.e=Math.sqrt(t.es),t.R_A&&(t.a*=1-t.es*(r+t.es*(h+t.es*o)),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=0),t.ep2=(t.a2-t.b2)/t.b2,t.k0||(t.k0=1),t.axis||(t.axis="enu"),t.datum||(t.datum=e(t)),t}}),Ns=Os&&"object"==typeof Os&&"default"in Os?Os["default"]:Os,Ts=m(function(t,a){function s(t){return t}a.init=function(){},a.forward=s,a.inverse=s,a.names=["longlat","identity"]}),Rs=Ts&&"object"==typeof Ts&&"default"in Ts?Ts["default"]:Ts,As=m(function(t,a){var s=Dt,i=Math.PI/2,e=1e-10,n=57.29577951308232,r=kt,h=Math.PI/4,o=Pa,u=xa;a.init=function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=s(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},a.forward=function(t){var a=t.x,s=t.y;if(s*n>90&&-90>s*n&&a*n>180&&-180>a*n)return null;var u,l;if(Math.abs(Math.abs(s)-i)<=e)return null;if(this.sphere)u=this.x0+this.a*this.k0*r(a-this.long0),l=this.y0+this.a*this.k0*Math.log(Math.tan(h+.5*s));else{var c=Math.sin(s),f=o(this.e,s,c);u=this.x0+this.a*this.k0*r(a-this.long0),l=this.y0-this.a*this.k0*Math.log(f)}return t.x=u,t.y=l,t},a.inverse=function(t){var a,s,e=t.x-this.x0,n=t.y-this.y0;if(this.sphere)s=i-2*Math.atan(Math.exp(-n/(this.a*this.k0)));else{var h=Math.exp(-n/(this.a*this.k0));if(s=u(this.e,h),-9999===s)return null}return a=r(this.long0+e/(this.a*this.k0)),t.x=a,t.y=s,t},a.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]}),qs=As&&"object"==typeof As&&"default"in As?As["default"]:As,Gs=m(function(t,a){function s(t,a){var s=n.length;return t.names?(n[s]=t,t.names.forEach(function(t){e[t.toLowerCase()]=s}),this):(console.log(a),!0)}var i=[qs,Rs],e={},n=[];a.add=s,a.get=function(t){if(!t)return!1;var a=t.toLowerCase();return"undefined"!=typeof e[a]&&n[e[a]]?n[e[a]]:void 0},a.start=function(){i.forEach(s)}}),Ds=Gs&&"object"==typeof Gs&&"default"in Gs?Gs["default"]:Gs,Bs=m(function(t,a){a.ft={to_meter:.3048},a["us-ft"]={to_meter:1200/3937}}),Ls=Bs&&"object"==typeof Bs&&"default"in Bs?Bs["default"]:Bs,zs=m(function(t,a){a.greenwich=0,a.lisbon=-9.131906111111,a.paris=2.337229166667,a.bogota=-74.080916666667,a.madrid=-3.687938888889,a.rome=12.452333333333,a.bern=7.439583333333,a.jakarta=106.807719444444,a.ferro=-17.666666666667,a.brussels=4.367975,a.stockholm=18.058277777778,a.athens=23.7163375,a.oslo=10.722916666667}),Us=zs&&"object"==typeof zs&&"default"in zs?zs["default"]:zs,Fs=m(function(t){var a=.017453292519943295,s=Us,i=Ls;t.exports=function(t){var e={},n={};t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(t){var a=t.split("=");a.push(!0),n[a[0].toLowerCase()]=a[1]});var r,h,o,u={proj:"projName",datum:"datumCode",rf:function(t){e.rf=parseFloat(t)},lat_0:function(t){e.lat0=t*a},lat_1:function(t){e.lat1=t*a},lat_2:function(t){e.lat2=t*a},lat_ts:function(t){e.lat_ts=t*a},lon_0:function(t){e.long0=t*a},lon_1:function(t){e.long1=t*a},lon_2:function(t){e.long2=t*a},alpha:function(t){e.alpha=parseFloat(t)*a},lonc:function(t){e.longc=t*a},x_0:function(t){e.x0=parseFloat(t)},y_0:function(t){e.y0=parseFloat(t)},k_0:function(t){e.k0=parseFloat(t)},k:function(t){e.k0=parseFloat(t)},a:function(t){e.a=parseFloat(t)},b:function(t){e.b=parseFloat(t)},r_a:function(){e.R_A=!0},zone:function(t){e.zone=parseInt(t,10)},south:function(){e.utmSouth=!0},towgs84:function(t){e.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){e.to_meter=parseFloat(t)},units:function(t){e.units=t,i[t]&&(e.to_meter=i[t].to_meter)},from_greenwich:function(t){e.from_greenwich=t*a},pm:function(t){e.from_greenwich=(s[t]?s[t]:parseFloat(t))*a},nadgrids:function(t){"@null"===t?e.datumCode="none":e.nadgrids=t},axis:function(t){var a="ewnsud";3===t.length&&-1!==a.indexOf(t.substr(0,1))&&-1!==a.indexOf(t.substr(1,1))&&-1!==a.indexOf(t.substr(2,1))&&(e.axis=t)}};for(r in n)h=n[r],r in u?(o=u[r],"function"==typeof o?o(h):e[o]=h):e[r]=h;return"string"==typeof e.datumCode&&"WGS84"!==e.datumCode&&(e.datumCode=e.datumCode.toLowerCase()),e}}),Hs=Fs&&"object"==typeof Fs&&"default"in Fs?Fs["default"]:Fs,Vs=m(function(t){function a(t,a,i){t[a]=i.map(function(t){var a={};return s(t,a),a}).reduce(function(t,a){return h(t,a)},{})}function s(t,i){var e;return Array.isArray(t)?(e=t.shift(),"PARAMETER"===e&&(e=t.shift()),1===t.length?Array.isArray(t[0])?(i[e]={},s(t[0],i[e])):i[e]=t[0]:t.length?"TOWGS84"===e?i[e]=t:(i[e]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(e)>-1?(i[e]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&(i[e].auth=t[2])):"SPHEROID"===e?(i[e]={name:t[0],a:t[1],rf:t[2]},4===t.length&&(i[e].auth=t[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(e)>-1?(t[0]=["name",t[0]],a(i,e,t)):t.every(function(t){return Array.isArray(t)})?a(i,e,t):s(t,i[e])):i[e]=!0,void 0):void(i[t]=!0)}function i(t,a){var s=a[0],i=a[1];!(s in t)&&i in t&&(t[s]=t[i],3===a.length&&(t[s]=a[2](t[s])))}function e(t){return t*r}function n(t){function a(a){var s=t.to_meter||1;return parseFloat(a,10)*s}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=parseFloat(t.UNIT.convert,10)*t.DATUM.SPHEROID.a):t.to_meter=parseFloat(t.UNIT.convert,10))),t.GEOGCS&&(t.GEOGCS.DATUM?t.datumCode=t.GEOGCS.DATUM.name.toLowerCase():t.datumCode=t.GEOGCS.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),t.GEOGCS.DATUM&&t.GEOGCS.DATUM.SPHEROID&&(t.ellps=t.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=t.GEOGCS.DATUM.SPHEROID.a,t.rf=parseFloat(t.GEOGCS.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36")),t.b&&!isFinite(t.b)&&(t.b=t.a);var s=function(a){return i(t,a)},n=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",e],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",e],["x0","false_easting",a],["y0","false_northing",a],["long0","central_meridian",e],["lat0","latitude_of_origin",e],["lat0","standard_parallel_1",e],["lat1","standard_parallel_1",e],["lat2","standard_parallel_2",e],["alpha","azimuth",e],["srsCode","name"]];n.forEach(s),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=e(t.lat1>0?90:-90),t.lat_ts=t.lat1)}var r=.017453292519943295,h=Cs;t.exports=function(t,a){var i=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),e=i.shift(),r=i.shift();i.unshift(["name",r]),i.unshift(["type",e]),i.unshift("output");var o={};return s(i,o),n(o.output),h(a,o.output)}}),Qs=Vs&&"object"==typeof Vs&&"default"in Vs?Vs["default"]:Vs,Ws=m(function(t){t.exports=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}}),Xs=Ws&&"object"==typeof Ws&&"default"in Ws?Ws["default"]:Ws,Js=m(function(t){function a(t){var s=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?a[t]=i(arguments[1]):a[t]=e(arguments[1]):a[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?a.apply(s,t):a(t)});if("string"==typeof t){if(t in a)return a[t]}else"EPSG"in t?a["EPSG:"+t.EPSG]=t:"ESRI"in t?a["ESRI:"+t.ESRI]=t:"IAU2000"in t?a["IAU2000:"+t.IAU2000]=t:console.log(t);return}}var s=Xs,i=Hs,e=Qs;s(a),t.exports=a}),Ks=Js&&"object"==typeof Js&&"default"in Js?Js["default"]:Js,Zs=m(function(t){function a(t){return"string"==typeof t}function s(t){return t in r}function i(t){var a=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];return a.reduce(function(a,s){return a+1+t.indexOf(s)},0)}function e(t){return"+"===t[0]}function n(t){return a(t)?s(t)?r[t]:i(t)?h(t):e(t)?o(t):void 0:t}var r=Ks,h=Qs,o=Hs;t.exports=n}),Ys=Zs&&"object"==typeof Zs&&"default"in Zs?Zs["default"]:Zs,$s=m(function(t){function a(t,e){if(!(this instanceof a))return new a(t);e=e||function(t){if(t)throw t};var r=s(t);if("object"!=typeof r)return void e(t);var h=n(r),o=a.projections.get(h.projName);o?(i(this,h),i(this,o),this.init(),e(null,this)):e(t)}var s=Ys,i=Cs,e=Ds,n=Ns;a.projections=e,a.projections.start(),t.exports=a}),ti=$s&&"object"==typeof $s&&"default"in $s?$s["default"]:$s,ai=m(function(t){t.exports=function(t,a,s){var i,e,n,r=s.x,h=s.y,o=s.z||0;for(n=0;3>n;n++)if(!a||2!==n||void 0!==s.z)switch(0===n?(i=r,e="x"):1===n?(i=h,e="y"):(i=o,e="z"),t.axis[n]){case"e":s[e]=i;break;case"w":s[e]=-i;break;case"n":s[e]=i;break;case"s":s[e]=-i;break;case"u":void 0!==s[e]&&(s.z=i);break;case"d":void 0!==s[e]&&(s.z=-i);break;default:return null}return s}}),si=ai&&"object"==typeof ai&&"default"in ai?ai["default"]:ai,ii=m(function(t){var a=1,s=2,i=3,e=5,n=6378137,r=.006694379990141316;t.exports=function(t,h,o){function u(t){return t===a||t===s}var l,c,f;if(t.compare_datums(h))return o;if(t.datum_type===e||h.datum_type===e)return o;var d=t.a,p=t.es,m=h.a,y=h.es,M=t.datum_type;if(M===i)if(0===this.apply_gridshift(t,0,o))t.a=n,t.es=r;else{if(!t.datum_params)return t.a=d,t.es=t.es,o;for(l=1,c=0,f=t.datum_params.length;f>c;c++)l*=t.datum_params[c];if(0===l)return t.a=d,t.es=t.es,o;M=t.datum_params.length>3?s:a}return h.datum_type===i&&(h.a=n,h.es=r),(t.es!==h.es||t.a!==h.a||u(M)||u(h.datum_type))&&(t.geodetic_to_geocentric(o),u(t.datum_type)&&t.geocentric_to_wgs84(o),u(h.datum_type)&&h.geocentric_from_wgs84(o),h.geocentric_to_geodetic(o)),h.datum_type===i&&this.apply_gridshift(h,1,o),t.a=d,t.es=p,h.a=m,h.es=y,o}}),ei=ii&&"object"==typeof ii&&"default"in ii?ii["default"]:ii,ni=m(function(t){var a=.017453292519943295,s=57.29577951308232,i=1,e=2,n=ei,r=si,h=ti,o=xs;t.exports=function u(t,l,c){function f(t,a){return(t.datum.datum_type===i||t.datum.datum_type===e)&&"WGS84"!==a.datumCode}var d;return Array.isArray(c)&&(c=o(c)),t.datum&&l.datum&&(f(t,l)||f(l,t))&&(d=new h("WGS84"),u(t,d,c),t=d),"enu"!==t.axis&&r(t,!1,c),"longlat"===t.projName?(c.x*=a,c.y*=a):(t.to_meter&&(c.x*=t.to_meter,c.y*=t.to_meter),t.inverse(c)),t.from_greenwich&&(c.x+=t.from_greenwich),c=n(t.datum,l.datum,c),l.from_greenwich&&(c.x-=l.from_greenwich),"longlat"===l.projName?(c.x*=s,c.y*=s):(l.forward(c),l.to_meter&&(c.x/=l.to_meter,c.y/=l.to_meter)),"enu"!==l.axis&&r(l,!0,c),c}}),ri=ni&&"object"==typeof ni&&"default"in ni?ni["default"]:ni,hi=m(function(t){function a(t,s,i){if(!(this instanceof a))return new a(t,s,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&"undefined"==typeof s){var e=t.split(",");this.x=parseFloat(e[0],10),this.y=parseFloat(e[1],10),this.z=parseFloat(e[2],10)||0}else this.x=t,this.y=s,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var s=gs;a.fromMGRS=function(t){return new a(s.toPoint(t))},a.prototype.toMGRS=function(t){return s.forward([this.x,this.y],t)},t.exports=a}),oi=hi&&"object"==typeof hi&&"default"in hi?hi["default"]:hi,ui=m(function(t){function a(t,a,s){var i;return Array.isArray(s)?(i=n(t,a,s),3===s.length?[i.x,i.y,i.z]:[i.x,i.y]):n(t,a,s)}function s(t){return t instanceof e?t:t.oProj?t.oProj:e(t)}function i(t,i,e){t=s(t);var n,h=!1;return"undefined"==typeof i?(i=t,t=r,h=!0):("undefined"!=typeof i.x||Array.isArray(i))&&(e=i,i=t,t=r,h=!0),i=s(i),e?a(t,i,e):(n={forward:function(s){return a(t,i,s)},inverse:function(s){return a(i,t,s)}},h&&(n.oProj=i),n)}var e=ti,n=ri,r=e("WGS84");t.exports=i}),li=ui&&"object"==typeof ui&&"default"in ui?ui["default"]:ui,ci=m(function(t){var a=li;a.defaultDatum="WGS84",a.Proj=ti,a.WGS84=new a.Proj("WGS84"),a.Point=oi,a.toPoint=xs,a.defs=Ks,a.transform=ri,a.mgrs=gs,a.version=vs.version,Ha(a),t.exports=a}),fi=ci&&"object"==typeof ci&&"default"in ci?ci["default"]:ci;!function(t){function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!=typeof t&&(t=String(t)),t}function i(t){var a={next:function(){var a=t.shift();return{done:void 0===a,value:a}}};return m.iterable&&(a[Symbol.iterator]=function(){return a}),a}function e(t){this.map={},t instanceof e?t.forEach(function(t,a){this.append(a,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(a){this.append(a,t[a])},this)}function n(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function r(t){return new Promise(function(a,s){t.onload=function(){a(t.result)},t.onerror=function(){s(t.error)}})}function h(t){var a=new FileReader;return a.readAsArrayBuffer(t),r(a)}function o(t){var a=new FileReader;return a.readAsText(t),r(a)}function u(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(m.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(m.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(t){if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"));
},m.blob?(this.blob=function(){var t=n(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(h)},this.text=function(){var t=n(this);if(t)return t;if(this._bodyBlob)return o(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=n(this);return t?t:Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(t){var a=t.toUpperCase();return y.indexOf(a)>-1?a:t}function c(t,a){a=a||{};var s=a.body;if(c.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,a.headers||(this.headers=new e(t.headers)),this.method=t.method,this.mode=t.mode,s||(s=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=a.credentials||this.credentials||"omit",!a.headers&&this.headers||(this.headers=new e(a.headers)),this.method=l(a.method||this.method||"GET"),this.mode=a.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function f(t){var a=new FormData;return t.trim().split("&").forEach(function(t){if(t){var s=t.split("="),i=s.shift().replace(/\+/g," "),e=s.join("=").replace(/\+/g," ");a.append(decodeURIComponent(i),decodeURIComponent(e))}}),a}function d(t){var a=new e,s=(t.getAllResponseHeaders()||"").trim().split("\n");return s.forEach(function(t){var s=t.trim().split(":"),i=s.shift().trim(),e=s.join(":").trim();a.append(i,e)}),a}function p(t,a){a||(a={}),this.type="default",this.status=a.status,this.ok=this.status>=200&&this.status<300,this.statusText=a.statusText,this.headers=a.headers instanceof e?a.headers:new e(a.headers),this.url=a.url||"",this._initBody(t)}if(!t.fetch){var m={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};e.prototype.append=function(t,i){t=a(t),i=s(i);var e=this.map[t];e||(e=[],this.map[t]=e),e.push(i)},e.prototype["delete"]=function(t){delete this.map[a(t)]},e.prototype.get=function(t){var s=this.map[a(t)];return s?s[0]:null},e.prototype.getAll=function(t){return this.map[a(t)]||[]},e.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},e.prototype.set=function(t,i){this.map[a(t)]=[s(i)]},e.prototype.forEach=function(t,a){Object.getOwnPropertyNames(this.map).forEach(function(s){this.map[s].forEach(function(i){t.call(a,i,s,this)},this)},this)},e.prototype.keys=function(){var t=[];return this.forEach(function(a,s){t.push(s)}),i(t)},e.prototype.values=function(){var t=[];return this.forEach(function(a){t.push(a)}),i(t)},e.prototype.entries=function(){var t=[];return this.forEach(function(a,s){t.push([s,a])}),i(t)},m.iterable&&(e.prototype[Symbol.iterator]=e.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];c.prototype.clone=function(){return new c(this)},u.call(c.prototype),u.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new e(this.headers),url:this.url})},p.error=function(){var t=new p(null,{status:0,statusText:""});return t.type="error",t};var M=[301,302,303,307,308];p.redirect=function(t,a){if(-1===M.indexOf(a))throw new RangeError("Invalid status code");return new p(null,{status:a,headers:{location:t}})},t.Headers=e,t.Request=c,t.Response=p,t.fetch=function(t,a){return new Promise(function(s,i){function e(){return"responseURL"in r?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):void 0}var n;n=c.prototype.isPrototypeOf(t)&&!a?t:new c(t,a);var r=new XMLHttpRequest;r.onload=function(){var t={status:r.status,statusText:r.statusText,headers:d(r),url:e()},a="response"in r?r.response:r.responseText;s(new p(a,t))},r.onerror=function(){i(new TypeError("Network request failed"))},r.ontimeout=function(){i(new TypeError("Network request failed"))},r.open(n.method,n.url,!0),"include"===n.credentials&&(r.withCredentials=!0),"responseType"in r&&m.blob&&(r.responseType="blob"),n.headers.forEach(function(t,a){r.setRequestHeader(a,t)}),r.send("undefined"==typeof n._bodyInit?null:n._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this);var di,pi=m(function(t,a){function s(t){return t&&t.__esModule?t:{"default":t}}function i(t,a,s){return a in t?Object.defineProperty(t,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[a]=s,t}function e(t){return p[t]}function n(t){if(t in p)return Promise.resolve(p[t]);var a=h(t),s="https://epsg.io/"+a+".proj4";return fetch(s).then(function(t){if(!t.ok)throw new Error("HTTP response code: "+t.status);return t.text()}).then(function(a){return r(t,a,{reverseAxes:t in m})})}function r(t,a){var s=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(!t||!a)throw new Error("crsUri and proj cannot be empty");var i=void 0;if("string"==typeof a){if(i=(0,l["default"])(a),!i)throw new Error("Unsupported proj4 string: "+a);s.reverseAxes&&(i=o(i))}else i=a;return p[t]=i,i}function h(t){var a=void 0;if(0!==t.indexOf(d))throw new Error("Unsupported CRS URI: "+t);return a=t.substr(d.length)}function o(t){return{forward:function(a){return t.forward(a).reverse()},inverse:function(a){return t.inverse([a[1],a[0]])}}}Object.defineProperty(a,"__esModule",{value:!0}),a.get=e,a.load=n,a.set=r;var u=fi,l=s(u),c="http://www.opengis.net/def/crs/",f=c+"OGC/",d=c+"EPSG/0/",p={},m=i({},d+4326,!0),y=(0,l["default"])("+proj=longlat +datum=WGS84 +no_defs");r(f+"1.3/CRS84",y),r(d+4979,o(y))}),mi=pi.load,yi=pi.get,Mi="http://www.opengis.net/def/crs/",vi=Mi+"EPSG/0/4979",bi=Mi+"EPSG/0/4326",gi=Mi+"OGC/1.3/CRS84",_i=[vi,bi,gi],xi=(di={},ot(di,vi,1),ot(di,bi,1),ot(di,gi,0),di),wi=function(){function t(a){rt(this,t),this._collection=a,this._filter={},this._subset={}}return ht(t,[{key:"filter",value:function(t){return Z(t,this._filter),this}},{key:"subset",value:function(t){return Z(t,this._subset),this}},{key:"execute",value:function(){var a=this,s=this._collection,i={type:tt,coverages:[],parameters:s.parameters,domainType:s.domainType},e=[],n=!0,r=!1,h=void 0;try{for(var o,u=function(){var t=o.value;e.push(t.loadDomain().then(function(s){return K(s,a._filter)?0!==Object.keys(a._subset).length?t.subsetByValue(a._subset).then(function(t){i.coverages.push(t)}):void i.coverages.push(t):void 0}))},l=s.coverages[Symbol.iterator]();!(n=(o=l.next()).done);n=!0)u()}catch(c){r=!0,h=c}finally{try{!n&&l["return"]&&l["return"]()}finally{if(r)throw h}}return Promise.all(e).then(function(){return i.query=function(){return new t(i)},i})}}]),t}();t.minMax=a,t.indicesOfNearest=s,t.indexOfNearest=i,t.DOMAIN=Y,t.COVERAGE=$,t.COVERAGECOLLECTION=tt,t.COVJSON_DATATYPE_TUPLE=st,t.COVJSON_DATATYPE_POLYGON=it,t.getLanguageTag=e,t.getLanguageString=n,t.stringifyUnit=r,t.minMaxOfRange=h,t.reduceRange=o,t.iterateRange=u,t.getCategory=l,t.isCoverage=c,t.checkCoverage=f,t.isDomain=d,t.checkDomain=p,t.getReferenceObject=y,t.getHorizontalCRSReferenceObject=M,t.isEllipsoidalCRS=v,t.getProjection=b,t.loadProjection=g,t.getHorizontalCRSComponents=_,t.getHorizontalCRSCoordinateIDs=x,t.reprojectCoords=S,t.getLongitudeWrapper=C,t.isLongitudeAxis=E,t.isISODateAxis=j,t.asTime=I,t.normalizeIndexSubsetConstraints=k,t.subsetDomainByIndex=O,t.fromDomain=A,t.fromXndarray=q,t.addSubsetFunctions=G,t.addLoadRangesFunction=D,t.reproject=L,t.subsetByBbox=N,t.subsetByIndex=T,t.subsetByValue=R,t.withSimpleDerivedParameter=X,t.withParameters=z,t.withCategories=U,t.withDomainType=F,t.asCovJSONDomainType=H,t.renameAxes=V,t.mapRange=Q,t.withDerivedParameter=W,t.addCollectionQueryFunction=J,t.CollectionQuery=wi}(this.CovUtils=this.CovUtils||{});
//# sourceMappingURL=covutils-lite.min.js.map