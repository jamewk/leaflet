(self.webpackChunkleaflet=self.webpackChunkleaflet||[]).push([[179],{2651:(Oe,kt,_t)=>{"use strict";function k(e){return"function"==typeof e}function xt(e){const n=e(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const zt=xt(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,s)=>`${s+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Mt(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Rt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const f of n)f.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(k(i))try{i()}catch(f){t=f instanceof zt?f.errors:[f]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const f of s)try{Pt(f)}catch(p){t=t??[],p instanceof zt?t=[...t,...p.errors]:t.push(p)}}if(t)throw new zt(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Pt(t);else{if(t instanceof Rt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Mt(n,t)}remove(t){const{_finalizers:n}=this;n&&Mt(n,t),t instanceof Rt&&t._removeParent(this)}}Rt.EMPTY=(()=>{const e=new Rt;return e.closed=!0,e})();const gt=Rt.EMPTY;function Ot(e){return e instanceof Rt||e&&"closed"in e&&k(e.remove)&&k(e.add)&&k(e.unsubscribe)}function Pt(e){k(e)?e():e.unsubscribe()}const Ct={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ht={setTimeout(e,t,...n){const{delegate:i}=ht;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=ht;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function J(e){ht.setTimeout(()=>{const{onUnhandledError:t}=Ct;if(!t)throw e;t(e)})}function vt(){}const Tt=q("C",void 0,void 0);function q(e,t,n){return{kind:e,value:t,error:n}}let K=null;function X(e){if(Ct.useDeprecatedSynchronousErrorHandling){const t=!K;if(t&&(K={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:i}=K;if(K=null,n)throw i}}else e()}class Z extends Rt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ot(t)&&t.add(this)):this.destination=qt}static create(t,n,i){return new pt(t,n,i)}next(t){this.isStopped?Nt(function nt(e){return q("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Nt(function $t(e){return q("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Nt(Tt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $=Function.prototype.bind;function ct(e,t){return $.call(e,t)}class bt{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){z(i)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){z(i)}else z(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){z(n)}}}class pt extends Z{constructor(t,n,i){let s;if(super(),k(t)||!t)s={next:t??void 0,error:n??void 0,complete:i??void 0};else{let f;this&&Ct.useDeprecatedNextContext?(f=Object.create(t),f.unsubscribe=()=>this.unsubscribe(),s={next:t.next&&ct(t.next,f),error:t.error&&ct(t.error,f),complete:t.complete&&ct(t.complete,f)}):s=t}this.destination=new bt(s)}}function z(e){Ct.useDeprecatedSynchronousErrorHandling?function V(e){Ct.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=e)}(e):J(e)}function Nt(e,t){const{onStoppedNotification:n}=Ct;n&&ht.setTimeout(()=>n(e,t))}const qt={closed:!0,next:vt,error:function yt(e){throw e},complete:vt},ne="function"==typeof Symbol&&Symbol.observable||"@@observable";function oe(e){return e}function ce(e){return 0===e.length?oe:1===e.length?e[0]:function(n){return e.reduce((i,s)=>s(i),n)}}let Ft=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,s){const f=function d(e){return e&&e instanceof Z||function l(e){return e&&k(e.next)&&k(e.error)&&k(e.complete)}(e)&&Ot(e)}(n)?n:new pt(n,i,s);return X(()=>{const{operator:p,source:w}=this;f.add(p?p.call(f,w):w?this._subscribe(f):this._trySubscribe(f))}),f}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=a(i))((s,f)=>{const p=new pt({next:w=>{try{n(w)}catch(C){f(C),p.unsubscribe()}},error:f,complete:s});this.subscribe(p)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[ne](){return this}pipe(...n){return ce(n)(this)}toPromise(n){return new(n=a(n))((i,s)=>{let f;this.subscribe(p=>f=p,p=>s(p),()=>i(f))})}}return e.create=t=>new e(t),e})();function a(e){var t;return null!==(t=e??Ct.Promise)&&void 0!==t?t:Promise}const _=xt(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let E=(()=>{class e extends Ft{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new O(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new _}next(n){X(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(n)}})}error(n){X(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){X(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:s,observers:f}=this;return i||s?gt:(this.currentObservers=null,f.push(n),new Rt(()=>{this.currentObservers=null,Mt(f,n)}))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:s,isStopped:f}=this;i?n.error(s):f&&n.complete()}asObservable(){const n=new Ft;return n.source=this,n}}return e.create=(t,n)=>new O(t,n),e})();class O extends E{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,t)}error(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==i?i:gt}}function j(e){return k(e?.lift)}function W(e){return t=>{if(j(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ut(e,t,n,i,s){return new ot(e,t,n,i,s)}class ot extends Z{constructor(t,n,i,s,f,p){super(t),this.onFinalize=f,this.shouldUnsubscribe=p,this._next=n?function(w){try{n(w)}catch(C){t.error(C)}}:super._next,this._error=s?function(w){try{s(w)}catch(C){t.error(C)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(w){t.error(w)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function wt(e,t){return W((n,i)=>{let s=0;n.subscribe(ut(i,f=>{i.next(e.call(t,f,s++))}))})}function cn(e){return this instanceof cn?(this.v=e,this):new cn(e)}function dr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Le(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(f){n[f]=e[f]&&function(p){return new Promise(function(w,C){!function s(f,p,w,C){Promise.resolve(C).then(function(P){f({value:P,done:w})},p)}(w,C,(p=e[f](p)).done,p.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const qr=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function en(e){return k(e?.then)}function to(e){return k(e[ne])}function Yr(e){return Symbol.asyncIterator&&k(e?.[Symbol.asyncIterator])}function Xr(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const No=function Zr(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function os(e){return k(e?.[No])}function Na(e){return function Gn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=n.apply(e,t||[]),f=[];return s={},p("next"),p("throw"),p("return"),s[Symbol.asyncIterator]=function(){return this},s;function p(mt){i[mt]&&(s[mt]=function(Dt){return new Promise(function(Gt,Zt){f.push([mt,Dt,Gt,Zt])>1||w(mt,Dt)})})}function w(mt,Dt){try{!function C(mt){mt.value instanceof cn?Promise.resolve(mt.value.v).then(P,B):Q(f[0][2],mt)}(i[mt](Dt))}catch(Gt){Q(f[0][3],Gt)}}function P(mt){w("next",mt)}function B(mt){w("throw",mt)}function Q(mt,Dt){mt(Dt),f.shift(),f.length&&w(f[0][0],f[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:i,done:s}=yield cn(n.read());if(s)return yield cn(void 0);yield yield cn(i)}}finally{n.releaseLock()}})}function Jo(e){return k(e?.getReader)}function ei(e){if(e instanceof Ft)return e;if(null!=e){if(to(e))return function as(e){return new Ft(t=>{const n=e[ne]();if(k(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(qr(e))return function va(e){return new Ft(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(en(e))return function zu(e){return new Ft(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,J)})}(e);if(Yr(e))return eo(e);if(os(e))return function Il(e){return new Ft(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Jo(e))return function ss(e){return eo(Na(e))}(e)}throw Xr(e)}function eo(e){return new Ft(t=>{(function su(e,t){var n,i,s,f;return function dn(e,t,n,i){return new(n||(n=Promise))(function(f,p){function w(B){try{P(i.next(B))}catch(Q){p(Q)}}function C(B){try{P(i.throw(B))}catch(Q){p(Q)}}function P(B){B.done?f(B.value):function s(f){return f instanceof n?f:new n(function(p){p(f)})}(B.value).then(w,C)}P((i=i.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=dr(e);!(i=yield n.next()).done;)if(t.next(i.value),t.closed)return}catch(p){s={error:p}}finally{try{i&&!i.done&&(f=n.return)&&(yield f.call(n))}finally{if(s)throw s.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function ko(e,t,n,i=0,s=!1){const f=t.schedule(function(){n(),s?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(f),!s)return f}function Br(e,t,n=1/0){return k(t)?Br((i,s)=>wt((f,p)=>t(i,f,s,p))(ei(e(i,s))),n):("number"==typeof t&&(n=t),W((i,s)=>function gh(e,t,n,i,s,f,p,w){const C=[];let P=0,B=0,Q=!1;const mt=()=>{Q&&!C.length&&!P&&t.complete()},Dt=Zt=>P<i?Gt(Zt):C.push(Zt),Gt=Zt=>{f&&t.next(Zt),P++;let ee=!1;ei(n(Zt,B++)).subscribe(ut(t,ue=>{s?.(ue),f?Dt(ue):t.next(ue)},()=>{ee=!0},void 0,()=>{if(ee)try{for(P--;C.length&&P<i;){const ue=C.shift();p?ko(t,p,()=>Gt(ue)):Gt(ue)}mt()}catch(ue){t.error(ue)}}))};return e.subscribe(ut(t,Dt,()=>{Q=!0,mt()})),()=>{w?.()}}(i,s,e,n)))}function no(e=1/0){return Br(oe,e)}const ro=new Ft(e=>e.complete());function uu(e){return e[e.length-1]}function ks(e){return function mh(e){return e&&k(e.schedule)}(uu(e))?e.pop():void 0}function Fs(e,t=0){return W((n,i)=>{n.subscribe(ut(i,s=>ko(i,e,()=>i.next(s),t),()=>ko(i,e,()=>i.complete(),t),s=>ko(i,e,()=>i.error(s),t)))})}function Yn(e,t=0){return W((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function Gu(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ft(n=>{ko(n,t,()=>{const i=e[Symbol.asyncIterator]();ko(n,t,()=>{i.next().then(s=>{s.done?n.complete():n.next(s.value)})},0,!0)})})}function Lr(e,t){return t?function Ir(e,t){if(null!=e){if(to(e))return function Mr(e,t){return ei(e).pipe(Yn(t),Fs(t))}(e,t);if(qr(e))return function Fa(e,t){return new Ft(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}(e,t);if(en(e))return function us(e,t){return ei(e).pipe(Yn(t),Fs(t))}(e,t);if(Yr(e))return Gu(e,t);if(os(e))return function Fo(e,t){return new Ft(n=>{let i;return ko(n,t,()=>{i=e[No](),ko(n,t,()=>{let s,f;try{({value:s,done:f}=i.next())}catch(p){return void n.error(p)}f?n.complete():n.next(s)},0,!0)}),()=>k(i?.return)&&i.return()})}(e,t);if(Jo(e))return function Mn(e,t){return Gu(Na(e),t)}(e,t)}throw Xr(e)}(e,t):ei(e)}function Oi(e,t,...n){if(!0===t)return void e();if(!1===t)return;const i=new pt({next:()=>{i.unsubscribe(),e()}});return ei(t(...n)).subscribe(i)}function tr(e){for(let t in e)if(e[t]===tr)return t;throw Error("Could not find renamed property on target object.")}function pn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(pn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ni(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const li=tr({__forward_ref__:tr});function Cr(e){return e.__forward_ref__=Cr,e.toString=function(){return pn(this())},e}function Qe(e){return Vo(e)?e():e}function Vo(e){return"function"==typeof e&&e.hasOwnProperty(li)&&e.__forward_ref__===Cr}function cu(e){return e&&!!e.\u0275providers}class Ie extends Error{constructor(t,n){super(_a(t,n)),this.code=t}}function _a(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function or(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function sn(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function Ui(e,t){throw new Ie(-201,!1)}function ji(e,t){null==e&&function Hn(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function un(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function wa(e){return{providers:e.providers||[],imports:e.imports||[]}}function vi(e){return Hu(e,Wu)||Hu(e,$s)}function Hu(e,t){return e.hasOwnProperty(t)?e[t]:null}function ke(e){return e&&(e.hasOwnProperty(qu)||e.hasOwnProperty(Yu))?e[qu]:null}const Wu=tr({\u0275prov:tr}),qu=tr({\u0275inj:tr}),$s=tr({ngInjectableDef:tr}),Yu=tr({ngInjectorDef:tr});var qe=(()=>((qe=qe||{})[qe.Default=0]="Default",qe[qe.Host=1]="Host",qe[qe.Self=2]="Self",qe[qe.SkipSelf=4]="SkipSelf",qe[qe.Optional=8]="Optional",qe))();let go;function ni(e){const t=go;return go=e,t}function Xu(e,t,n){const i=vi(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&qe.Optional?null:void 0!==t?t:void Ui(pn(e))}const sr=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zs={},io="__NG_DI_FLAG__",_i="ngTempTokenPath",Zu="ngTokenPath",cs=/\n/gm,fs="\u0275",$o="__source";let mo;function Wi(e){const t=mo;return mo=e,t}function Ci(e,t=qe.Default){if(void 0===mo)throw new Ie(-203,!1);return null===mo?Xu(e,void 0,t):mo.get(e,t&qe.Optional?null:void 0,t)}function Xe(e,t=qe.Default){return(function _h(){return go}()||Ci)(Qe(e),t)}function An(e,t=qe.Default){return Xe(e,na(t))}function na(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function qi(e){const t=[];for(let n=0;n<e.length;n++){const i=Qe(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Ie(900,!1);let s,f=qe.Default;for(let p=0;p<i.length;p++){const w=i[p],C=wh(w);"number"==typeof C?-1===C?s=w.token:f|=C:s=w}t.push(Xe(s,f))}else t.push(Xe(i))}return t}function ds(e,t){return e[io]=t,e.prototype[io]=t,e}function wh(e){return e[io]}function xa(e){return{toString:e}.toString()}var Qr=(()=>((Qr=Qr||{})[Qr.OnPush=0]="OnPush",Qr[Qr.Default=1]="Default",Qr))(),ki=(()=>{return(e=ki||(ki={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",ki;var e})();const ra={},Fn=[],Qu=tr({\u0275cmp:tr}),ba=tr({\u0275dir:tr}),ia=tr({\u0275pipe:tr}),ps=tr({\u0275mod:tr}),oo=tr({\u0275fac:tr}),oa=tr({__NG_ELEMENT_ID__:tr});let zo=0;function xr(e){return xa(()=>{const t=Ku(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Qr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||ki.Emulated,id:"c"+zo++,styles:e.styles||Fn,_:null,schemas:e.schemas||null,tView:null};Ba(n);const i=e.dependencies;return n.directiveDefs=Rr(i,!1),n.pipeDefs=Rr(i,!0),n})}function Uc(e){return Ln(e)||ri(e)}function pu(e){return null!==e}function Va(e){return xa(()=>({type:e.type,bootstrap:e.bootstrap||Fn,declarations:e.declarations||Fn,imports:e.imports||Fn,exports:e.exports||Fn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function gu(e,t){if(null==e)return ra;const n={};for(const i in e)if(e.hasOwnProperty(i)){let s=e[i],f=s;Array.isArray(s)&&(f=s[1],s=s[0]),n[s]=i,t&&(t[s]=f)}return n}function pr(e){return xa(()=>{const t=Ku(e);return Ba(t),t})}function Ln(e){return e[Qu]||null}function ri(e){return e[ba]||null}function Ei(e){return e[ia]||null}function yi(e,t){const n=e[ps]||null;if(!n&&!0===t)throw new Error(`Type ${pn(e)} does not have '\u0275mod' property.`);return n}function Ku(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||Fn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gu(e.inputs,t),outputs:gu(e.outputs)}}function Ba(e){e.features?.forEach(t=>t(e))}function Rr(e,t){if(!e)return null;const n=t?Ei:Uc;return()=>("function"==typeof e?e():e).map(i=>n(i)).filter(pu)}const er=0,Re=1,fn=2,_r=3,ii=4,Yi=5,Ur=6,Gs=7,Or=8,mu=9,Nr=10,gn=11,vo=12,_o=13,jc=14,gs=15,ci=16,ao=17,$a=18,fi=19,sa=20,Sa=21,hr=22,za=1,Ju=2,Uo=7,Ga=8,yo=9,br=10;function hi(e){return Array.isArray(e)&&"object"==typeof e[za]}function wo(e){return Array.isArray(e)&&!0===e[za]}function Ma(e){return 0!=(4&e.flags)}function Us(e){return e.componentOffset>-1}function Ca(e){return 1==(1&e.flags)}function Fi(e){return!!e.template}function Fl(e){return 0!=(256&e[fn])}function Ta(e,t){return e.hasOwnProperty(oo)?e[oo]:null}class Sh{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ea(){return Bl}function Bl(e){return e.type.prototype.ngOnChanges&&(e.setInput=$l),js}function js(){const e=Tr(this),t=e?.current;if(t){const n=e.previous;if(n===ra)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function $l(e,t,n,i){const s=this.declaredInputs[n],f=Tr(e)||function el(e,t){return e[tl]=t}(e,{previous:ra,current:null}),p=f.current||(f.current={}),w=f.previous,C=w[s];p[s]=new Sh(C&&C.currentValue,t,w===ra),e[i]=t}Ea.ngInherit=!0;const tl="__ngSimpleChanges__";function Tr(e){return e[tl]||null}const lo=function(e,t,n){};function wi(e){for(;Array.isArray(e);)e=e[er];return e}function xo(e,t){return wi(t[e.index])}function bo(e,t){const n=t[e];return hi(n)?n:n[er]}function Yc(e){return 64==(64&e[fn])}function Hs(e,t){return null==t?null:e[t]}function gp(e){e[$a]=0}function Mh(e,t){e[Yi]+=t;let n=e,i=e[_r];for(;null!==i&&(1===t&&1===n[Yi]||-1===t&&0===n[Yi]);)i[Yi]+=t,n=i,i=i[_r]}const Tn={lFrame:Aa(null),bindingsEnabled:!0};function vp(){return Tn.bindingsEnabled}function xe(){return Tn.lFrame.lView}function ur(){return Tn.lFrame.tView}function Vi(){let e=_p();for(;null!==e&&64===e.type;)e=e.parent;return e}function _p(){return Tn.lFrame.currentTNode}function Vn(e,t){const n=Tn.lFrame;n.currentTNode=e,n.isParent=t}function Ch(){return Tn.lFrame.isParent}function _m(e,t){const n=Tn.lFrame;n.bindingIndex=n.bindingRootIndex=e,ol(t)}function ol(e){Tn.lFrame.currentDirectiveIndex=e}function Ph(e){Tn.lFrame.currentQueryIndex=e}function ym(e){const t=e[Re];return 2===t.type?t.declTNode:1===t.type?e[Ur]:null}function xp(e,t,n){if(n&qe.SkipSelf){let s=t,f=e;for(;!(s=s.parent,null!==s||n&qe.Host||(s=ym(f),null===s||(f=f[gs],10&s.type))););if(null===s)return!1;t=s,e=f}const i=Tn.lFrame=bp();return i.currentTNode=t,i.lView=e,!0}function Ih(e){const t=bp(),n=e[Re];Tn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function bp(){const e=Tn.lFrame,t=null===e?null:e.child;return null===t?Aa(e):t}function Aa(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Lh(){const e=Tn.lFrame;return Tn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Rh=Lh;function Ws(){const e=Lh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function vs(e){Tn.lFrame.selectedIndex=e}function al(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const f=e.data[n].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:P,ngOnDestroy:B}=f;p&&(e.contentHooks??(e.contentHooks=[])).push(-n,p),w&&((e.contentHooks??(e.contentHooks=[])).push(n,w),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(n,w)),C&&(e.viewHooks??(e.viewHooks=[])).push(-n,C),P&&((e.viewHooks??(e.viewHooks=[])).push(n,P),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(n,P)),null!=B&&(e.destroyHooks??(e.destroyHooks=[])).push(n,B)}}function Ul(e,t,n){v(e,t,3,n)}function sl(e,t,n,i){(3&e[fn])===n&&v(e,t,n,i)}function qs(e,t){let n=e[fn];(3&n)===t&&(n&=2047,n+=1,e[fn]=n)}function v(e,t,n,i){const f=i??-1,p=t.length-1;let w=0;for(let C=void 0!==i?65535&e[$a]:0;C<p;C++)if("number"==typeof t[C+1]){if(w=t[C],null!=i&&w>=i)break}else t[C]<0&&(e[$a]+=65536),(w<f||-1==f)&&(M(e,n,t,C),e[$a]=(4294901760&e[$a])+C+2),C++}function M(e,t,n,i){const s=n[i]<0,f=n[i+1],w=e[s?-n[i]:n[i]];if(s){if(e[fn]>>11<e[$a]>>16&&(3&e[fn])===t){e[fn]+=2048,lo(4,w,f);try{f.call(w)}finally{lo(5,w,f)}}}else{lo(4,w,f);try{f.call(w)}finally{lo(5,w,f)}}}const D=-1;class U{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function me(e,t,n){let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const f=n[i++],p=n[i++],w=n[i++];e.setAttribute(t,p,w,f)}else{const f=s,p=n[++i];be(f)?e.setProperty(t,f,p):e.setAttribute(t,f,p),i++}}return i}function Me(e){return 3===e||4===e||6===e}function be(e){return 64===e.charCodeAt(0)}function Ee(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?n=s:0===n||Pe(e,n,s,null,-1===n||2===n?t[++i]:null)}}return e}function Pe(e,t,n,i,s){let f=0,p=e.length;if(-1===t)p=-1;else for(;f<e.length;){const w=e[f++];if("number"==typeof w){if(w===t){p=-1;break}if(w>t){p=f-1;break}}}for(;f<e.length;){const w=e[f];if("number"==typeof w)break;if(w===n){if(null===i)return void(null!==s&&(e[f+1]=s));if(i===e[f+1])return void(e[f+2]=s)}f++,null!==i&&f++,null!==s&&f++}-1!==p&&(e.splice(p,0,t),f=p+1),e.splice(f++,0,n),null!==i&&e.splice(f++,0,i),null!==s&&e.splice(f++,0,s)}function tn(e){return e!==D}function En(e){return 32767&e}function cr(e,t){let n=function jn(e){return e>>16}(e),i=t;for(;n>0;)i=i[gs],n--;return i}let Zn=!0;function nr(e){const t=Zn;return Zn=e,t}const $r=255,ua=5;let Ha=0;const Bi={};function Zc(e,t){const n=zy(e,t);if(-1!==n)return n;const i=t[Re];i.firstCreatePass&&(e.injectorIndex=t.length,Cm(i.data,e),Cm(t,null),Cm(i.blueprint,null));const s=Nh(e,t),f=e.injectorIndex;if(tn(s)){const p=En(s),w=cr(s,t),C=w[Re].data;for(let P=0;P<8;P++)t[f+P]=w[p+P]|C[p+P]}return t[f+8]=s,f}function Cm(e,t){e.push(0,0,0,0,0,0,0,0,t)}function zy(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Nh(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,s=t;for(;null!==s;){if(i=Hy(s),null===i)return D;if(n++,s=s[gs],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return D}function kh(e,t,n){!function jl(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(oa)&&(i=n[oa]),null==i&&(i=n[oa]=Ha++);const s=i&$r;t.data[e+(s>>ua)]|=1<<s}(e,t,n)}function ul(e,t,n){if(n&qe.Optional||void 0!==e)return e;Ui()}function Gy(e,t,n,i){if(n&qe.Optional&&void 0===i&&(i=null),!(n&(qe.Self|qe.Host))){const s=e[mu],f=ni(void 0);try{return s?s.get(t,i,n&qe.Optional):Xu(t,i,n&qe.Optional)}finally{ni(f)}}return ul(i,0,n)}function Mp(e,t,n,i=qe.Default,s){if(null!==e){if(1024&t[fn]){const p=function ll(e,t,n,i,s){let f=e,p=t;for(;null!==f&&null!==p&&1024&p[fn]&&!(256&p[fn]);){const w=Em(f,p,n,i|qe.Self,Bi);if(w!==Bi)return w;let C=f.parent;if(!C){const P=p[Sa];if(P){const B=P.get(n,Bi,i);if(B!==Bi)return B}C=Hy(p),p=p[gs]}f=C}return s}(e,t,n,i,Bi);if(p!==Bi)return p}const f=Em(e,t,n,i,Bi);if(f!==Bi)return f}return Gy(t,n,i,s)}function Em(e,t,n,i,s){const f=function QS(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(oa)?e[oa]:void 0;return"number"==typeof t?t>=0?t&$r:Wa:t}(n);if("function"==typeof f){if(!xp(t,e,i))return i&qe.Host?ul(s,0,i):Gy(t,n,i,s);try{const p=f(i);if(null!=p||i&qe.Optional)return p;Ui()}finally{Rh()}}else if("number"==typeof f){let p=null,w=zy(e,t),C=D,P=i&qe.Host?t[ci][Ur]:null;for((-1===w||i&qe.SkipSelf)&&(C=-1===w?Nh(e,t):t[w+8],C!==D&&jy(i,!1)?(p=t[Re],w=En(C),t=cr(C,t)):w=-1);-1!==w;){const B=t[Re];if(Uy(f,w,B.data)){const Q=Hl(w,t,n,p,i,P);if(Q!==Bi)return Q}C=t[w+8],C!==D&&jy(i,t[Re].data[w+8]===P)&&Uy(f,w,t)?(p=B,w=En(C),t=cr(C,t)):w=-1}}return s}function Hl(e,t,n,i,s,f){const p=t[Re],w=p.data[e+8],B=function Cp(e,t,n,i,s){const f=e.providerIndexes,p=t.data,w=1048575&f,C=e.directiveStart,B=f>>20,mt=s?w+B:e.directiveEnd;for(let Dt=i?w:w+B;Dt<mt;Dt++){const Gt=p[Dt];if(Dt<C&&n===Gt||Dt>=C&&Gt.type===n)return Dt}if(s){const Dt=p[C];if(Dt&&Fi(Dt)&&Dt.type===n)return C}return null}(w,p,n,null==i?Us(w)&&Zn:i!=p&&0!=(3&w.type),s&qe.Host&&f===w);return null!==B?Wl(t,p,B,w):Bi}function Wl(e,t,n,i){let s=e[n];const f=t.data;if(function G(e){return e instanceof U}(s)){const p=s;p.resolving&&function fu(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${e}${n}`)}(or(f[n]));const w=nr(p.canSeeViewProviders);p.resolving=!0;const C=p.injectImpl?ni(p.injectImpl):null;xp(e,i,qe.Default);try{s=e[n]=p.factory(void 0,f,e,i),t.firstCreatePass&&n>=i.directiveStart&&function Sp(e,t,n){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:f}=t.type.prototype;if(i){const p=Bl(t);(n.preOrderHooks??(n.preOrderHooks=[])).push(e,p),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,p)}s&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-e,s),f&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e,f),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,f))}(n,f[n],t)}finally{null!==C&&ni(C),nr(w),p.resolving=!1,Rh()}}return s}function Uy(e,t,n){return!!(n[t+(e>>ua)]&1<<e)}function jy(e,t){return!(e&qe.Self||e&qe.Host&&t)}class Qc{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Mp(this._tNode,this._lView,t,na(i),n)}}function Wa(){return new Qc(Vi(),xe())}function Tp(e){return Vo(e)?()=>{const t=Tp(Qe(e));return t&&t()}:Ta(e)}function Hy(e){const t=e[Re],n=t.type;return 2===n?t.declTNode:1===n?e[Ur]:null}const ql="__parameters__";function Xl(e,t,n){return xa(()=>{const i=function yu(e){return function(...n){if(e){const i=e(...n);for(const s in i)this[s]=i[s]}}}(t);function s(...f){if(this instanceof s)return i.apply(this,f),this;const p=new s(...f);return w.annotation=p,w;function w(C,P,B){const Q=C.hasOwnProperty(ql)?C[ql]:Object.defineProperty(C,ql,{value:[]})[ql];for(;Q.length<=B;)Q.push(null);return(Q[B]=Q[B]||[]).push(p),C}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}class wn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=un({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function wu(e,t){e.forEach(n=>Array.isArray(n)?wu(n,t):t(n))}function Pp(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function tf(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Uh=ds(Xl("Optional"),8),qa=ds(Xl("SkipSelf"),4);var Di=(()=>((Di=Di||{})[Di.Important=1]="Important",Di[Di.DashCase=2]="DashCase",Di))();const Om=new Map;let v2=0;const Nm="__ngContext__";function Mo(e,t){hi(t)?(e[Nm]=t[sa],function y2(e){Om.set(e[sa],e)}(t)):e[Nm]=t}let Vm;function Gp(e,t){return Vm(e,t)}function Wh(e){const t=e[_r];return wo(t)?t[_r]:t}function $m(e){return g1(e[_o])}function zm(e){return g1(e[ii])}function g1(e){for(;null!==e&&!wo(e);)e=e[ii];return e}function rf(e,t,n,i,s){if(null!=i){let f,p=!1;wo(i)?f=i:hi(i)&&(p=!0,i=i[er]);const w=wi(i);0===e&&null!==n?null==s?w1(t,n,w):tc(t,n,w,s||null,!0):1===e&&null!==n?tc(t,n,w,s||null,!0):2===e?function Ys(e,t,n){const i=Hp(e,t);i&&function x1(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,w,p):3===e&&t.destroyNode(w),null!=f&&function N2(e,t,n,i,s){const f=n[Uo];f!==wi(n)&&rf(t,e,i,f,s);for(let w=br;w<n.length;w++){const C=n[w];sf(C[Re],C,e,t,i,f)}}(t,e,f,n,s)}}function Jl(e,t,n){return e.createElement(t,n)}function Up(e,t){const n=e[yo],i=n.indexOf(t),s=t[_r];512&t[fn]&&(t[fn]&=-513,Mh(s,-1)),n.splice(i,1)}function Yh(e,t){if(e.length<=br)return;const n=br+t,i=e[n];if(i){const s=i[ao];null!==s&&s!==e&&Up(s,i),t>0&&(e[n-1][ii]=i[ii]);const f=tf(e,br+t);!function A2(e,t){sf(e,t,t[gn],2,null,null),t[er]=null,t[Ur]=null}(i[Re],i);const p=f[fi];null!==p&&p.detachView(f[Re]),i[_r]=null,i[ii]=null,i[fn]&=-65}return i}function v1(e,t){if(!(128&t[fn])){const n=t[gn];n.destroyNode&&sf(e,t,n,3,null,null),function P2(e){let t=e[_o];if(!t)return jp(e[Re],e);for(;t;){let n=null;if(hi(t))n=t[_o];else{const i=t[br];i&&(n=i)}if(!n){for(;t&&!t[ii]&&t!==e;)hi(t)&&jp(t[Re],t),t=t[_r];null===t&&(t=e),hi(t)&&jp(t[Re],t),n=t&&t[ii]}t=n}}(t)}}function jp(e,t){if(!(128&t[fn])){t[fn]&=-65,t[fn]|=128,function L2(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const s=t[n[i]];if(!(s instanceof U)){const f=n[i+1];if(Array.isArray(f))for(let p=0;p<f.length;p+=2){const w=s[f[p]],C=f[p+1];lo(4,w,C);try{C.call(w)}finally{lo(5,w,C)}}else{lo(4,s,f);try{f.call(s)}finally{lo(5,s,f)}}}}}(e,t),function I2(e,t){const n=e.cleanup,i=t[Gs];let s=-1;if(null!==n)for(let f=0;f<n.length-1;f+=2)if("string"==typeof n[f]){const p=n[f+3];p>=0?i[s=p]():i[s=-p].unsubscribe(),f+=2}else{const p=i[s=n[f+1]];n[f].call(p)}if(null!==i){for(let f=s+1;f<i.length;f++)(0,i[f])();t[Gs]=null}}(e,t),1===t[Re].type&&t[gn].destroy();const n=t[ao];if(null!==n&&wo(t[_r])){n!==t[_r]&&Up(n,t);const i=t[fi];null!==i&&i.detachView(e)}!function w2(e){Om.delete(e[sa])}(t)}}function _1(e,t,n){return function y1(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[er];{const{componentOffset:s}=i;if(s>-1){const{encapsulation:f}=e.data[i.directiveStart+s];if(f===ki.None||f===ki.Emulated)return null}return xo(i,n)}}(e,t.parent,n)}function tc(e,t,n,i,s){e.insertBefore(t,n,i,s)}function w1(e,t,n){e.appendChild(t,n)}function Xh(e,t,n,i,s){null!==i?tc(e,t,n,i,s):w1(e,t,n)}function Hp(e,t){return e.parentNode(t)}let Zh,Wm,M1=function S1(e,t,n){return 40&e.type?xo(e,n):null};function Wp(e,t,n,i){const s=_1(e,i,t),f=t[gn],w=function b1(e,t,n){return M1(e,t,n)}(i.parent||t[Ur],i,t);if(null!=s)if(Array.isArray(n))for(let C=0;C<n.length;C++)Xh(f,s,n[C],w,!1);else Xh(f,s,n,w,!1);void 0!==Zh&&Zh(f,i,t,n,s)}function qp(e,t){if(null!==t){const n=t.type;if(3&n)return xo(t,e);if(4&n)return xi(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return qp(e,i);{const s=e[t.index];return wo(s)?xi(-1,s):wi(s)}}if(32&n)return Gp(t,e)()||wi(e[t.index]);{const i=T1(e,t);return null!==i?Array.isArray(i)?i[0]:qp(Wh(e[ci]),i):qp(e,t.next)}}return null}function T1(e,t){return null!==t?e[ci][Ur].projection[t.projection]:null}function xi(e,t){const n=br+e+1;if(n<t.length){const i=t[n],s=i[Re].firstChild;if(null!==s)return qp(i,s)}return t[Uo]}function jm(e,t,n,i,s,f,p){for(;null!=n;){const w=i[n.index],C=n.type;if(p&&0===t&&(w&&Mo(wi(w),i),n.flags|=2),32!=(32&n.flags))if(8&C)jm(e,t,n.child,i,s,f,!1),rf(t,e,s,w,f);else if(32&C){const P=Gp(n,i);let B;for(;B=P();)rf(t,e,s,B,f);rf(t,e,s,w,f)}else 16&C?E1(e,t,i,n,s,f):rf(t,e,s,w,f);n=p?n.projectionNext:n.next}}function sf(e,t,n,i,s,f){jm(n,i,e.firstChild,t,s,f,!1)}function E1(e,t,n,i,s,f){const p=n[ci],C=p[Ur].projection[i.projection];if(Array.isArray(C))for(let P=0;P<C.length;P++)rf(t,e,s,C[P],f);else jm(e,t,C,p[_r],s,f,!0)}function A1(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function D1(e,t,n){const{mergedAttrs:i,classes:s,styles:f}=n;null!==i&&me(e,t,i),null!==s&&A1(e,t,s),null!==f&&function Ho(e,t,n){e.setAttribute(t,"style",n)}(e,t,f)}const Km=new wn("ENVIRONMENT_INITIALIZER"),nd=new wn("INJECTOR",-1),eg=new wn("INJECTOR_DEF_TYPES");class ze{get(t,n=zs){if(n===zs){const i=new Error(`NullInjectorError: No provider for ${pn(t)}!`);throw i.name="NullInjectorError",i}return n}}function Pi(...e){return{\u0275providers:ng(0,e),\u0275fromNgModule:!0}}function ng(e,...t){const n=[],i=new Set;let s;return wu(t,f=>{const p=f;co(p,n,[],i)&&(s||(s=[]),s.push(p))}),void 0!==s&&Jm(s,n),n}function Jm(e,t){for(let n=0;n<e.length;n++){const{providers:s}=e[n];Hr(s,f=>{t.push(f)})}}function co(e,t,n,i){if(!(e=Qe(e)))return!1;let s=null,f=ke(e);const p=!f&&Ln(e);if(f||p){if(p&&!p.standalone)return!1;s=e}else{const C=e.ngModule;if(f=ke(C),!f)return!1;s=C}const w=i.has(s);if(p){if(w)return!1;if(i.add(s),p.dependencies){const C="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const P of C)co(P,t,n,i)}}else{if(!f)return!1;{if(null!=f.imports&&!w){let P;i.add(s);try{wu(f.imports,B=>{co(B,t,n,i)&&(P||(P=[]),P.push(B))})}finally{}void 0!==P&&Jm(P,t)}if(!w){const P=Ta(s)||(()=>new s);t.push({provide:s,useFactory:P,deps:Fn},{provide:eg,useValue:s,multi:!0},{provide:Km,useValue:()=>Xe(s),multi:!0})}const C=f.providers;null==C||w||Hr(C,B=>{t.push(B)})}}return s!==e&&void 0!==e.providers}function Hr(e,t){for(let n of e)cu(n)&&(n=n.\u0275providers),Array.isArray(n)?Hr(n,t):t(n)}const rg=tr({provide:String,useValue:tr});function ig(e){return null!==e&&"object"==typeof e&&rg in e}function hl(e){return"function"==typeof e}const df=new wn("Set Injector scope."),rc={},B1={};let ag;function pf(){return void 0===ag&&(ag=new ze),ag}class xs{}class sg extends xs{get destroyed(){return this._destroyed}constructor(t,n,i,s){super(),this.parent=n,this.source=i,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gf(t,p=>this.processProvider(p)),this.records.set(nd,ic(void 0,this)),s.has("environment")&&this.records.set(xs,ic(void 0,this));const f=this.records.get(df);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(eg.multi,Fn,qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Wi(this),i=ni(void 0);try{return t()}finally{Wi(n),ni(i)}}get(t,n=zs,i=qe.Default){this.assertNotDestroyed(),i=na(i);const s=Wi(this),f=ni(void 0);try{if(!(i&qe.SkipSelf)){let w=this.records.get(t);if(void 0===w){const C=function oc(e){return"function"==typeof e||"object"==typeof e&&e instanceof wn}(t)&&vi(t);w=C&&this.injectableDefInScope(C)?ic(Xa(t),rc):null,this.records.set(t,w)}if(null!=w)return this.hydrate(t,w)}return(i&qe.Self?pf():this.parent).get(t,n=i&qe.Optional&&n===zs?null:n)}catch(p){if("NullInjectorError"===p.name){if((p[_i]=p[_i]||[]).unshift(pn(t)),s)throw p;return function xh(e,t,n,i){const s=e[_i];throw t[$o]&&s.unshift(t[$o]),e.message=function Gc(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==fs?e.slice(2):e;let s=pn(t);if(Array.isArray(t))s=t.map(pn).join(" -> ");else if("object"==typeof t){let f=[];for(let p in t)if(t.hasOwnProperty(p)){let w=t[p];f.push(p+":"+("string"==typeof w?JSON.stringify(w):pn(w)))}s=`{${f.join(", ")}}`}return`${n}${i?"("+i+")":""}[${s}]: ${e.replace(cs,"\n  ")}`}("\n"+e.message,s,n,i),e[Zu]=s,e[_i]=null,e}(p,t,"R3InjectorError",this.source)}throw p}finally{ni(f),Wi(s)}}resolveInjectorInitializers(){const t=Wi(this),n=ni(void 0);try{const i=this.get(Km.multi,Fn,qe.Self);for(const s of i)s()}finally{Wi(t),ni(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(pn(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(t){let n=hl(t=Qe(t))?t:Qe(t&&t.provide);const i=function tM(e){return ig(e)?ic(void 0,e.useValue):ic(function $1(e,t,n){let i;if(hl(e)){const s=Qe(e);return Ta(s)||Xa(s)}if(ig(e))i=()=>Qe(e.useValue);else if(function og(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...qi(e.deps||[]));else if(function tv(e){return!(!e||!e.useExisting)}(e))i=()=>Xe(Qe(e.useExisting));else{const s=Qe(e&&(e.useClass||e.provide));if(!function eM(e){return!!e.deps}(e))return Ta(s)||Xa(s);i=()=>new s(...qi(e.deps))}return i}(e),rc)}(t);if(hl(t)||!0!==t.multi)this.records.get(n);else{let s=this.records.get(n);s||(s=ic(void 0,rc,!0),s.factory=()=>qi(s.multi),this.records.set(n,s)),n=t,s.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===rc&&(n.value=B1,n.value=n.factory()),"object"==typeof n.value&&n.value&&function ug(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Qe(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Xa(e){const t=vi(e),n=null!==t?t.factory:Ta(e);if(null!==n)return n;if(e instanceof wn)throw new Ie(204,!1);if(e instanceof Function)return function J2(e){const t=e.length;if(t>0)throw function Zl(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}(t,"?"),new Ie(204,!1);const n=function $c(e){return e&&(e[Wu]||e[$s])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Ie(204,!1)}function ic(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function gf(e,t){for(const n of e)Array.isArray(n)?gf(n,t):n&&cu(n)?gf(n.\u0275providers,t):t(n)}class mf{}class lg{}class fa{resolveComponentFactory(t){throw function cg(e){const t=Error(`No component factory found for ${pn(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let zr=(()=>{class e{}return e.NULL=new fa,e})();function Da(){return Za(Vi(),xe())}function Za(e,t){return new Tu(xo(e,t))}let Tu=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=Da,e})();class ac{}let Eu=(()=>{class e{}return e.\u0275prov=un({token:e,providedIn:"root",factory:()=>null}),e})();class Qa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ev=new Qa("15.2.9"),fg={},hg="ngOriginalError";function dg(e){return e[hg]}class vf{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&dg(t);for(;n&&dg(n);)n=dg(n);return n||null}}function Ka(e){return e instanceof Function?e():e}function _g(e,t,n){let i=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const f=t.length;if(s+f===i||e.charCodeAt(s+f)<=32)return s}n=s+1}}const iv="ng-template";function H1(e,t,n){let i=0,s=!0;for(;i<e.length;){let f=e[i++];if("string"==typeof f&&s){const p=e[i++];if(n&&"class"===f&&-1!==_g(p.toLowerCase(),t,0))return!0}else{if(1===f){for(;i<e.length&&"string"==typeof(f=e[i++]);)if(f.toLowerCase()===t)return!0;return!1}"number"==typeof f&&(s=!1)}}return!1}function Ao(e){return 4===e.type&&e.value!==iv}function Wo(e,t,n){return t===(4!==e.type||n?e.value:iv)}function qo(e,t,n){let i=4;const s=e.attrs||[],f=function oM(e){for(let t=0;t<e.length;t++)if(Me(e[t]))return t;return e.length}(s);let p=!1;for(let w=0;w<t.length;w++){const C=t[w];if("number"!=typeof C){if(!p)if(4&i){if(i=2|1&i,""!==C&&!Wo(e,C,n)||""===C&&1===t.length){if(bi(i))return!1;p=!0}}else{const P=8&i?C:t[++w];if(8&i&&null!==e.attrs){if(!H1(e.attrs,P,n)){if(bi(i))return!1;p=!0}continue}const Q=ov(8&i?"class":C,s,Ao(e),n);if(-1===Q){if(bi(i))return!1;p=!0;continue}if(""!==P){let mt;mt=Q>f?"":s[Q+1].toLowerCase();const Dt=8&i?mt:null;if(Dt&&-1!==_g(Dt,P,0)||2&i&&P!==mt){if(bi(i))return!1;p=!0}}}}else{if(!p&&!bi(i)&&!bi(C))return!1;if(p&&bi(C))continue;p=!1,i=C|1&i}}return bi(i)||p}function bi(e){return 0==(1&e)}function ov(e,t,n,i){if(null===t)return-1;let s=0;if(i||!n){let f=!1;for(;s<t.length;){const p=t[s];if(p===e)return s;if(3===p||6===p)f=!0;else{if(1===p||2===p){let w=t[++s];for(;"string"==typeof w;)w=t[++s];continue}if(4===p)break;if(0===p){s+=4;continue}}s+=f?1:2}return-1}return function aM(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function _f(e,t,n=!1){for(let i=0;i<t.length;i++)if(qo(e,t[i],n))return!0;return!1}function Y1(e,t){return e?":not("+t.trim()+")":t}function sM(e){let t=e[0],n=1,i=2,s="",f=!1;for(;n<e.length;){let p=e[n];if("string"==typeof p)if(2&i){const w=e[++n];s+="["+p+(w.length>0?'="'+w+'"':"")+"]"}else 8&i?s+="."+p:4&i&&(s+=" "+p);else""!==s&&!bi(p)&&(t+=Y1(f,s),s=""),i=p,f=f||!bi(i);n++}return""!==s&&(t+=Y1(f,s)),t}const Pn={};function lv(e,t=null,n=null,i){const s=od(e,t,n,i);return s.resolveInjectorInitializers(),s}function od(e,t=null,n=null,i,s=new Set){const f=[n||Fn,Pi(e)];return i=i||("object"==typeof e?void 0:pn(e)),new sg(f,t||pf(),i||null,s)}let Ja=(()=>{class e{static create(n,i){if(Array.isArray(n))return lv({name:""},i,n,"");{const s=n.name??"";return lv({name:s},n.parent,n.providers,s)}}}return e.THROW_IF_NOT_FOUND=zs,e.NULL=new ze,e.\u0275prov=un({token:e,providedIn:"any",factory:()=>Xe(nd)}),e.__NG_ELEMENT_ID__=-1,e})();function mn(e,t=qe.Default){const n=xe();return null===n?Xe(e,t):Mp(Vi(),n,Qe(e),t)}function mv(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const f=n[i+1];if(-1!==f){const p=e.data[f];Ph(n[i]),p.contentQueries(2,t[f],f)}}}function Eg(e,t,n,i,s,f,p,w,C,P,B){const Q=t.blueprint.slice();return Q[er]=s,Q[fn]=76|i,(null!==B||e&&1024&e[fn])&&(Q[fn]|=1024),gp(Q),Q[_r]=Q[gs]=e,Q[Or]=n,Q[Nr]=p||e&&e[Nr],Q[gn]=w||e&&e[gn],Q[vo]=C||e&&e[vo]||null,Q[mu]=P||e&&e[mu]||null,Q[Ur]=f,Q[sa]=function _2(){return v2++}(),Q[Sa]=B,Q[ci]=2==t.type?e[ci]:Q,Q}function uc(e,t,n,i,s){let f=e.data[t];if(null===f)f=function vv(e,t,n,i,s){const f=_p(),p=Ch(),C=e.data[t]=function ml(e,t,n,i,s,f){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?f:f&&f.parent,n,t,i,s);return null===e.firstChild&&(e.firstChild=C),null!==f&&(p?null==f.child&&null!==C.parent&&(f.child=C):null===f.next&&(f.next=C,C.prev=f)),C}(e,t,n,i,s),function yp(){return Tn.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=n,f.value=i,f.attrs=s;const p=function Sr(){const e=Tn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();f.injectorIndex=null===p?-1:p.injectorIndex}return Vn(f,!0),f}function xf(e,t,n,i){if(0===n)return-1;const s=t.length;for(let f=0;f<n;f++)t.push(i),e.blueprint.push(i),e.data.push(null);return s}function Ag(e,t,n){Ih(t);try{const i=e.viewQuery;null!==i&&gd(1,i,n);const s=e.template;null!==s&&sw(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&mv(e,t),e.staticViewQueries&&gd(2,e.viewQuery,n);const f=e.components;null!==f&&function aw(e,t){for(let n=0;n<t.length;n++)xM(e,t[n])}(t,f)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[fn]&=-5,Ws()}}function ld(e,t,n,i){const s=t[fn];if(128!=(128&s)){Ih(t);try{gp(t),function Xc(e){return Tn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&sw(e,t,n,2,i);const p=3==(3&s);if(p){const P=e.preOrderCheckHooks;null!==P&&Ul(t,P,null)}else{const P=e.preOrderHooks;null!==P&&sl(t,P,0,null),qs(t,0)}if(function yM(e){for(let t=$m(e);null!==t;t=zm(t)){if(!t[Ju])continue;const n=t[yo];for(let i=0;i<n.length;i++){const s=n[i];512&s[fn]||Mh(s[_r],1),s[fn]|=512}}}(t),function pw(e){for(let t=$m(e);null!==t;t=zm(t))for(let n=br;n<t.length;n++){const i=t[n],s=i[Re];Yc(i)&&ld(s,i,s.template,i[Or])}}(t),null!==e.contentQueries&&mv(e,t),p){const P=e.contentCheckHooks;null!==P&&Ul(t,P)}else{const P=e.contentHooks;null!==P&&sl(t,P,1),qs(t,1)}!function Tg(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)vs(~s);else{const f=s,p=n[++i],w=n[++i];_m(p,f),w(2,t[f])}}}finally{vs(-1)}}(e,t);const w=e.components;null!==w&&function ow(e,t){for(let n=0;n<t.length;n++)wM(e,t[n])}(t,w);const C=e.viewQuery;if(null!==C&&gd(2,C,i),p){const P=e.viewCheckHooks;null!==P&&Ul(t,P)}else{const P=e.viewHooks;null!==P&&sl(t,P,2),qs(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[fn]&=-41,512&t[fn]&&(t[fn]&=-513,Mh(t[_r],-1))}finally{Ws()}}}function sw(e,t,n,i,s){const f=function oi(){return Tn.lFrame.selectedIndex}(),p=2&i;try{vs(-1),p&&t.length>hr&&function yg(e,t,n,i){if(!i)if(3==(3&t[fn])){const f=e.preOrderCheckHooks;null!==f&&Ul(t,f,n)}else{const f=e.preOrderHooks;null!==f&&sl(t,f,0,n)}vs(n)}(e,t,hr,!1),lo(p?2:0,s),n(i,s)}finally{vs(f),lo(p?3:1,s)}}function _v(e,t,n){if(Ma(t)){const s=t.directiveEnd;for(let f=t.directiveStart;f<s;f++){const p=e.data[f];p.contentQueries&&p.contentQueries(1,n[f],f)}}}function Dg(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Pg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Pg(e,t,n,i,s,f,p,w,C,P){const B=hr+i,Q=B+s,mt=function uw(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:Pn);return n}(B,Q),Dt="function"==typeof P?P():P;return mt[Re]={type:e,blueprint:mt,template:n,queries:null,viewQuery:w,declTNode:t,data:mt.slice().fill(null,B),bindingStartIndex:B,expandoStartIndex:Q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:C,consts:Dt,incompleteFirstPass:!1}}function lw(e,t,n,i){for(let s in e)if(e.hasOwnProperty(s)){n=null===n?{}:n;const f=e[s];null===i?cw(n,t,s,f):i.hasOwnProperty(s)&&cw(n,t,i[s],f)}return n}function cw(e,t,n,i){e.hasOwnProperty(n)?e[n].push(t,i):e[n]=[t,i]}function hw(e,t,n,i,s,f){for(let P=0;P<i.length;P++)kh(Zc(n,t),e,i[P].type);!function bv(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let P=0;P<i.length;P++){const B=i[P];B.providersResolver&&B.providersResolver(B)}let p=!1,w=!1,C=xf(e,t,i.length,null);for(let P=0;P<i.length;P++){const B=i[P];n.mergedAttrs=Ee(n.mergedAttrs,B.hostAttrs),hd(e,n,t,C,B),xv(C,B,s),null!==B.contentQueries&&(n.flags|=4),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(n.flags|=64);const Q=B.type.prototype;!p&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n.index),p=!0),!w&&(Q.ngOnChanges||Q.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n.index),w=!0),C++}!function fw(e,t,n){const s=t.directiveEnd,f=e.data,p=t.attrs,w=[];let C=null,P=null;for(let B=t.directiveStart;B<s;B++){const Q=f[B],mt=n?n.get(Q):null,Gt=mt?mt.outputs:null;C=lw(Q.inputs,B,C,mt?mt.inputs:null),P=lw(Q.outputs,B,P,Gt);const Zt=null===C||null===p||Ao(t)?null:Ss(C,B,p);w.push(Zt)}null!==C&&(C.hasOwnProperty("class")&&(t.flags|=8),C.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=w,t.inputs=C,t.outputs=P}(e,n,f)}function Ng(e,t,n){const i=n.directiveStart,s=n.directiveEnd,f=n.index,p=function il(){return Tn.lFrame.currentDirectiveIndex}();try{vs(f);for(let w=i;w<s;w++){const C=e.data[w],P=t[w];ol(w),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&fd(C,P)}}finally{vs(-1),ol(p)}}function fd(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Mf(e,t,n){t.componentOffset=n,(e.components??(e.components=[])).push(t.index)}function xv(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Fi(t)&&(n[""]=e)}}function hd(e,t,n,i,s){e.data[i]=s;const f=s.factory||(s.factory=Ta(s.type)),p=new U(f,Fi(s),mn);e.blueprint[i]=p,n[i]=p,function _M(e,t,n,i,s){const f=s.hostBindings;if(f){let p=e.hostBindingOpCodes;null===p&&(p=e.hostBindingOpCodes=[]);const w=~t.index;(function Og(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(p)!=w&&p.push(w),p.push(n,i,f)}}(e,t,i,xf(e,n,s.hostVars,Pn),s)}function Xs(e,t,n,i,s,f){const p=f[t];if(null!==p){const w=i.setInput;for(let C=0;C<p.length;){const P=p[C++],B=p[C++],Q=p[C++];null!==w?i.setInput(n,Q,P,B):n[B]=Q}}}function Ss(e,t,n){let i=null,s=0;for(;s<n.length;){const f=n[s];if(0!==f)if(5!==f){if("number"==typeof f)break;if(e.hasOwnProperty(f)){null===i&&(i=[]);const p=e[f];for(let w=0;w<p.length;w+=2)if(p[w]===t){i.push(f,p[w+1],n[s+1]);break}}s+=2}else s+=2;else s+=4}return i}function wM(e,t){const n=bo(t,e);if(Yc(n)){const i=n[Re];48&n[fn]?ld(i,n,i.template,n[Or]):n[Yi]>0&&Fg(n)}}function Fg(e){for(let i=$m(e);null!==i;i=zm(i))for(let s=br;s<i.length;s++){const f=i[s];if(Yc(f))if(512&f[fn]){const p=f[Re];ld(p,f,p.template,f[Or])}else f[Yi]>0&&Fg(f)}const n=e[Re].components;if(null!==n)for(let i=0;i<n.length;i++){const s=bo(n[i],e);Yc(s)&&s[Yi]>0&&Fg(s)}}function xM(e,t){const n=bo(t,e),i=n[Re];(function bM(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),Ag(i,n,n[Or])}function Vg(e,t){return e[_o]?e[jc][ii]=t:e[_o]=t,e[jc]=t,t}function dd(e){for(;e;){e[fn]|=32;const t=Wh(e);if(Fl(e)&&!t)return e;e=t}return null}function pd(e,t,n,i=!0){const s=t[Nr];s.begin&&s.begin();try{ld(e,t,e.template,n)}catch(p){throw i&&Ef(t,p),p}finally{s.end&&s.end()}}function gd(e,t,n){Ph(0),t(e,n)}function Sv(e){return e[Gs]||(e[Gs]=[])}function Mv(e){return e.cleanup||(e.cleanup=[])}function Ef(e,t){const n=e[mu],i=n?n.get(vf,null):null;i&&i.handleError(t)}function Af(e,t,n,i,s){for(let f=0;f<n.length;){const p=n[f++],w=n[f++],C=t[p],P=e.data[p];null!==P.setInput?P.setInput(C,s,i,w):C[w]=s}}function md(e,t,n){let i=n?e.styles:null,s=n?e.classes:null,f=0;if(null!==t)for(let p=0;p<t.length;p++){const w=t[p];"number"==typeof w?f=w:1==f?s=Ni(s,w):2==f&&(i=Ni(i,w+": "+t[++p]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=s:e.classesWithoutHost=s}function vd(e,t,n,i,s=!1){for(;null!==n;){const f=t[n.index];if(null!==f&&i.push(wi(f)),wo(f))for(let w=br;w<f.length;w++){const C=f[w],P=C[Re].firstChild;null!==P&&vd(C[Re],C,P,i)}const p=n.type;if(8&p)vd(e,t,n.child,i);else if(32&p){const w=Gp(n,t);let C;for(;C=w();)i.push(C)}else if(16&p){const w=T1(t,n);if(Array.isArray(w))i.push(...w);else{const C=Wh(t[ci]);vd(C[Re],C,w,i,!0)}}n=s?n.projectionNext:n.next}return i}class Df{get rootNodes(){const t=this._lView,n=t[Re];return vd(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Or]}set context(t){this._lView[Or]=t}get destroyed(){return 128==(128&this._lView[fn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[_r];if(wo(t)){const n=t[Ga],i=n?n.indexOf(this):-1;i>-1&&(Yh(t,i),tf(n,i))}this._attachedToViewContainer=!1}v1(this._lView[Re],this._lView)}onDestroy(t){!function Ig(e,t,n,i){const s=Sv(t);null===n?s.push(i):(s.push(n),e.firstCreatePass&&Mv(e).push(i,s.length-1))}(this._lView[Re],this._lView,null,t)}markForCheck(){dd(this._cdRefInjectingView||this._lView)}detach(){this._lView[fn]&=-65}reattach(){this._lView[fn]|=64}detectChanges(){pd(this._lView[Re],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function D2(e,t){sf(e,t,t[gn],2,null,null)}(this._lView[Re],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=t}}class mw extends Df{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;pd(t[Re],t,t[Or],!1)}checkNoChanges(){}get context(){return null}}class vw extends zr{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Ln(t);return new cc(n,this.ngModule)}}function _w(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Cv{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=na(i);const s=this.injector.get(t,fg,i);return s!==fg||n===fg?s:this.parentInjector.get(t,n,i)}}class cc extends lg{get inputs(){return _w(this.componentDef.inputs)}get outputs(){return _w(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function uM(e){return e.map(sM).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,s){let f=(s=s||this.ngModule)instanceof xs?s:s?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const p=f?new Cv(t,f):t,w=p.get(ac,null);if(null===w)throw new Ie(407,!1);const C=p.get(Eu,null),P=w.createRenderer(null,this.componentDef),B=this.componentDef.selectors[0][0]||"div",Q=i?function yv(e,t,n){return e.selectRootElement(t,n===ki.ShadowDom)}(P,i,this.componentDef.encapsulation):Jl(P,B,function _d(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(B)),mt=this.componentDef.onPush?288:272,Dt=Pg(0,null,null,1,0,null,null,null,null,null),Gt=Eg(null,Dt,null,mt,null,null,w,P,C,p,null);let Zt,ee;Ih(Gt);try{const ue=this.componentDef;let Te,fe=null;ue.findHostDirectiveDefs?(Te=[],fe=new Map,ue.findHostDirectiveDefs(ue,Te,fe),Te.push(ue)):Te=[ue];const Ne=function Tv(e,t){const n=e[Re],i=hr;return e[i]=t,uc(n,i,2,"#host",null)}(Gt,Q),_n=function Ev(e,t,n,i,s,f,p,w){const C=s[Re];!function ww(e,t,n,i){for(const s of e)t.mergedAttrs=Ee(t.mergedAttrs,s.hostAttrs);null!==t.mergedAttrs&&(md(t,t.mergedAttrs,!0),null!==n&&D1(i,n,t))}(i,e,t,p);const P=f.createRenderer(t,n),B=Eg(s,Dg(n),null,n.onPush?32:16,s[e.index],e,f,P,w||null,null,null);return C.firstCreatePass&&Mf(C,e,i.length-1),Vg(s,B),s[e.index]=B}(Ne,Q,ue,Te,Gt,w,P);ee=function pp(e,t){return e.data[t]}(Dt,hr),Q&&function xw(e,t,n,i){if(i)me(e,n,["ng-version",ev.full]);else{const{attrs:s,classes:f}=function X1(e){const t=[],n=[];let i=1,s=2;for(;i<e.length;){let f=e[i];if("string"==typeof f)2===s?""!==f&&t.push(f,e[++i]):8===s&&n.push(f);else{if(!bi(s))break;s=f}i++}return{attrs:t,classes:n}}(t.selectors[0]);s&&me(e,n,s),f&&f.length>0&&A1(e,n,f.join(" "))}}(P,ue,Q,i),void 0!==n&&function CM(e,t,n){const i=e.projection=[];for(let s=0;s<t.length;s++){const f=n[s];i.push(null!=f?Array.from(f):null)}}(ee,this.ngContentSelectors,n),Zt=function MM(e,t,n,i,s,f){const p=Vi(),w=s[Re],C=xo(p,s);hw(w,s,p,n,null,i);for(let B=0;B<n.length;B++)Mo(Wl(s,w,p.directiveStart+B,p),s);Ng(w,s,p),C&&Mo(C,s);const P=Wl(s,w,p.directiveStart+p.componentOffset,p);if(e[Or]=s[Or]=P,null!==f)for(const B of f)B(P,t);return _v(w,p,e),P}(_n,ue,Te,fe,Gt,[TM]),Ag(Dt,Gt,null)}finally{Ws()}return new Bg(this.componentType,Zt,Za(ee,Gt),Gt,ee)}}class Bg extends mf{constructor(t,n,i,s,f){super(),this.location=i,this._rootLView=s,this._tNode=f,this.instance=n,this.hostView=this.changeDetectorRef=new mw(s),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let s;if(null!==i&&(s=i[t])){const f=this._rootLView;Af(f[Re],f,s,t,n),dd(bo(this._tNode.index,f))}}get injector(){return new Qc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function TM(){const e=Vi();al(xe()[Re],e)}function Lv(e,t,n,i,s){const p=s?"class":"style";Af(e,n,t.inputs[p],p,i)}function wl(e,t,n,i){const s=xe(),f=ur(),p=hr+e,w=s[gn],C=f.firstCreatePass?function NM(e,t,n,i,s,f){const p=t.consts,C=uc(t,e,2,i,Hs(p,s));return function Sf(e,t,n,i){if(vp()){const s=null===i?null:{"":-1},f=function kg(e,t){const n=e.directiveRegistry;let i=null,s=null;if(n)for(let f=0;f<n.length;f++){const p=n[f];if(_f(t,p.selectors,!1))if(i||(i=[]),Fi(p))if(null!==p.findHostDirectiveDefs){const w=[];s=s||new Map,p.findHostDirectiveDefs(p,w,s),i.unshift(...w,p),Mf(e,t,w.length)}else i.unshift(p),Mf(e,t,0);else s=s||new Map,p.findHostDirectiveDefs?.(p,i,s),i.push(p)}return null===i?null:[i,s]}(e,n);let p,w;null===f?p=w=null:[p,w]=f,null!==p&&hw(e,t,n,p,s,w),s&&function Cf(e,t,n){if(t){const i=e.localNames=[];for(let s=0;s<t.length;s+=2){const f=n[t[s+1]];if(null==f)throw new Ie(-301,!1);i.push(t[s],f)}}}(n,i,s)}n.mergedAttrs=Ee(n.mergedAttrs,n.attrs)}(t,n,C,Hs(p,f)),null!==C.attrs&&md(C,C.attrs,!1),null!==C.mergedAttrs&&md(C,C.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,C),C}(p,f,s,t,n,i):f.data[p],P=s[p]=Jl(w,t,function Mm(){return Tn.lFrame.currentNamespace}()),B=Ca(C);return Vn(C,!0),D1(w,P,C),32!=(32&C.flags)&&Wp(f,s,P,C),0===function cm(){return Tn.lFrame.elementDepthCount}()&&Mo(P,s),function fm(){Tn.lFrame.elementDepthCount++}(),B&&(function lc(e,t,n){vp()&&(function wv(e,t,n,i){const s=n.directiveStart,f=n.directiveEnd;Us(n)&&function dw(e,t,n){const i=xo(t,e),s=Dg(n),f=e[Nr],p=Vg(e,Eg(e,s,null,n.onPush?32:16,i,t,f,f.createRenderer(i,n),null,null,null));e[t.index]=p}(t,n,e.data[s+n.componentOffset]),e.firstCreatePass||Zc(n,t),Mo(i,t);const p=n.initialInputs;for(let w=s;w<f;w++){const C=e.data[w],P=Wl(t,e,w,n);Mo(P,t),null!==p&&Xs(0,w-s,P,C,0,p),Fi(C)&&(bo(n.index,t)[Or]=Wl(t,e,w,n))}}(e,t,n,xo(n,t)),64==(64&n.flags)&&Ng(e,t,n))}(f,s,C),_v(f,C,s)),null!==i&&function cd(e,t,n=xo){const i=t.localNames;if(null!==i){let s=t.index+1;for(let f=0;f<i.length;f+=2){const p=i[f+1],w=-1===p?n(t,e):e[p];e[s++]=w}}}(s,C),wl}function Of(){let e=Vi();Ch()?function Th(){Tn.lFrame.isParent=!1}():(e=e.parent,Vn(e,!1));const t=e;!function hm(){Tn.lFrame.elementDepthCount--}();const n=ur();return n.firstCreatePass&&(al(n,e),Ma(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Et(e){return 0!=(8&e.flags)}(t)&&Lv(n,t,xe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Vt(e){return 0!=(16&e.flags)}(t)&&Lv(n,t,xe(),t.stylesWithoutHost,!1),Of}function Xg(e,t,n,i){return wl(e,t,n,i),Of(),Xg}function Zg(e){return!!e&&"function"==typeof e.then}const Vw=function Fw(e){return!!e&&"function"==typeof e.subscribe};function Qg(e,t,n,i){const s=xe(),f=ur(),p=Vi();return function Kg(e,t,n,i,s,f,p){const w=Ca(i),P=e.firstCreatePass&&Mv(e),B=t[Or],Q=Sv(t);let mt=!0;if(3&i.type||p){const Zt=xo(i,t),ee=p?p(Zt):Zt,ue=Q.length,Te=p?Ne=>p(wi(Ne[i.index])):i.index;let fe=null;if(!p&&w&&(fe=function VM(e,t,n,i){const s=e.cleanup;if(null!=s)for(let f=0;f<s.length-1;f+=2){const p=s[f];if(p===n&&s[f+1]===i){const w=t[Gs],C=s[f+2];return w.length>C?w[C]:null}"string"==typeof p&&(f+=2)}return null}(e,t,s,i.index)),null!==fe)(fe.__ngLastListenerFn__||fe).__ngNextListenerFn__=f,fe.__ngLastListenerFn__=f,mt=!1;else{f=zw(i,t,B,f,!1);const Ne=n.listen(ee,s,f);Q.push(f,Ne),P&&P.push(s,Te,ue,ue+1)}}else f=zw(i,t,B,f,!1);const Dt=i.outputs;let Gt;if(mt&&null!==Dt&&(Gt=Dt[s])){const Zt=Gt.length;if(Zt)for(let ee=0;ee<Zt;ee+=2){const _n=t[Gt[ee]][Gt[ee+1]].subscribe(f),Ar=Q.length;Q.push(f,_n),P&&P.push(s,i.index,Ar,-(Ar+1))}}}(f,s,s[gn],p,e,t,i),Qg}function $w(e,t,n,i){try{return lo(6,t,n),!1!==n(i)}catch(s){return Ef(e,s),!1}finally{lo(7,t,n)}}function zw(e,t,n,i,s){return function f(p){if(p===Function)return i;dd(e.componentOffset>-1?bo(e.index,t):t);let C=$w(t,n,i,p),P=f.__ngNextListenerFn__;for(;P;)C=$w(t,n,P,p)&&C,P=P.__ngNextListenerFn__;return s&&!1===C&&(p.preventDefault(),p.returnValue=!1),C}}function u0(e,t=""){const n=xe(),i=ur(),s=e+hr,f=i.firstCreatePass?uc(i,s,1,t,null):i.data[s],p=n[s]=function Gm(e,t){return e.createText(t)}(n[gn],t);Wp(i,n,p,f),Vn(f,!1)}const zf="en-US";let Yv=zf;class Xf{}class Hx{}class qx extends Xf{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vw(this);const i=yi(t);this._bootstrapComponents=Ka(i.bootstrap),this._r3Injector=od(t,n,[{provide:Xf,useValue:this},{provide:zr,useValue:this.componentFactoryResolver}],pn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class g_ extends Hx{constructor(t){super(),this.moduleType=t}create(t){return new qx(this.moduleType,t)}}class LC extends Xf{constructor(t,n,i){super(),this.componentFactoryResolver=new vw(this),this.instance=null;const s=new sg([...t,{provide:Xf,useValue:this},{provide:zr,useValue:this.componentFactoryResolver}],n||pf(),i,new Set(["environment"]));this.injector=s,s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Fd(e,t,n=null){return new LC(e,t,n).injector}let RC=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const i=ng(0,n.type),s=i.length>0?Fd([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,s)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=un({token:e,providedIn:"environment",factory:()=>new e(Xe(xs))}),e})();function m_(e){e.getStandaloneInjector=t=>t.get(RC).getOrCreateStandaloneInjector(e)}function w_(e){return t=>{setTimeout(e,void 0,t)}}const Yo=class nT extends E{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let s=t,f=n||(()=>null),p=i;if(t&&"object"==typeof t){const C=t;s=C.next?.bind(C),f=C.error?.bind(C),p=C.complete?.bind(C)}this.__isAsync&&(f=w_(f),s&&(s=w_(s)),p&&(p=w_(p)));const w=super.subscribe({next:s,error:f,complete:p});return t instanceof Rt&&t.add(w),w}};let ns=(()=>{class e{}return e.__NG_ELEMENT_ID__=S0,e})();function S0(){return function th(e,t){let n;const i=t[e.index];if(wo(i))n=i;else{let s;if(8&e.type)s=wi(i);else{const f=t[gn];s=f.createComment("");const p=xo(e,t);tc(f,Hp(f,p),s,function R2(e,t){return e.nextSibling(t)}(f,p),!1)}t[e.index]=n=function vl(e,t,n,i){return[e,!0,!1,t,null,0,i,n,null,null]}(i,t,s,e),Vg(t,n)}return new S_(n,e,t)}(Vi(),xe())}const b_=ns,S_=class extends b_{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return Za(this._hostTNode,this._hostLView)}get injector(){return new Qc(this._hostTNode,this._hostLView)}get parentInjector(){const t=Nh(this._hostTNode,this._hostLView);if(tn(t)){const n=cr(t,this._hostLView),i=En(t);return new Qc(n[Re].data[i+8],n)}return new Qc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Jf(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-br}createEmbeddedView(t,n,i){let s,f;"number"==typeof i?s=i:null!=i&&(s=i.index,f=i.injector);const p=t.createEmbeddedView(n||{},f);return this.insert(p,s),p}createComponent(t,n,i,s,f){const p=t&&!function $h(e){return"function"==typeof e}(t);let w;if(p)w=n;else{const Q=n||{};w=Q.index,i=Q.injector,s=Q.projectableNodes,f=Q.environmentInjector||Q.ngModuleRef}const C=p?t:new cc(Ln(t)),P=i||this.parentInjector;if(!f&&null==C.ngModule){const mt=(p?P:this.parentInjector).get(xs,null);mt&&(f=mt)}const B=C.create(P,s,void 0,f);return this.insert(B.hostView,w),B}insert(t,n){const i=t._lView,s=i[Re];if(function lm(e){return wo(e[_r])}(i)){const B=this.indexOf(t);if(-1!==B)this.detach(B);else{const Q=i[_r],mt=new S_(Q,Q[Ur],Q[_r]);mt.detach(mt.indexOf(t))}}const f=this._adjustIndex(n),p=this._lContainer;!function m1(e,t,n,i){const s=br+i,f=n.length;i>0&&(n[s-1][ii]=t),i<f-br?(t[ii]=n[s],Pp(n,br+i,t)):(n.push(t),t[ii]=null),t[_r]=n;const p=t[ao];null!==p&&n!==p&&function af(e,t){const n=e[yo];t[ci]!==t[_r][_r][ci]&&(e[Ju]=!0),null===n?e[yo]=[t]:n.push(t)}(p,t);const w=t[fi];null!==w&&w.insertView(e),t[fn]|=64}(s,i,p,f);const w=xi(f,p),C=i[gn],P=Hp(C,p[Uo]);return null!==P&&function Um(e,t,n,i,s,f){i[er]=s,i[Ur]=t,sf(e,i,n,1,s,f)}(s,p[Ur],C,i,P,w),t.attachToViewContainerRef(),Pp(xc(p),f,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Jf(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=Yh(this._lContainer,n);i&&(tf(xc(this._lContainer),n),v1(i[Re],i))}detach(t){const n=this._adjustIndex(t,-1),i=Yh(this._lContainer,n);return i&&null!=tf(xc(this._lContainer),n)?new Df(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function Jf(e){return e[Ga]}function xc(e){return e[Ga]||(e[Ga]=[])}function E0(...e){}const A0=new wn("Application Initializer");let $d=(()=>{class e{constructor(n){this.appInits=n,this.resolve=E0,this.reject=E0,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const f=this.appInits[s]();if(Zg(f))n.push(f);else if(Vw(f)){const p=new Promise((w,C)=>{f.subscribe({complete:w,error:C})});n.push(p)}}Promise.all(n).then(()=>{i()}).catch(s=>{this.reject(s)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Xe(A0,8))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const zd=new wn("AppId",{providedIn:"root",factory:function W_(){return`${D0()}${D0()}${D0()}`}});function D0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Pb=new wn("Platform Initializer"),q_=new wn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let CT=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const ku=new wn("LocaleId",{providedIn:"root",factory:()=>An(ku,qe.Optional|qe.SkipSelf)||function Ib(){return typeof $localize<"u"&&$localize.locale||zf}()});class TT{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let Rb=(()=>{class e{compileModuleSync(n){return new g_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),f=Ka(yi(n).declarations).reduce((p,w)=>{const C=Ln(w);return C&&p.push(new cc(C)),p},[]);return new TT(i,f)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const L0=(()=>Promise.resolve(0))();function Y_(e){typeof Zone>"u"?L0.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Si{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yo(!1),this.onMicrotaskEmpty=new Yo(!1),this.onStable=new Yo(!1),this.onError=new Yo(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&n,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function ET(){let e=sr.requestAnimationFrame,t=sr.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Z_(e){const t=()=>{!function kb(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(sr,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Q_(e),e.isCheckStableRunning=!0,X_(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Q_(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,s,f,p,w)=>{try{return Fb(e),n.invokeTask(s,f,p,w)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||e.shouldCoalesceRunChangeDetection)&&t(),qn(e)}},onInvoke:(n,i,s,f,p,w,C)=>{try{return Fb(e),n.invoke(s,f,p,w,C)}finally{e.shouldCoalesceRunChangeDetection&&t(),qn(e)}},onHasTask:(n,i,s,f)=>{n.hasTask(s,f),i===s&&("microTask"==f.change?(e._hasPendingMicrotasks=f.microTask,Q_(e),X_(e)):"macroTask"==f.change&&(e.hasPendingMacrotasks=f.macroTask))},onHandleError:(n,i,s,f)=>(n.handleError(s,f),e.runOutsideAngular(()=>e.onError.emit(f)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Si.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(Si.isInAngularZone())throw new Ie(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,s){const f=this._inner,p=f.scheduleEventTask("NgZoneEvent: "+s,t,AT,E0,E0);try{return f.runTask(p,n,i)}finally{f.cancelTask(p)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const AT={};function X_(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Q_(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Fb(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function qn(e){e._nesting--,X_(e)}class Vb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yo,this.onMicrotaskEmpty=new Yo,this.onStable=new Yo,this.onError=new Yo}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,s){return t.apply(n,i)}}const fo=new wn(""),ru=new wn("");let Sl,K_=(()=>{class e{constructor(n,i,s){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Sl||(function iu(e){Sl=e}(s),s.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Si.assertNotInAngularZone(),Y_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Y_(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,s){let f=-1;i&&i>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==f),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:f,updateCb:s})}whenStable(n,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,s){return[]}}return e.\u0275fac=function(n){return new(n||e)(Xe(Si),Xe(Gd),Xe(ru))},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})(),Gd=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Sl?.findTestabilityInTree(this,n,i)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Jr=!1;let Xo=null;const Ud=new wn("AllowMultipleToken"),ou=new wn("PlatformDestroyListeners"),Bb=new wn("appBootstrapListener");class zb{constructor(t,n){this.name=t,this.token=n}}function Ub(e,t,n=[]){const i=`Platform: ${t}`,s=new wn(i);return(f=[])=>{let p=Hd();if(!p||p.injector.get(Ud,!1)){const w=[...n,...f,{provide:s,useValue:!0}];e?e(w):function PT(e){if(Xo&&!Xo.get(Ud,!1))throw new Ie(400,!1);Xo=e;const t=e.get(R0);(function Gb(e){const t=e.get(Pb,null);t&&t.forEach(n=>n())})(e)}(function jd(e=[],t){return Ja.create({name:t,providers:[{provide:df,useValue:"platform"},{provide:ou,useValue:new Set([()=>Xo=null])},...e]})}(w,i))}return function jb(e){const t=Hd();if(!t)throw new Ie(401,!1);return t}()}}function Hd(){return Xo?.get(R0)??null}let R0=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const s=function Wb(e,t){let n;return n="noop"===e?new Vb:("zone.js"===e?void 0:e)||new Si(t),n}(i?.ngZone,function ty(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(i)),f=[{provide:Si,useValue:s}];return s.run(()=>{const p=Ja.create({providers:f,parent:this.injector,name:n.moduleType.name}),w=n.create(p),C=w.injector.get(vf,null);if(!C)throw new Ie(402,!1);return s.runOutsideAngular(()=>{const P=s.onError.subscribe({next:B=>{C.handleError(B)}});w.onDestroy(()=>{qd(this._modules,w),P.unsubscribe()})}),function qb(e,t,n){try{const i=n();return Zg(i)?i.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(C,s,()=>{const P=w.injector.get($d);return P.runInitializers(),P.donePromise.then(()=>(function Xv(e){ji(e,"Expected localeId to be defined"),"string"==typeof e&&(Yv=e.toLowerCase().replace(/_/g,"-"))}(w.injector.get(ku,zf)||zf),this._moduleDoBootstrap(w),w))})})}bootstrapModule(n,i=[]){const s=Yb({},i);return function $b(e,t,n){const i=new g_(n);return Promise.resolve(i)}(0,0,n).then(f=>this.bootstrapModuleFactory(f,s))}_moduleDoBootstrap(n){const i=n.injector.get(Wd);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!n.instance.ngDoBootstrap)throw new Ie(-403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(ou,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Xe(Ja))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Yb(e,t){return Array.isArray(t)?t.reduce(Yb,e):{...e,...t}}let Wd=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,i,s){this._zone=n,this._injector=i,this._exceptionHandler=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new Ft(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),p=new Ft(w=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{Si.assertNotInAngularZone(),Y_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Si.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{C.unsubscribe(),P.unsubscribe()}});this.isStable=function lu(...e){const t=ks(e),n=function Ll(e,t){return"number"==typeof uu(e)?e.pop():t}(e,1/0),i=e;return i.length?1===i.length?ei(i[0]):no(n)(Lr(i,t)):ro}(f,p.pipe(function po(e={}){const{connector:t=(()=>new E),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:s=!0}=e;return f=>{let p,w,C,P=0,B=!1,Q=!1;const mt=()=>{w?.unsubscribe(),w=void 0},Dt=()=>{mt(),p=C=void 0,B=Q=!1},Gt=()=>{const Zt=p;Dt(),Zt?.unsubscribe()};return W((Zt,ee)=>{P++,!Q&&!B&&mt();const ue=C=C??t();ee.add(()=>{P--,0===P&&!Q&&!B&&(w=Oi(Gt,s))}),ue.subscribe(ee),!p&&P>0&&(p=new pt({next:Te=>ue.next(Te),error:Te=>{Q=!0,mt(),w=Oi(Dt,n,Te),ue.error(Te)},complete:()=>{B=!0,mt(),w=Oi(Dt,i),ue.complete()}}),ei(Zt).subscribe(p))})(f)}}()))}bootstrap(n,i){const s=n instanceof lg;if(!this._injector.get($d).done){!s&&function Go(e){const t=Ln(e)||ri(e)||Ei(e);return null!==t&&t.standalone}(n);throw new Ie(405,Jr)}let p;p=s?n:this._injector.get(zr).resolveComponentFactory(n),this.componentTypes.push(p.componentType);const w=function DT(e){return e.isBoundToModule}(p)?void 0:this._injector.get(Xf),P=p.create(Ja.NULL,[],i||p.selector,w),B=P.location.nativeElement,Q=P.injector.get(fo,null);return Q?.registerApplication(B),P.onDestroy(()=>{this.detachView(P.hostView),qd(this.components,P),Q?.unregisterApplication(B)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;qd(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(Bb,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>qd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ie(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(Xe(Si),Xe(xs),Xe(vf))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function qd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let ey=(()=>{class e{}return e.__NG_ELEMENT_ID__=ny,e})();function ny(e){return function OT(e,t,n){if(Us(e)&&!n){const i=bo(e.index,t);return new Df(i,i)}return 47&e.type?new Df(t[ci],t):null}(Vi(),xe(),16==(16&e))}const $T=Ub(null,"core",[]);let fy=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Xe(Wd))},e.\u0275mod=Va({type:e}),e.\u0275inj=wa({}),e})(),nh=null;function Cl(){return nh}class YT{}const da=new wn("DocumentToken");let B0=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=un({token:e,factory:function(){return function aS(){return Xe(ep)}()},providedIn:"platform"}),e})();const XT=new wn("Location Initialized");let ep=(()=>{class e extends B0{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cl().getBaseHref(this._doc)}onPopState(n){const i=Cl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=Cl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,s){sS()?this._history.pushState(n,i,s):this._location.hash=s}replaceState(n,i,s){sS()?this._history.replaceState(n,i,s):this._location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(Xe(da))},e.\u0275prov=un({token:e,factory:function(){return function ZT(){return new ep(Xe(da))}()},providedIn:"platform"}),e})();function sS(){return!!window.history.pushState}function hy(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Ec(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function pa(e){return e&&"?"!==e[0]?"?"+e:e}let Ac=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=un({token:e,factory:function(){return An(lS)},providedIn:"root"}),e})();const uS=new wn("appBaseHref");let lS=(()=>{class e extends Ac{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??An(da).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return hy(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+pa(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${i}${s}`:i}pushState(n,i,s,f){const p=this.prepareExternalUrl(s+pa(f));this._platformLocation.pushState(n,i,p)}replaceState(n,i,s,f){const p=this.prepareExternalUrl(s+pa(f));this._platformLocation.replaceState(n,i,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Xe(B0),Xe(uS,8))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),QT=(()=>{class e extends Ac{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=hy(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,s,f){let p=this.prepareExternalUrl(s+pa(f));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(n,i,p)}replaceState(n,i,s,f){let p=this.prepareExternalUrl(s+pa(f));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Xe(B0),Xe(uS,8))},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})(),dy=(()=>{class e{constructor(n){this._subject=new Yo,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._basePath=function hS(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(Ec(fS(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+pa(i))}normalize(n){return e.stripTrailingSlash(function cS(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,fS(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",s=null){this._locationStrategy.pushState(s,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+pa(i)),s)}replaceState(n,i="",s=null){this._locationStrategy.replaceState(s,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+pa(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(s=>s(n,i))}subscribe(n,i,s){return this._subject.subscribe({next:n,error:i,complete:s})}}return e.normalizeQueryParams=pa,e.joinWithSlash=hy,e.stripTrailingSlash=Ec,e.\u0275fac=function(n){return new(n||e)(Xe(Ac))},e.\u0275prov=un({token:e,factory:function(){return function KT(){return new dy(Xe(Ac))}()},providedIn:"root"}),e})();function fS(e){return e.replace(/\/index.html$/,"")}let PI=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Va({type:e}),e.\u0275inj=wa({}),e})();let OI=(()=>{class e{}return e.\u0275prov=un({token:e,providedIn:"root",factory:()=>new NI(Xe(da),window)}),e})();class NI{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function kI(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const f=s.shadowRoot;if(f){const p=f.getElementById(t)||f.querySelector(`[name="${t}"]`);if(p)return p}s=i.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,s=n.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(i-f[0],s-f[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=hD(this.window.history)||hD(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function hD(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class cL extends YT{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class _E extends cL{static makeCurrent(){!function oS(e){nh||(nh=e)}(new _E)}onAndCancel(t,n,i){return t.addEventListener(n,i,!1),()=>{t.removeEventListener(n,i,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function fL(){return xy=xy||document.querySelector("base"),xy?xy.getAttribute("href"):null}();return null==n?null:function hL(e){SS=SS||document.createElement("a"),SS.setAttribute("href",e);const t=SS.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){xy=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function lt(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[s,f]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(s.trim()===t)return decodeURIComponent(f)}return null}(document.cookie,t)}}let SS,xy=null;const vD=new wn("TRANSITION_ID"),pL=[{provide:A0,useFactory:function dL(e,t,n){return()=>{n.get($d).donePromise.then(()=>{const i=Cl(),s=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let f=0;f<s.length;f++)i.remove(s[f])})}},deps:[vD,da,Ja],multi:!0}];let mL=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})();const MS=new wn("EventManagerPlugins");let CS=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,s){return this._findPluginFor(i).addEventListener(n,i,s)}addGlobalEventListener(n,i,s){return this._findPluginFor(i).addGlobalEventListener(n,i,s)}getZone(){return this._zone}_findPluginFor(n){const i=this._eventNameToPlugin.get(n);if(i)return i;const s=this._plugins;for(let f=0;f<s.length;f++){const p=s[f];if(p.supports(n))return this._eventNameToPlugin.set(n,p),p}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Xe(MS),Xe(Si))},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})();class _D{constructor(t){this._doc=t}addGlobalEventListener(t,n,i){const s=Cl().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${n}`);return this.addEventListener(s,n,i)}}let yD=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,i){const s=this.usageCount;let f=s.get(n)??0;return f+=i,f>0?s.set(n,f):s.delete(n),f}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})(),by=(()=>{class e extends yD{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.forEach(f=>f.remove()),i.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,i){const s=this.doc.createElement("style");s.textContent=i,n.appendChild(s);const f=this.styleRef.get(i);f?f.push(s):this.styleRef.set(i,[s])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(Xe(da))},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})();const yE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wE=/%COMP%/g,bD=new wn("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function SD(e,t){return t.flat(100).map(n=>n.replace(wE,e))}function MD(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let xE=(()=>{class e{constructor(n,i,s,f){this.eventManager=n,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestory=f,this.rendererByCompId=new Map,this.defaultRenderer=new bE(n)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;const s=this.getOrCreateRenderer(n,i);return s instanceof ED?s.applyToHost(n):s instanceof SE&&s.applyStyles(),s}getOrCreateRenderer(n,i){const s=this.rendererByCompId;let f=s.get(i.id);if(!f){const p=this.eventManager,w=this.sharedStylesHost,C=this.removeStylesOnCompDestory;switch(i.encapsulation){case ki.Emulated:f=new ED(p,w,i,this.appId,C);break;case ki.ShadowDom:return new SL(p,w,n,i);default:f=new SE(p,w,i,C)}f.onDestroy=()=>s.delete(i.id),s.set(i.id,f)}return f}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(Xe(CS),Xe(by),Xe(zd),Xe(bD))},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})();class bE{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(yE[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(TD(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(TD(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,s){if(s){n=s+":"+n;const f=yE[s];f?t.setAttributeNS(f,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const s=yE[i];s?t.removeAttributeNS(s,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,s){s&(Di.DashCase|Di.Important)?t.style.setProperty(n,i,s&Di.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&Di.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t[n]=i}setValue(t,n){t.nodeValue=n}listen(t,n,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,MD(i)):this.eventManager.addEventListener(t,n,MD(i))}}function TD(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class SL extends bE{constructor(t,n,i,s){super(t),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=SD(s.id,s.styles);for(const p of f){const w=document.createElement("style");w.textContent=p,this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class SE extends bE{constructor(t,n,i,s,f=i.id){super(t),this.sharedStylesHost=n,this.removeStylesOnCompDestory=s,this.rendererUsageCount=0,this.styles=SD(f,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class ED extends SE{constructor(t,n,i,s,f){const p=s+"-"+i.id;super(t,n,i,f,p),this.contentAttr=function wL(e){return"_ngcontent-%COMP%".replace(wE,e)}(p),this.hostAttr=function xL(e){return"_nghost-%COMP%".replace(wE,e)}(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}let ML=(()=>{class e extends _D{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,s){return n.addEventListener(i,s,!1),()=>this.removeEventListener(n,i,s)}removeEventListener(n,i,s){return n.removeEventListener(i,s)}}return e.\u0275fac=function(n){return new(n||e)(Xe(da))},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})();const AD=["alt","control","meta","shift"],CL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TL={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let EL=(()=>{class e extends _D{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,s){const f=e.parseEventName(i),p=e.eventCallback(f.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cl().onAndCancel(n,f.domEventName,p))}static parseEventName(n){const i=n.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const f=e._normalizeKey(i.pop());let p="",w=i.indexOf("code");if(w>-1&&(i.splice(w,1),p="code."),AD.forEach(P=>{const B=i.indexOf(P);B>-1&&(i.splice(B,1),p+=P+".")}),p+=f,0!=i.length||0===f.length)return null;const C={};return C.domEventName=s,C.fullKey=p,C}static matchEventFullKeyCode(n,i){let s=CL[n.key]||n.key,f="";return i.indexOf("code.")>-1&&(s=n.code,f="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),AD.forEach(p=>{p!==s&&(0,TL[p])(n)&&(f+=p+".")}),f+=s,f===i)}static eventCallback(n,i,s){return f=>{e.matchEventFullKeyCode(f,n)&&s.runGuarded(()=>i(f))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(Xe(da))},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})();const IL=Ub($T,"browser",[{provide:q_,useValue:"browser"},{provide:Pb,useValue:function AL(){_E.makeCurrent()},multi:!0},{provide:da,useFactory:function PL(){return function $2(e){Wm=e}(document),document},deps:[]}]),ID=new wn(""),LD=[{provide:ru,useClass:class gL{addToWindow(t){sr.getAngularTestability=(i,s=!0)=>{const f=t.findTestabilityInTree(i,s);if(null==f)throw new Error("Could not find testability for element.");return f},sr.getAllAngularTestabilities=()=>t.getAllTestabilities(),sr.getAllAngularRootElements=()=>t.getAllRootElements(),sr.frameworkStabilizers||(sr.frameworkStabilizers=[]),sr.frameworkStabilizers.push(i=>{const s=sr.getAllAngularTestabilities();let f=s.length,p=!1;const w=function(C){p=p||C,f--,0==f&&i(p)};s.forEach(function(C){C.whenStable(w)})})}findTestabilityInTree(t,n,i){return null==n?null:t.getTestability(n)??(i?Cl().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:fo,useClass:K_,deps:[Si,Gd,ru]},{provide:K_,useClass:K_,deps:[Si,Gd,ru]}],RD=[{provide:df,useValue:"root"},{provide:vf,useFactory:function DL(){return new vf},deps:[]},{provide:MS,useClass:ML,multi:!0,deps:[da,Si,q_]},{provide:MS,useClass:EL,multi:!0,deps:[da]},{provide:xE,useClass:xE,deps:[CS,by,zd,bD]},{provide:ac,useExisting:xE},{provide:yD,useExisting:by},{provide:by,useClass:by,deps:[da]},{provide:CS,useClass:CS,deps:[MS,Si]},{provide:class FI{},useClass:mL,deps:[]},[]];let LL=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:zd,useValue:n.appId},{provide:vD,useExisting:zd},pL]}}}return e.\u0275fac=function(n){return new(n||e)(Xe(ID,12))},e.\u0275mod=Va({type:e}),e.\u0275inj=wa({providers:[...RD,...LD],imports:[PI,fy]}),e})(),OD=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(Xe(da))},e.\u0275prov=un({token:e,factory:function(n){let i=null;return i=n?new n:function OL(){return new OD(Xe(da))}(),i},providedIn:"root"}),e})();function xn(...e){return Lr(e,ks(e))}typeof window<"u"&&window;class $u extends E{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const TS=xt(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:$L}=Array,{getPrototypeOf:zL,prototype:GL,keys:UL}=Object;const{isArray:WL}=Array;function FD(...e){const t=ks(e),n=function ka(e){return k(uu(e))?e.pop():void 0}(e),{args:i,keys:s}=function jL(e){if(1===e.length){const t=e[0];if($L(t))return{args:t,keys:null};if(function HL(e){return e&&"object"==typeof e&&zL(e)===GL}(t)){const n=UL(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}(e);if(0===i.length)return Lr([],t);const f=new Ft(function ZL(e,t,n=oe){return i=>{VD(t,()=>{const{length:s}=e,f=new Array(s);let p=s,w=s;for(let C=0;C<s;C++)VD(t,()=>{const P=Lr(e[C],t);let B=!1;P.subscribe(ut(i,Q=>{f[C]=Q,B||(B=!0,w--),w||i.next(n(f.slice()))},()=>{--p||i.complete()}))},i)},i)}}(i,t,s?p=>function XL(e,t){return e.reduce((n,i,s)=>(n[i]=t[s],n),{})}(s,p):oe));return n?f.pipe(function YL(e){return wt(t=>function qL(e,t){return WL(t)?e(...t):e(t)}(e,t))}(n)):f}function VD(e,t,n){e?ko(n,e,t):t()}function TE(...e){return function QL(){return no(1)}()(Lr(e,ks(e)))}function BD(e){return new Ft(t=>{ei(e()).subscribe(t)})}function Sy(e,t){const n=k(e)?e:()=>e,i=s=>s.error(n());return new Ft(t?s=>t.schedule(i,0,s):i)}function EE(){return W((e,t)=>{let n=null;e._refCount++;const i=ut(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const s=e._connection,f=n;n=null,s&&(!f||s===f)&&s.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}class $D extends Ft{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,j(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Rt;const n=this.getSubject();t.add(this.source.subscribe(ut(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Rt.EMPTY)}return t}refCount(){return EE()(this)}}function Al(e,t){return W((n,i)=>{let s=null,f=0,p=!1;const w=()=>p&&!s&&i.complete();n.subscribe(ut(i,C=>{s?.unsubscribe();let P=0;const B=f++;ei(e(C,B)).subscribe(s=ut(i,Q=>i.next(t?t(C,Q,B,P++):Q),()=>{s=null,w()}))},()=>{p=!0,w()}))})}function Y0(e){return e<=0?()=>ro:W((t,n)=>{let i=0;t.subscribe(ut(n,s=>{++i<=e&&(n.next(s),e<=i&&n.complete())}))})}function sh(e,t){return W((n,i)=>{let s=0;n.subscribe(ut(i,f=>e.call(t,f,s++)&&i.next(f)))})}function ES(e){return W((t,n)=>{let i=!1;t.subscribe(ut(n,s=>{i=!0,n.next(s)},()=>{i||n.next(e),n.complete()}))})}function zD(e=JL){return W((t,n)=>{let i=!1;t.subscribe(ut(n,s=>{i=!0,n.next(s)},()=>i?n.complete():n.error(e())))})}function JL(){return new TS}function uh(e,t){const n=arguments.length>=2;return i=>i.pipe(e?sh((s,f)=>e(s,f,i)):oe,Y0(1),n?ES(t):zD(()=>new TS))}function ap(e,t){return k(t)?Br(e,t,1):Br(e,1)}function ma(e,t,n){const i=k(e)||t||n?{next:e,error:t,complete:n}:e;return i?W((s,f)=>{var p;null===(p=i.subscribe)||void 0===p||p.call(i);let w=!0;s.subscribe(ut(f,C=>{var P;null===(P=i.next)||void 0===P||P.call(i,C),f.next(C)},()=>{var C;w=!1,null===(C=i.complete)||void 0===C||C.call(i),f.complete()},C=>{var P;w=!1,null===(P=i.error)||void 0===P||P.call(i,C),f.error(C)},()=>{var C,P;w&&(null===(C=i.unsubscribe)||void 0===C||C.call(i)),null===(P=i.finalize)||void 0===P||P.call(i)}))}):oe}function lh(e){return W((t,n)=>{let f,i=null,s=!1;i=t.subscribe(ut(n,void 0,void 0,p=>{f=ei(e(p,lh(e)(t))),i?(i.unsubscribe(),i=null,f.subscribe(n)):s=!0})),s&&(i.unsubscribe(),i=null,f.subscribe(n))})}function GD(e,t){return W(function t3(e,t,n,i,s){return(f,p)=>{let w=n,C=t,P=0;f.subscribe(ut(p,B=>{const Q=P++;C=w?e(C,B,Q):(w=!0,B),i&&p.next(C)},s&&(()=>{w&&p.next(C),p.complete()})))}}(e,t,arguments.length>=2,!0))}function AE(e){return e<=0?()=>ro:W((t,n)=>{let i=[];t.subscribe(ut(n,s=>{i.push(s),e<i.length&&i.shift()},()=>{for(const s of i)n.next(s);n.complete()},void 0,()=>{i=null}))})}function UD(e,t){const n=arguments.length>=2;return i=>i.pipe(e?sh((s,f)=>e(s,f,i)):oe,AE(1),n?ES(t):zD(()=>new TS))}function DE(e){return W((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const zn="primary",My=Symbol("RouteTitle");class r3{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function X0(e){return new r3(e)}function i3(e,t,n){const i=n.path.split("/");if(i.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const s={};for(let f=0;f<i.length;f++){const p=i[f],w=e[f];if(p.startsWith(":"))s[p.substring(1)]=w;else if(p!==w.path)return null}return{consumed:e.slice(0,i.length),posParams:s}}function Dl(e,t){const n=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!n||!i||n.length!=i.length)return!1;let s;for(let f=0;f<n.length;f++)if(s=n[f],!jD(e[s],t[s]))return!1;return!0}function jD(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((s,f)=>i[f]===s)}return e===t}function HD(e){return Array.prototype.concat.apply([],e)}function WD(e){return e.length>0?e[e.length-1]:null}function Ko(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function ch(e){return Vw(e)?e:Zg(e)?Lr(Promise.resolve(e)):xn(e)}const AS=!1,a3={exact:function XD(e,t,n){if(!sp(e.segments,t.segments)||!DS(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!e.children[i]||!XD(e.children[i],t.children[i],n))return!1;return!0},subset:ZD},qD={exact:function s3(e,t){return Dl(e,t)},subset:function u3(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>jD(e[n],t[n]))},ignored:()=>!0};function YD(e,t,n){return a3[n.paths](e.root,t.root,n.matrixParams)&&qD[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function ZD(e,t,n){return QD(e,t,t.segments,n)}function QD(e,t,n,i){if(e.segments.length>n.length){const s=e.segments.slice(0,n.length);return!(!sp(s,n)||t.hasChildren()||!DS(s,n,i))}if(e.segments.length===n.length){if(!sp(e.segments,n)||!DS(e.segments,n,i))return!1;for(const s in t.children)if(!e.children[s]||!ZD(e.children[s],t.children[s],i))return!1;return!0}{const s=n.slice(0,e.segments.length),f=n.slice(e.segments.length);return!!(sp(e.segments,s)&&DS(e.segments,s,i)&&e.children[zn])&&QD(e.children[zn],t,f,i)}}function DS(e,t,n){return t.every((i,s)=>qD[n](e[s].parameters,i.parameters))}class fh{constructor(t=new rr([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=X0(this.queryParams)),this._queryParamMap}toString(){return h3.serialize(this)}}class rr{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Ko(n,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return PS(this)}}class Cy{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=X0(this.parameters)),this._parameterMap}toString(){return tP(this)}}function sp(e,t){return e.length===t.length&&e.every((n,i)=>n.path===t[i].path)}let Ty=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=un({token:e,factory:function(){return new PE},providedIn:"root"}),e})();class PE{parse(t){const n=new x3(t);return new fh(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Ey(t.root,!0)}`,i=function g3(e){const t=Object.keys(e).map(n=>{const i=e[n];return Array.isArray(i)?i.map(s=>`${IS(n)}=${IS(s)}`).join("&"):`${IS(n)}=${IS(i)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${i}${"string"==typeof t.fragment?`#${function d3(e){return encodeURI(e)}(t.fragment)}`:""}`}}const h3=new PE;function PS(e){return e.segments.map(t=>tP(t)).join("/")}function Ey(e,t){if(!e.hasChildren())return PS(e);if(t){const n=e.children[zn]?Ey(e.children[zn],!1):"",i=[];return Ko(e.children,(s,f)=>{f!==zn&&i.push(`${f}:${Ey(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function f3(e,t){let n=[];return Ko(e.children,(i,s)=>{s===zn&&(n=n.concat(t(i,s)))}),Ko(e.children,(i,s)=>{s!==zn&&(n=n.concat(t(i,s)))}),n}(e,(i,s)=>s===zn?[Ey(e.children[zn],!1)]:[`${s}:${Ey(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[zn]?`${PS(e)}/${n[0]}`:`${PS(e)}/(${n.join("//")})`}}function KD(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function IS(e){return KD(e).replace(/%3B/gi,";")}function IE(e){return KD(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function LS(e){return decodeURIComponent(e)}function JD(e){return LS(e.replace(/\+/g,"%20"))}function tP(e){return`${IE(e.path)}${function p3(e){return Object.keys(e).map(t=>`;${IE(t)}=${IE(e[t])}`).join("")}(e.parameters)}`}const m3=/^[^\/()?;=#]+/;function RS(e){const t=e.match(m3);return t?t[0]:""}const v3=/^[^=?&#]+/,y3=/^[^&#]+/;class x3{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rr([],{}):new rr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[zn]=new rr(t,n)),i}parseSegment(){const t=RS(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Ie(4009,AS);return this.capture(t),new Cy(LS(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=RS(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const s=RS(this.remaining);s&&(i=s,this.capture(i))}t[LS(n)]=LS(i)}parseQueryParam(t){const n=function _3(e){const t=e.match(v3);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const p=function w3(e){const t=e.match(y3);return t?t[0]:""}(this.remaining);p&&(i=p,this.capture(i))}const s=JD(n),f=JD(i);if(t.hasOwnProperty(s)){let p=t[s];Array.isArray(p)||(p=[p],t[s]=p),p.push(f)}else t[s]=f}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=RS(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new Ie(4010,AS);let f;i.indexOf(":")>-1?(f=i.slice(0,i.indexOf(":")),this.capture(f),this.capture(":")):t&&(f=zn);const p=this.parseChildren();n[f]=1===Object.keys(p).length?p[zn]:new rr([],p),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Ie(4011,AS)}}function LE(e){return e.segments.length>0?new rr([],{[zn]:e}):e}function OS(e){const t={};for(const i of Object.keys(e.children)){const f=OS(e.children[i]);(f.segments.length>0||f.hasChildren())&&(t[i]=f)}return function b3(e){if(1===e.numberOfChildren&&e.children[zn]){const t=e.children[zn];return new rr(e.segments.concat(t.segments),t.children)}return e}(new rr(e.segments,t))}function up(e){return e instanceof fh}const RE=!1;function S3(e,t,n,i,s){if(0===n.length)return Z0(t.root,t.root,t.root,i,s);const f=function oP(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new iP(!0,0,e);let t=0,n=!1;const i=e.reduce((s,f,p)=>{if("object"==typeof f&&null!=f){if(f.outlets){const w={};return Ko(f.outlets,(C,P)=>{w[P]="string"==typeof C?C.split("/"):C}),[...s,{outlets:w}]}if(f.segmentPath)return[...s,f.segmentPath]}return"string"!=typeof f?[...s,f]:0===p?(f.split("/").forEach((w,C)=>{0==C&&"."===w||(0==C&&""===w?n=!0:".."===w?t++:""!=w&&s.push(w))}),s):[...s,f]},[]);return new iP(n,t,i)}(n);return f.toRoot()?Z0(t.root,t.root,new rr([],{}),i,s):function p(C){const P=function C3(e,t,n,i){if(e.isAbsolute)return new Q0(t.root,!0,0);if(-1===i)return new Q0(n,n===t.root,0);return function aP(e,t,n){let i=e,s=t,f=n;for(;f>s;){if(f-=s,i=i.parent,!i)throw new Ie(4005,RE&&"Invalid number of '../'");s=i.segments.length}return new Q0(i,!1,s-f)}(n,i+(Ay(e.commands[0])?0:1),e.numberOfDoubleDots)}(f,t,e.snapshot?._urlSegment,C),B=P.processChildren?K0(P.segmentGroup,P.index,f.commands):OE(P.segmentGroup,P.index,f.commands);return Z0(t.root,P.segmentGroup,B,i,s)}(e.snapshot?._lastPathIndex)}function Ay(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Dy(e){return"object"==typeof e&&null!=e&&e.outlets}function Z0(e,t,n,i,s){let p,f={};i&&Ko(i,(C,P)=>{f[P]=Array.isArray(C)?C.map(B=>`${B}`):`${C}`}),p=e===t?n:rP(e,t,n);const w=LE(OS(p));return new fh(w,f,s)}function rP(e,t,n){const i={};return Ko(e.children,(s,f)=>{i[f]=s===t?n:rP(s,t,n)}),new rr(e.segments,i)}class iP{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&Ay(i[0]))throw new Ie(4003,RE&&"Root segment cannot have matrix parameters");const s=i.find(Dy);if(s&&s!==WD(i))throw new Ie(4004,RE&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Q0{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}}function OE(e,t,n){if(e||(e=new rr([],{})),0===e.segments.length&&e.hasChildren())return K0(e,t,n);const i=function E3(e,t,n){let i=0,s=t;const f={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(i>=n.length)return f;const p=e.segments[s],w=n[i];if(Dy(w))break;const C=`${w}`,P=i<n.length-1?n[i+1]:null;if(s>0&&void 0===C)break;if(C&&P&&"object"==typeof P&&void 0===P.outlets){if(!uP(C,P,p))return f;i+=2}else{if(!uP(C,{},p))return f;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(e,t,n),s=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const f=new rr(e.segments.slice(0,i.pathIndex),{});return f.children[zn]=new rr(e.segments.slice(i.pathIndex),e.children),K0(f,0,s)}return i.match&&0===s.length?new rr(e.segments,{}):i.match&&!e.hasChildren()?NE(e,t,n):i.match?K0(e,0,s):NE(e,t,n)}function K0(e,t,n){if(0===n.length)return new rr(e.segments,{});{const i=function T3(e){return Dy(e[0])?e[0].outlets:{[zn]:e}}(n),s={};if(!i[zn]&&e.children[zn]&&1===e.numberOfChildren&&0===e.children[zn].segments.length){const f=K0(e.children[zn],t,n);return new rr(e.segments,f.children)}return Ko(i,(f,p)=>{"string"==typeof f&&(f=[f]),null!==f&&(s[p]=OE(e.children[p],t,f))}),Ko(e.children,(f,p)=>{void 0===i[p]&&(s[p]=f)}),new rr(e.segments,s)}}function NE(e,t,n){const i=e.segments.slice(0,t);let s=0;for(;s<n.length;){const f=n[s];if(Dy(f)){const C=A3(f.outlets);return new rr(i,C)}if(0===s&&Ay(n[0])){i.push(new Cy(e.segments[t].path,sP(n[0]))),s++;continue}const p=Dy(f)?f.outlets[zn]:`${f}`,w=s<n.length-1?n[s+1]:null;p&&w&&Ay(w)?(i.push(new Cy(p,sP(w))),s+=2):(i.push(new Cy(p,{})),s++)}return new rr(i,{})}function A3(e){const t={};return Ko(e,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[i]=NE(new rr([],{}),0,n))}),t}function sP(e){const t={};return Ko(e,(n,i)=>t[i]=`${n}`),t}function uP(e,t,n){return e==n.path&&Dl(t,n.parameters)}const Py="imperative";class Pl{constructor(t,n){this.id=t,this.url=n}}class kE extends Pl{constructor(t,n,i="imperative",s=null){super(t,n),this.type=0,this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lp extends Pl{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class NS extends Pl{constructor(t,n,i,s){super(t,n),this.reason=i,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class kS extends Pl{constructor(t,n,i,s){super(t,n),this.reason=i,this.code=s,this.type=16}}class FE extends Pl{constructor(t,n,i,s){super(t,n),this.error=i,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class D3 extends Pl{constructor(t,n,i,s){super(t,n),this.urlAfterRedirects=i,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class P3 extends Pl{constructor(t,n,i,s){super(t,n),this.urlAfterRedirects=i,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class I3 extends Pl{constructor(t,n,i,s,f){super(t,n),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=f,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class L3 extends Pl{constructor(t,n,i,s){super(t,n),this.urlAfterRedirects=i,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R3 extends Pl{constructor(t,n,i,s){super(t,n),this.urlAfterRedirects=i,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class O3{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class N3{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class k3{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F3{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class V3{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B3{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lP{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let G3=(()=>{class e{createUrlTree(n,i,s,f,p,w){return S3(n||i.root,s,f,p,w)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})(),j3=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=un({token:e,factory:function(t){return G3.\u0275fac(t)},providedIn:"root"}),e})();class cP{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=VE(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){const n=VE(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=BE(t,this._root);return n.length<2?[]:n[n.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return BE(t,this._root).map(n=>n.value)}}function VE(e,t){if(e===t.value)return t;for(const n of t.children){const i=VE(e,n);if(i)return i}return null}function BE(e,t){if(e===t.value)return[t];for(const n of t.children){const i=BE(e,n);if(i.length)return i.unshift(t),i}return[]}class Ic{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function J0(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class fP extends cP{constructor(t,n){super(t),this.snapshot=n,$E(this,t)}toString(){return this.snapshot.toString()}}function hP(e,t){const n=function H3(e,t){const p=new FS([],{},{},"",{},zn,t,null,e.root,-1,{});return new pP("",new Ic(p,[]))}(e,t),i=new $u([new Cy("",{})]),s=new $u({}),f=new $u({}),p=new $u({}),w=new $u(""),C=new tm(i,s,p,w,f,zn,t,n.root);return C.snapshot=n.root,new fP(new Ic(C,[]),n)}class tm{constructor(t,n,i,s,f,p,w,C){this.url=t,this.params=n,this.queryParams=i,this.fragment=s,this.data=f,this.outlet=p,this.component=w,this.title=this.data?.pipe(wt(P=>P[My]))??xn(void 0),this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(wt(t=>X0(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(wt(t=>X0(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dP(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const s=n[i],f=n[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(f.component)break;i--}}return function W3(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(i))}class FS{get title(){return this.data?.[My]}constructor(t,n,i,s,f,p,w,C,P,B,Q){this.url=t,this.params=n,this.queryParams=i,this.fragment=s,this.data=f,this.outlet=p,this.component=w,this.routeConfig=C,this._urlSegment=P,this._lastPathIndex=B,this._resolve=Q}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=X0(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=X0(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pP extends cP{constructor(t,n){super(n),this.url=t,$E(this,n)}toString(){return gP(this._root)}}function $E(e,t){t.value._routerState=e,t.children.forEach(n=>$E(e,n))}function gP(e){const t=e.children.length>0?` { ${e.children.map(gP).join(", ")} } `:"";return`${e.value}${t}`}function zE(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Dl(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Dl(t.params,n.params)||e.params.next(n.params),function o3(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Dl(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Dl(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function GE(e,t){const n=Dl(e.params,t.params)&&function l3(e,t){return sp(e,t)&&e.every((n,i)=>Dl(n.parameters,t[i].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||GE(e.parent,t.parent))}function Iy(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const s=function Y3(e,t,n){return t.children.map(i=>{for(const s of n.children)if(e.shouldReuseRoute(i.value,s.value.snapshot))return Iy(e,i,s);return Iy(e,i)})}(e,t,n);return new Ic(i,s)}{if(e.shouldAttach(t.value)){const f=e.retrieve(t.value);if(null!==f){const p=f.route;return p.value._futureSnapshot=t.value,p.children=t.children.map(w=>Iy(e,w)),p}}const i=function X3(e){return new tm(new $u(e.url),new $u(e.params),new $u(e.queryParams),new $u(e.fragment),new $u(e.data),e.outlet,e.component,e)}(t.value),s=t.children.map(f=>Iy(e,f));return new Ic(i,s)}}const UE="ngNavigationCancelingError";function mP(e,t){const{redirectTo:n,navigationBehaviorOptions:i}=up(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,s=vP(!1,0,t);return s.url=n,s.navigationBehaviorOptions=i,s}function vP(e,t,n){const i=new Error("NavigationCancelingError: "+(e||""));return i[UE]=!0,i.cancellationCode=t,n&&(i.url=n),i}function _P(e){return yP(e)&&up(e.url)}function yP(e){return e&&e[UE]}class Z3{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ly,this.attachRef=null}}let Ly=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const s=this.getOrCreateContext(n);s.outlet=i,this.contexts.set(n,s)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new Z3,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const VS=!1;let wP=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=zn,this.activateEvents=new Yo,this.deactivateEvents=new Yo,this.attachEvents=new Yo,this.detachEvents=new Yo,this.parentContexts=An(Ly),this.location=An(ns),this.changeDetector=An(ey),this.environmentInjector=An(xs)}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:s}=n.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ie(4012,VS);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ie(4012,VS);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ie(4012,VS);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new Ie(4013,VS);this._activatedRoute=n;const s=this.location,p=n.snapshot.component,w=this.parentContexts.getOrCreateContext(this.name).children,C=new Q3(n,w,s.injector);if(i&&function K3(e){return!!e.resolveComponentFactory}(i)){const P=i.resolveComponentFactory(p);this.activated=s.createComponent(P,s.length,C)}else this.activated=s.createComponent(p,{index:s.length,injector:C,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=pr({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ea]}),e})();class Q3{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===tm?this.route:t===Ly?this.childContexts:this.parent.get(t,n)}}let jE=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=xr({type:e,selectors:[["ng-component"]],standalone:!0,features:[m_],decls:1,vars:0,template:function(n,i){1&n&&Xg(0,"router-outlet")},dependencies:[wP],encapsulation:2}),e})();function xP(e,t){return e.providers&&!e._injector&&(e._injector=Fd(e.providers,t,`Route: ${e.path}`)),e._injector??t}function WE(e){const t=e.children&&e.children.map(WE),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==zn&&(n.component=jE),n}function au(e){return e.outlet||zn}function bP(e,t){const n=e.filter(i=>au(i)===t);return n.push(...e.filter(i=>au(i)!==t)),n}function Ry(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class rR{constructor(t,n,i,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=s}activate(t){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),zE(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){const s=J0(n);t.children.forEach(f=>{const p=f.value.outlet;this.deactivateRoutes(f,s[p],i),delete s[p]}),Ko(s,(f,p)=>{this.deactivateRouteAndItsChildren(f,i)})}deactivateRoutes(t,n,i){const s=t.value,f=n?n.value:null;if(s===f)if(s.component){const p=i.getContext(s.outlet);p&&this.deactivateChildRoutes(t,n,p.children)}else this.deactivateChildRoutes(t,n,i);else f&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const i=n.getContext(t.value.outlet),s=i&&t.value.component?i.children:n,f=J0(t);for(const p of Object.keys(f))this.deactivateRouteAndItsChildren(f[p],s);if(i&&i.outlet){const p=i.outlet.detach(),w=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:p,route:t,contexts:w})}}deactivateRouteAndOutlet(t,n){const i=n.getContext(t.value.outlet),s=i&&t.value.component?i.children:n,f=J0(t);for(const p of Object.keys(f))this.deactivateRouteAndItsChildren(f[p],s);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,n,i){const s=J0(n);t.children.forEach(f=>{this.activateRoutes(f,s[f.value.outlet],i),this.forwardEvent(new B3(f.value.snapshot))}),t.children.length&&this.forwardEvent(new F3(t.value.snapshot))}activateRoutes(t,n,i){const s=t.value,f=n?n.value:null;if(zE(s),s===f)if(s.component){const p=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,n,p.children)}else this.activateChildRoutes(t,n,i);else if(s.component){const p=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const w=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),p.children.onOutletReAttached(w.contexts),p.attachRef=w.componentRef,p.route=w.route.value,p.outlet&&p.outlet.attach(w.componentRef,w.route.value),zE(w.route.value),this.activateChildRoutes(t,null,p.children)}else{const w=Ry(s.snapshot),C=w?.get(zr)??null;p.attachRef=null,p.route=s,p.resolver=C,p.injector=w,p.outlet&&p.outlet.activateWith(s,p.injector),this.activateChildRoutes(t,null,p.children)}}else this.activateChildRoutes(t,null,i)}}class SP{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class BS{constructor(t,n){this.component=t,this.route=n}}function iR(e,t,n){const i=e._root;return Oy(i,t?t._root:null,n,[i.value])}function em(e,t){const n=Symbol(),i=t.get(e,n);return i===n?"function"!=typeof e||function hu(e){return null!==vi(e)}(e)?t.get(e):e:i}function Oy(e,t,n,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const f=J0(t);return e.children.forEach(p=>{(function aR(e,t,n,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const f=e.value,p=t?t.value:null,w=n?n.getContext(e.value.outlet):null;if(p&&f.routeConfig===p.routeConfig){const C=function sR(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!sp(e.url,t.url);case"pathParamsOrQueryParamsChange":return!sp(e.url,t.url)||!Dl(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!GE(e,t)||!Dl(e.queryParams,t.queryParams);default:return!GE(e,t)}}(p,f,f.routeConfig.runGuardsAndResolvers);C?s.canActivateChecks.push(new SP(i)):(f.data=p.data,f._resolvedData=p._resolvedData),Oy(e,t,f.component?w?w.children:null:n,i,s),C&&w&&w.outlet&&w.outlet.isActivated&&s.canDeactivateChecks.push(new BS(w.outlet.component,p))}else p&&Ny(t,w,s),s.canActivateChecks.push(new SP(i)),Oy(e,null,f.component?w?w.children:null:n,i,s)})(p,f[p.value.outlet],n,i.concat([p.value]),s),delete f[p.value.outlet]}),Ko(f,(p,w)=>Ny(p,n.getContext(w),s)),s}function Ny(e,t,n){const i=J0(e),s=e.value;Ko(i,(f,p)=>{Ny(f,s.component?t?t.children.getContext(p):null:t,n)}),n.canDeactivateChecks.push(new BS(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}function ky(e){return"function"==typeof e}function qE(e){return e instanceof TS||"EmptyError"===e?.name}const $S=Symbol("INITIAL_VALUE");function nm(){return Al(e=>FD(e.map(t=>t.pipe(Y0(1),function KL(...e){const t=ks(e);return W((n,i)=>{(t?TE(e,n,t):TE(e,n)).subscribe(i)})}($S)))).pipe(wt(t=>{for(const n of t)if(!0!==n){if(n===$S)return $S;if(!1===n||n instanceof fh)return n}return!0}),sh(t=>t!==$S),Y0(1)))}function MP(e){return function ge(...e){return ce(e)}(ma(t=>{if(up(t))throw mP(0,t)}),wt(t=>!0===t))}const YE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function CP(e,t,n,i,s){const f=XE(e,t,n);return f.matched?function MR(e,t,n,i){const s=t.canMatch;return s&&0!==s.length?xn(s.map(p=>{const w=em(p,e);return ch(function dR(e){return e&&ky(e.canMatch)}(w)?w.canMatch(t,n):e.runInContext(()=>w(t,n)))})).pipe(nm(),MP()):xn(!0)}(i=xP(t,i),t,n).pipe(wt(p=>!0===p?f:{...YE})):xn(f)}function XE(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...YE}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(t.matcher||i3)(n,e,t);if(!s)return{...YE};const f={};Ko(s.posParams,(w,C)=>{f[C]=w.path});const p=s.consumed.length>0?{...f,...s.consumed[s.consumed.length-1].parameters}:f;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:p,positionalParamSegments:s.posParams??{}}}function zS(e,t,n,i){if(n.length>0&&function ER(e,t,n){return n.some(i=>GS(e,t,i)&&au(i)!==zn)}(e,n,i)){const f=new rr(t,function TR(e,t,n,i){const s={};s[zn]=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const f of n)if(""===f.path&&au(f)!==zn){const p=new rr([],{});p._sourceSegment=e,p._segmentIndexShift=t.length,s[au(f)]=p}return s}(e,t,i,new rr(n,e.children)));return f._sourceSegment=e,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:[]}}if(0===n.length&&function AR(e,t,n){return n.some(i=>GS(e,t,i))}(e,n,i)){const f=new rr(e.segments,function CR(e,t,n,i,s){const f={};for(const p of i)if(GS(e,n,p)&&!s[au(p)]){const w=new rr([],{});w._sourceSegment=e,w._segmentIndexShift=t.length,f[au(p)]=w}return{...s,...f}}(e,t,n,i,e.children));return f._sourceSegment=e,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:n}}const s=new rr(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function GS(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function TP(e,t,n,i){return!!(au(e)===i||i!==zn&&GS(t,n,e))&&("**"===e.path||XE(t,e,n).matched)}function EP(e,t,n){return 0===t.length&&!e.children[n]}const US=!1;class jS{constructor(t){this.segmentGroup=t||null}}class AP{constructor(t){this.urlTree=t}}function Fy(e){return Sy(new jS(e))}function DP(e){return Sy(new AP(e))}class LR{constructor(t,n,i,s,f){this.injector=t,this.configLoader=n,this.urlSerializer=i,this.urlTree=s,this.config=f,this.allowRedirects=!0}apply(){const t=zS(this.urlTree.root,[],[],this.config).segmentGroup,n=new rr(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,zn).pipe(wt(f=>this.createUrlTree(OS(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe(lh(f=>{if(f instanceof AP)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof jS?this.noMatchError(f):f}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,zn).pipe(wt(s=>this.createUrlTree(OS(s),t.queryParams,t.fragment))).pipe(lh(s=>{throw s instanceof jS?this.noMatchError(s):s}))}noMatchError(t){return new Ie(4002,US)}createUrlTree(t,n,i){const s=LE(t);return new fh(s,n,i)}expandSegmentGroup(t,n,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,n,i).pipe(wt(f=>new rr([],f))):this.expandSegment(t,i,n,i.segments,s,!0)}expandChildren(t,n,i){const s=[];for(const f of Object.keys(i.children))"primary"===f?s.unshift(f):s.push(f);return Lr(s).pipe(ap(f=>{const p=i.children[f],w=bP(n,f);return this.expandSegmentGroup(t,w,p,f).pipe(wt(C=>({segment:C,outlet:f})))}),GD((f,p)=>(f[p.outlet]=p.segment,f),{}),UD())}expandSegment(t,n,i,s,f,p){return Lr(i).pipe(ap(w=>this.expandSegmentAgainstRoute(t,n,i,w,s,f,p).pipe(lh(P=>{if(P instanceof jS)return xn(null);throw P}))),uh(w=>!!w),lh((w,C)=>{if(qE(w))return EP(n,s,f)?xn(new rr([],{})):Fy(n);throw w}))}expandSegmentAgainstRoute(t,n,i,s,f,p,w){return TP(s,n,f,p)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,n,s,f,p):w&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,i,s,f,p):Fy(n):Fy(n)}expandSegmentAgainstRouteUsingRedirect(t,n,i,s,f,p){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,s,p):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,s,f,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s){const f=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?DP(f):this.lineralizeSegments(i,f).pipe(Br(p=>{const w=new rr(p,{});return this.expandSegment(t,w,n,p,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,s,f,p){const{matched:w,consumedSegments:C,remainingSegments:P,positionalParamSegments:B}=XE(n,s,f);if(!w)return Fy(n);const Q=this.applyRedirectCommands(C,s.redirectTo,B);return s.redirectTo.startsWith("/")?DP(Q):this.lineralizeSegments(s,Q).pipe(Br(mt=>this.expandSegment(t,n,i,mt.concat(P),p,!1)))}matchSegmentAgainstRoute(t,n,i,s,f){return"**"===i.path?(t=xP(i,t),i.loadChildren?(i._loadedRoutes?xn({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(wt(w=>(i._loadedRoutes=w.routes,i._loadedInjector=w.injector,new rr(s,{})))):xn(new rr(s,{}))):CP(n,i,s,t).pipe(Al(({matched:p,consumedSegments:w,remainingSegments:C})=>p?this.getChildConfig(t=i._injector??t,i,s).pipe(Br(B=>{const Q=B.injector??t,mt=B.routes,{segmentGroup:Dt,slicedSegments:Gt}=zS(n,w,C,mt),Zt=new rr(Dt.segments,Dt.children);if(0===Gt.length&&Zt.hasChildren())return this.expandChildren(Q,mt,Zt).pipe(wt(fe=>new rr(w,fe)));if(0===mt.length&&0===Gt.length)return xn(new rr(w,{}));const ee=au(i)===f;return this.expandSegment(Q,Zt,mt,Gt,ee?zn:f,!0).pipe(wt(Te=>new rr(w.concat(Te.segments),Te.children)))})):Fy(n)))}getChildConfig(t,n,i){return n.children?xn({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?xn({routes:n._loadedRoutes,injector:n._loadedInjector}):function SR(e,t,n,i){const s=t.canLoad;return void 0===s||0===s.length?xn(!0):xn(s.map(p=>{const w=em(p,e);return ch(function lR(e){return e&&ky(e.canLoad)}(w)?w.canLoad(t,n):e.runInContext(()=>w(t,n)))})).pipe(nm(),MP())}(t,n,i).pipe(Br(s=>s?this.configLoader.loadChildren(t,n).pipe(ma(f=>{n._loadedRoutes=f.routes,n._loadedInjector=f.injector})):function PR(e){return Sy(vP(US,3))}())):xn({routes:[],injector:t})}lineralizeSegments(t,n){let i=[],s=n.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return xn(i);if(s.numberOfChildren>1||!s.children[zn])return t.redirectTo,Sy(new Ie(4e3,US));s=s.children[zn]}}applyRedirectCommands(t,n,i){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i)}applyRedirectCreateUrlTree(t,n,i,s){const f=this.createSegmentGroup(t,n.root,i,s);return new fh(f,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const i={};return Ko(t,(s,f)=>{if("string"==typeof s&&s.startsWith(":")){const w=s.substring(1);i[f]=n[w]}else i[f]=s}),i}createSegmentGroup(t,n,i,s){const f=this.createSegments(t,n.segments,i,s);let p={};return Ko(n.children,(w,C)=>{p[C]=this.createSegmentGroup(t,w,i,s)}),new rr(f,p)}createSegments(t,n,i,s){return n.map(f=>f.path.startsWith(":")?this.findPosParam(t,f,s):this.findOrReturn(f,i))}findPosParam(t,n,i){const s=i[n.path.substring(1)];if(!s)throw new Ie(4001,US);return s}findOrReturn(t,n){let i=0;for(const s of n){if(s.path===t.path)return n.splice(i),s;i++}return t}}class OR{}class FR{constructor(t,n,i,s,f,p,w){this.injector=t,this.rootComponentType=n,this.config=i,this.urlTree=s,this.url=f,this.paramsInheritanceStrategy=p,this.urlSerializer=w}recognize(){const t=zS(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,zn).pipe(wt(n=>{if(null===n)return null;const i=new FS([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zn,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Ic(i,n),f=new pP(this.url,s);return this.inheritParamsAndData(f._root),f}))}inheritParamsAndData(t){const n=t.value,i=dP(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,n,i,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,s)}processChildren(t,n,i){return Lr(Object.keys(i.children)).pipe(ap(s=>{const f=i.children[s],p=bP(n,s);return this.processSegmentGroup(t,p,f,s)}),GD((s,f)=>s&&f?(s.push(...f),s):null),function e3(e,t=!1){return W((n,i)=>{let s=0;n.subscribe(ut(i,f=>{const p=e(f,s++);(p||t)&&i.next(f),!p&&i.complete()}))})}(s=>null!==s),ES(null),UD(),wt(s=>{if(null===s)return null;const f=IP(s);return function VR(e){e.sort((t,n)=>t.value.outlet===zn?-1:n.value.outlet===zn?1:t.value.outlet.localeCompare(n.value.outlet))}(f),f}))}processSegment(t,n,i,s,f){return Lr(n).pipe(ap(p=>this.processSegmentAgainstRoute(p._injector??t,p,i,s,f)),uh(p=>!!p),lh(p=>{if(qE(p))return EP(i,s,f)?xn([]):xn(null);throw p}))}processSegmentAgainstRoute(t,n,i,s,f){if(n.redirectTo||!TP(n,i,s,f))return xn(null);let p;if("**"===n.path){const w=s.length>0?WD(s).parameters:{},C=RP(i)+s.length;p=xn({snapshot:new FS(s,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,OP(n),au(n),n.component??n._loadedComponent??null,n,LP(i),C,NP(n)),consumedSegments:[],remainingSegments:[]})}else p=CP(i,n,s,t).pipe(wt(({matched:w,consumedSegments:C,remainingSegments:P,parameters:B})=>{if(!w)return null;const Q=RP(i)+C.length;return{snapshot:new FS(C,B,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,OP(n),au(n),n.component??n._loadedComponent??null,n,LP(i),Q,NP(n)),consumedSegments:C,remainingSegments:P}}));return p.pipe(Al(w=>{if(null===w)return xn(null);const{snapshot:C,consumedSegments:P,remainingSegments:B}=w;t=n._injector??t;const Q=n._loadedInjector??t,mt=function BR(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:Dt,slicedSegments:Gt}=zS(i,P,B,mt.filter(ee=>void 0===ee.redirectTo));if(0===Gt.length&&Dt.hasChildren())return this.processChildren(Q,mt,Dt).pipe(wt(ee=>null===ee?null:[new Ic(C,ee)]));if(0===mt.length&&0===Gt.length)return xn([new Ic(C,[])]);const Zt=au(n)===f;return this.processSegment(Q,mt,Dt,Gt,Zt?zn:f).pipe(wt(ee=>null===ee?null:[new Ic(C,ee)]))}))}}function $R(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function IP(e){const t=[],n=new Set;for(const i of e){if(!$R(i)){t.push(i);continue}const s=t.find(f=>i.value.routeConfig===f.value.routeConfig);void 0!==s?(s.children.push(...i.children),n.add(s)):t.push(i)}for(const i of n){const s=IP(i.children);t.push(new Ic(i.value,s))}return t.filter(i=>!n.has(i))}function LP(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function RP(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function OP(e){return e.data||{}}function NP(e){return e.resolve||{}}function kP(e){return"string"==typeof e.title||null===e.title}function ZE(e){return Al(t=>{const n=e(t);return n?Lr(n).pipe(wt(()=>t)):xn(t)})}const rm=new wn("ROUTES");let QE=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=An(Rb)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return xn(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=ch(n.loadComponent()).pipe(wt(VP),ma(f=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=f}),DE(()=>{this.componentLoaders.delete(n)})),s=new $D(i,()=>new E).pipe(EE());return this.componentLoaders.set(n,s),s}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return xn({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const f=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(wt(w=>{this.onLoadEndListener&&this.onLoadEndListener(i);let C,P,B=!1;Array.isArray(w)?P=w:(C=w.create(n).injector,P=HD(C.get(rm,[],qe.Self|qe.Optional)));return{routes:P.map(WE),injector:C}}),DE(()=>{this.childrenLoaders.delete(i)})),p=new $D(f,()=>new E).pipe(EE());return this.childrenLoaders.set(i,p),p}loadModuleFactoryOrRoutes(n){return ch(n()).pipe(wt(VP),Br(i=>i instanceof Hx||Array.isArray(i)?xn(i):Lr(this.compiler.compileModuleAsync(i))))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function VP(e){return function YR(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let WS=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new E,this.configLoader=An(QE),this.environmentInjector=An(xs),this.urlSerializer=An(Ty),this.rootContexts=An(Ly),this.navigationId=0,this.afterPreactivation=()=>xn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new N3(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new O3(s))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:i})}setupNavigations(n){return this.transitions=new $u({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Py,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(sh(i=>0!==i.id),wt(i=>({...i,extractedUrl:n.urlHandlingStrategy.extract(i.rawUrl)})),Al(i=>{let s=!1,f=!1;return xn(i).pipe(ma(p=>{this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Al(p=>{const w=n.browserUrlTree.toString(),C=!n.navigated||p.extractedUrl.toString()!==w||w!==n.currentUrlTree.toString();if(!C&&"reload"!==(p.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const B="";return this.events.next(new kS(p.id,n.serializeUrl(i.rawUrl),B,0)),n.rawUrlTree=p.rawUrl,p.resolve(null),ro}if(n.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return BP(p.source)&&(n.browserUrlTree=p.extractedUrl),xn(p).pipe(Al(B=>{const Q=this.transitions?.getValue();return this.events.next(new kE(B.id,this.urlSerializer.serialize(B.extractedUrl),B.source,B.restoredState)),Q!==this.transitions?.getValue()?ro:Promise.resolve(B)}),function RR(e,t,n,i){return Al(s=>function IR(e,t,n,i,s){return new LR(e,t,n,i,s).apply()}(e,t,n,s.extractedUrl,i).pipe(wt(f=>({...s,urlAfterRedirects:f}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),ma(B=>{this.currentNavigation={...this.currentNavigation,finalUrl:B.urlAfterRedirects},i.urlAfterRedirects=B.urlAfterRedirects}),function GR(e,t,n,i,s){return Br(f=>function kR(e,t,n,i,s,f,p="emptyOnly"){return new FR(e,t,n,i,s,p,f).recognize().pipe(Al(w=>null===w?function NR(e){return new Ft(t=>t.error(e))}(new OR):xn(w)))}(e,t,n,f.urlAfterRedirects,i.serialize(f.urlAfterRedirects),i,s).pipe(wt(p=>({...f,targetSnapshot:p}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),ma(B=>{if(i.targetSnapshot=B.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!B.extras.skipLocationChange){const mt=n.urlHandlingStrategy.merge(B.urlAfterRedirects,B.rawUrl);n.setBrowserUrl(mt,B)}n.browserUrlTree=B.urlAfterRedirects}const Q=new D3(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot);this.events.next(Q)}));if(C&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:B,extractedUrl:Q,source:mt,restoredState:Dt,extras:Gt}=p,Zt=new kE(B,this.urlSerializer.serialize(Q),mt,Dt);this.events.next(Zt);const ee=hP(Q,this.rootComponentType).snapshot;return xn(i={...p,targetSnapshot:ee,urlAfterRedirects:Q,extras:{...Gt,skipLocationChange:!1,replaceUrl:!1}})}{const B="";return this.events.next(new kS(p.id,n.serializeUrl(i.extractedUrl),B,1)),n.rawUrlTree=p.rawUrl,p.resolve(null),ro}}),ma(p=>{const w=new P3(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(w)}),wt(p=>i={...p,guards:iR(p.targetSnapshot,p.currentSnapshot,this.rootContexts)}),function gR(e,t){return Br(n=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:f,canDeactivateChecks:p}}=n;return 0===p.length&&0===f.length?xn({...n,guardsResult:!0}):function mR(e,t,n,i){return Lr(e).pipe(Br(s=>function bR(e,t,n,i,s){const f=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return f&&0!==f.length?xn(f.map(w=>{const C=Ry(t)??s,P=em(w,C);return ch(function hR(e){return e&&ky(e.canDeactivate)}(P)?P.canDeactivate(e,t,n,i):C.runInContext(()=>P(e,t,n,i))).pipe(uh())})).pipe(nm()):xn(!0)}(s.component,s.route,n,t,i)),uh(s=>!0!==s,!0))}(p,i,s,e).pipe(Br(w=>w&&function uR(e){return"boolean"==typeof e}(w)?function vR(e,t,n,i){return Lr(t).pipe(ap(s=>TE(function yR(e,t){return null!==e&&t&&t(new k3(e)),xn(!0)}(s.route.parent,i),function _R(e,t){return null!==e&&t&&t(new V3(e)),xn(!0)}(s.route,i),function xR(e,t,n){const i=t[t.length-1],f=t.slice(0,t.length-1).reverse().map(p=>function oR(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(p)).filter(p=>null!==p).map(p=>BD(()=>xn(p.guards.map(C=>{const P=Ry(p.node)??n,B=em(C,P);return ch(function fR(e){return e&&ky(e.canActivateChild)}(B)?B.canActivateChild(i,e):P.runInContext(()=>B(i,e))).pipe(uh())})).pipe(nm())));return xn(f).pipe(nm())}(e,s.path,n),function wR(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return xn(!0);const s=i.map(f=>BD(()=>{const p=Ry(t)??n,w=em(f,p);return ch(function cR(e){return e&&ky(e.canActivate)}(w)?w.canActivate(t,e):p.runInContext(()=>w(t,e))).pipe(uh())}));return xn(s).pipe(nm())}(e,s.route,n))),uh(s=>!0!==s,!0))}(i,f,e,t):xn(w)),wt(w=>({...n,guardsResult:w})))})}(this.environmentInjector,p=>this.events.next(p)),ma(p=>{if(i.guardsResult=p.guardsResult,up(p.guardsResult))throw mP(0,p.guardsResult);const w=new I3(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(w)}),sh(p=>!!p.guardsResult||(n.restoreHistory(p),this.cancelNavigationTransition(p,"",3),!1)),ZE(p=>{if(p.guards.canActivateChecks.length)return xn(p).pipe(ma(w=>{const C=new L3(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(C)}),Al(w=>{let C=!1;return xn(w).pipe(function UR(e,t){return Br(n=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=n;if(!s.length)return xn(n);let f=0;return Lr(s).pipe(ap(p=>function jR(e,t,n,i){const s=e.routeConfig,f=e._resolve;return void 0!==s?.title&&!kP(s)&&(f[My]=s.title),function HR(e,t,n,i){const s=function WR(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===s.length)return xn({});const f={};return Lr(s).pipe(Br(p=>function qR(e,t,n,i){const s=Ry(t)??i,f=em(e,s);return ch(f.resolve?f.resolve(t,n):s.runInContext(()=>f(t,n)))}(e[p],t,n,i).pipe(uh(),ma(w=>{f[p]=w}))),AE(1),function n3(e){return wt(()=>e)}(f),lh(p=>qE(p)?ro:Sy(p)))}(f,e,t,i).pipe(wt(p=>(e._resolvedData=p,e.data=dP(e,n).resolve,s&&kP(s)&&(e.data[My]=s.title),null)))}(p.route,i,e,t)),ma(()=>f++),AE(1),Br(p=>f===s.length?xn(n):ro))})}(n.paramsInheritanceStrategy,this.environmentInjector),ma({next:()=>C=!0,complete:()=>{C||(n.restoreHistory(w),this.cancelNavigationTransition(w,"",2))}}))}),ma(w=>{const C=new R3(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(C)}))}),ZE(p=>{const w=C=>{const P=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&P.push(this.configLoader.loadComponent(C.routeConfig).pipe(ma(B=>{C.component=B}),wt(()=>{})));for(const B of C.children)P.push(...w(B));return P};return FD(w(p.targetSnapshot.root)).pipe(ES(),Y0(1))}),ZE(()=>this.afterPreactivation()),wt(p=>{const w=function q3(e,t,n){const i=Iy(e,t._root,n?n._root:void 0);return new fP(i,t)}(n.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return i={...p,targetRouterState:w}}),ma(p=>{n.currentUrlTree=p.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),n.routerState=p.targetRouterState,"deferred"===n.urlUpdateStrategy&&(p.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,p),n.browserUrlTree=p.urlAfterRedirects)}),((e,t,n)=>wt(i=>(new rR(t,i.targetRouterState,i.currentRouterState,n).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,p=>this.events.next(p)),Y0(1),ma({next:p=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new lp(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{s=!0}}),DE(()=>{s||f||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),lh(p=>{if(f=!0,yP(p)){_P(p)||(n.navigated=!0,n.restoreHistory(i,!0));const w=new NS(i.id,this.urlSerializer.serialize(i.extractedUrl),p.message,p.cancellationCode);if(this.events.next(w),_P(p)){const C=n.urlHandlingStrategy.merge(p.url,n.rawUrlTree),P={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||BP(i.source)};n.scheduleNavigation(C,Py,null,P,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{n.restoreHistory(i,!0);const w=new FE(i.id,this.urlSerializer.serialize(i.extractedUrl),p,i.targetSnapshot??void 0);this.events.next(w);try{i.resolve(n.errorHandler(p))}catch(C){i.reject(C)}}return ro}))}))}cancelNavigationTransition(n,i,s){const f=new NS(n.id,this.urlSerializer.serialize(n.extractedUrl),i,s);this.events.next(f),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function BP(e){return e!==Py}let $P=(()=>{class e{buildTitle(n){let i,s=n.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(f=>f.outlet===zn);return i}getResolvedTitleForRoute(n){return n.data[My]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=un({token:e,factory:function(){return An(XR)},providedIn:"root"}),e})(),XR=(()=>{class e extends $P{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}}return e.\u0275fac=function(n){return new(n||e)(Xe(OD))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ZR=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=un({token:e,factory:function(){return An(KR)},providedIn:"root"}),e})();class QR{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let KR=(()=>{class e extends QR{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=function Fh(e){return xa(()=>{const t=e.prototype.constructor,n=t[oo]||Tp(t),i=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==i;){const f=s[oo]||Tp(s);if(f&&f!==n)return f;s=Object.getPrototypeOf(s)}return f=>new f})}(e)))(i||e)}}(),e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const qS=new wn("",{providedIn:"root",factory:()=>({})});let tO=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=un({token:e,factory:function(){return An(eO)},providedIn:"root"}),e})(),eO=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function nO(e){throw e}function rO(e,t,n){return t.parse("/")}const iO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rs=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=An(CT),this.isNgZoneEnabled=!1,this.options=An(qS,{optional:!0})||{},this.errorHandler=this.options.errorHandler||nO,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||rO,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=An(tO),this.routeReuseStrategy=An(ZR),this.urlCreationStrategy=An(j3),this.titleStrategy=An($P),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=HD(An(rm,{optional:!0})??[]),this.navigationTransitions=An(WS),this.urlSerializer=An(Ty),this.location=An(dy),this.isNgZoneEnabled=An(Si)instanceof Si&&Si.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new fh,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=hP(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Py,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i="popstate"===n.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,i,n.state)},0)}))}navigateToSyncWithBrowser(n,i,s){const f={replaceUrl:!0},p=s?.navigationId?s:null;if(s){const C={...s};delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(f.state=C)}const w=this.parseUrl(n);this.scheduleNavigation(w,i,p,f)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(WE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,i={}){const{relativeTo:s,queryParams:f,fragment:p,queryParamsHandling:w,preserveFragment:C}=i,P=C?this.currentUrlTree.fragment:p;let B=null;switch(w){case"merge":B={...this.currentUrlTree.queryParams,...f};break;case"preserve":B=this.currentUrlTree.queryParams;break;default:B=f||null}return null!==B&&(B=this.removeEmptyProps(B)),this.urlCreationStrategy.createUrlTree(s,this.routerState,this.currentUrlTree,n,B,P??null)}navigateByUrl(n,i={skipLocationChange:!1}){const s=up(n)?n:this.parseUrl(n),f=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(f,Py,null,i)}navigate(n,i={skipLocationChange:!1}){return function aO(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Ie(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,n)}return i}isActive(n,i){let s;if(s=!0===i?{...iO}:!1===i?{...oO}:i,up(n))return YD(this.currentUrlTree,n,s);const f=this.parseUrl(n);return YD(this.currentUrlTree,f,s)}removeEmptyProps(n){return Object.keys(n).reduce((i,s)=>{const f=n[s];return null!=f&&(i[s]=f),i},{})}scheduleNavigation(n,i,s,f,p){if(this.disposed)return Promise.resolve(!1);let w,C,P,B;return p?(w=p.resolve,C=p.reject,P=p.promise):P=new Promise((Q,mt)=>{w=Q,C=mt}),B="computed"===this.canceledNavigationResolution?s&&s.\u0275routerPageId?s.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:B,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:f,resolve:w,reject:C,promise:P,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),P.catch(Q=>Promise.reject(Q))}setBrowserUrl(n,i){const s=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const p={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",p)}else{const f={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(s,"",f)}}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-(this.browserPageId??this.currentPageId);0!==f?this.location.historyGo(f):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===f&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class zP{}let lO=(()=>{class e{constructor(n,i,s,f,p){this.router=n,this.injector=s,this.preloadingStrategy=f,this.loader=p}setUpPreloading(){this.subscription=this.router.events.pipe(sh(n=>n instanceof lp),ap(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const s=[];for(const f of i){f.providers&&!f._injector&&(f._injector=Fd(f.providers,n,`Route: ${f.path}`));const p=f._injector??n,w=f._loadedInjector??p;(f.loadChildren&&!f._loadedRoutes&&void 0===f.canLoad||f.loadComponent&&!f._loadedComponent)&&s.push(this.preloadConfig(p,f)),(f.children||f._loadedRoutes)&&s.push(this.processRoutes(w,f.children??f._loadedRoutes))}return Lr(s).pipe(no())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(n,i):xn(null);const f=s.pipe(Br(p=>null===p?xn(void 0):(i._loadedRoutes=p.routes,i._loadedInjector=p.injector,this.processRoutes(p.injector??n,p.routes))));return i.loadComponent&&!i._loadedComponent?Lr([f,this.loader.loadComponent(i)]).pipe(no()):f})}}return e.\u0275fac=function(n){return new(n||e)(Xe(Rs),Xe(Rb),Xe(xs),Xe(zP),Xe(QE))},e.\u0275prov=un({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const tA=new wn("");let GP=(()=>{class e{constructor(n,i,s,f,p={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=s,this.zone=f,this.options=p,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},p.scrollPositionRestoration=p.scrollPositionRestoration||"disabled",p.anchorScrolling=p.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof kE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof lp&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof lP&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new lP(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function gv(){throw new Error("invalid")}()},e.\u0275prov=un({token:e,factory:e.\u0275fac}),e})();var Os=(()=>((Os=Os||{})[Os.COMPLETE=0]="COMPLETE",Os[Os.FAILED=1]="FAILED",Os[Os.REDIRECTING=2]="REDIRECTING",Os))();const im=!1;function hh(e,t){return{\u0275kind:e,\u0275providers:t}}const eA=new wn("",{providedIn:"root",factory:()=>!1});function jP(){const e=An(Ja);return t=>{const n=e.get(Wd);if(t!==n.components[0])return;const i=e.get(Rs),s=e.get(HP);1===e.get(nA)&&i.initialNavigation(),e.get(WP,null,qe.Optional)?.setUpPreloading(),e.get(tA,null,qe.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const HP=new wn(im?"bootstrap done indicator":"",{factory:()=>new E}),nA=new wn(im?"initial navigation":"",{providedIn:"root",factory:()=>1});function pO(){let e=[];return e=im?[{provide:Km,multi:!0,useFactory:()=>{const t=An(Rs);return()=>t.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function $3(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],hh(1,e)}const WP=new wn(im?"router preloader":"");function gO(e){return hh(0,[{provide:WP,useExisting:lO},{provide:zP,useExisting:e}])}const Vy=!1,qP=new wn(Vy?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),mO=[dy,{provide:Ty,useClass:PE},Rs,Ly,{provide:tm,useFactory:function UP(e){return e.routerState.root},deps:[Rs]},QE,Vy?{provide:eA,useValue:!0}:[]];function vO(){return new zb("Router",Rs)}let YP=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[mO,Vy&&i?.enableTracing?pO().\u0275providers:[],{provide:rm,multi:!0,useValue:n},{provide:qP,useFactory:xO,deps:[[Rs,new Uh,new qa]]},{provide:qS,useValue:i||{}},i?.useHash?{provide:Ac,useClass:QT}:{provide:Ac,useClass:lS},{provide:tA,useFactory:()=>{const e=An(OI),t=An(Si),n=An(qS),i=An(WS),s=An(Ty);return n.scrollOffset&&e.setOffset(n.scrollOffset),new GP(s,i,e,t,n)}},i?.preloadingStrategy?gO(i.preloadingStrategy).\u0275providers:[],{provide:zb,multi:!0,useFactory:vO},i?.initialNavigation?bO(i):[],[{provide:XP,useFactory:jP},{provide:Bb,multi:!0,useExisting:XP}]]}}static forChild(n){return{ngModule:e,providers:[{provide:rm,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(Xe(qP,8))},e.\u0275mod=Va({type:e}),e.\u0275inj=wa({imports:[jE]}),e})();function xO(e){if(Vy&&e)throw new Ie(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function bO(e){return["disabled"===e.initialNavigation?hh(3,[{provide:A0,multi:!0,useFactory:()=>{const t=An(Rs);return()=>{t.setUpLocationChangeListener()}}},{provide:nA,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?hh(2,[{provide:nA,useValue:0},{provide:A0,multi:!0,deps:[Ja],useFactory:t=>{const n=t.get(XT,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const s=t.get(Rs),f=t.get(HP);(function cO(e,t){e.events.pipe(sh(n=>n instanceof lp||n instanceof NS||n instanceof FE||n instanceof kS),wt(n=>n instanceof lp||n instanceof kS?Os.COMPLETE:n instanceof NS&&(0===n.code||1===n.code)?Os.REDIRECTING:Os.FAILED),sh(n=>n!==Os.REDIRECTING),Y0(1)).subscribe(()=>{t()})})(s,()=>{i(!0)}),t.get(WS).afterPreactivation=()=>(i(!0),f.closed?xn(void 0):f),s.initialNavigation()}))}}]).\u0275providers:[]]}const XP=new wn(Vy?"Router Initializer":""),MO=[];let CO=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=Va({type:e}),e.\u0275inj=wa({imports:[YP.forRoot(MO),YP]}),t})();var rA=_t(5836),Ye=_t.n(rA),ZP=_t(2299);function Lc(e,t){return"string"==typeof t&&(t=Lc(t)),(t=t||document).querySelector(e)}function QP(e,t){if(e&&document.body.appendChild(function EO(e){let t=document.createElement("div");return t.innerHTML=e,t.firstChild}(e)),t){let n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),document.head.appendChild(n)}}function KP(e){let t=Lc("#"+e);return"content"in t&&(t=t.content),document.importNode(t,!0).children[0]}var Ge=_t(1237);const iA="template-coverage-parameter-discrete-legend",AO=`<template id="${iA}">\n  <div class="leaflet-coverage-control legend discrete-legend">\n    <div class="legend-title-container"><strong class="legend-title"></strong></div>\n    <div class="legend-palette discrete-legend-palette"></div>\n  </div>\n</template>`;class DO extends Ye().Control{constructor(t,n={}){super({position:n.position||"bottomright"}),this._covLayer=t,this._templateId=n.templateId||iA,this._language=n.language,!n.templateId&&null===document.getElementById(iA)&&QP(AO),t.on&&(this._remove=()=>this.remove(),this._update=()=>this._doUpdate(!1),t.on("remove",this._remove))}update(){this._doUpdate(!0)}_doUpdate(t){let n=this._el;if(t){let p=this._covLayer.parameter;this._language=(0,Ge.getLanguageTag)(p.observedProperty.label,this._language);let w=(0,Ge.getLanguageString)(p.observedProperty.label,this._language);Lc(".legend-title",n).innerHTML=w}let i=this._covLayer.palette,s=this._covLayer.parameter,f="";for(let p=0;p<i.steps;p++){let w=(0,Ge.getLanguageString)(s.observedProperty.categories[p].label,this._language);f+=`\n        <i style="background:rgb(${i.red[p]}, ${i.green[p]}, ${i.blue[p]})"></i>\n        ${w}\n        <br>`}Lc(".legend-palette",n).innerHTML=f}onAdd(t){return this._map=t,this._covLayer.on&&this._covLayer.on("paletteChange",this._update),this._el=KP(this._templateId),this.update(),this._el}onRemove(){this._covLayer.off&&(this._covLayer.off("remove",this._remove),this._covLayer.off("paletteChange",this._update))}}const oA="template-coverage-parameter-continuous-legend",PO=`<template id="${oA}">\n  <div class="leaflet-coverage-control legend continuous-legend">\n    <div style="margin-bottom:3px" class="legend-title-container">\n      <strong class="legend-title"></strong>\n    </div>\n    <div style="display: inline-block; height: 144px; float:left">\n      <span style="height: 136px; width: 18px; display: block; margin-top: 9px;" class="legend-palette"></span>\n    </div>\n    <div style="display: inline-block; float:left; height:153px">\n      <table style="height: 100%;">\n        <tr><td style="vertical-align:top"><span class="legend-max"></span> <span class="legend-uom"></span></td></tr>\n        <tr><td><span class="legend-current"></span></td></tr>\n        <tr><td style="vertical-align:bottom"><span class="legend-min"></span> <span class="legend-uom"></span></td></tr>\n      </table>\n    </div>\n  </div>\n</template>`;class IO extends Ye().Control{constructor(t,n={}){super({position:n.position||"bottomright"}),this._covLayer=t,this._templateId=n.templateId||oA,this._language=n.language,!n.templateId&&null===document.getElementById(oA)&&QP(PO),t.on&&(this._remove=()=>this.remove(),this._update=()=>this._doUpdate(!1),t.on("remove",this._remove))}update(){this._doUpdate(!0)}_doUpdate(t){let n=this._el;if(t){let w=this._covLayer.parameter,C=(0,Ge.getLanguageTag)(w.observedProperty.label,this._language),P=(0,Ge.getLanguageString)(w.observedProperty.label,C),B=(0,Ge.stringifyUnit)(w.unit,C);Lc(".legend-title",n).innerHTML=P,function TO(e,t){return"string"==typeof t&&(t=Lc(t)),[...(t=t||document).querySelectorAll(e)]}(".legend-uom",n).forEach(Q=>Q.innerHTML=B)}let i=this._covLayer.palette,[s,f]=this._covLayer.paletteExtent;Lc(".legend-min",n).innerHTML=s.toFixed(2),Lc(".legend-max",n).innerHTML=f.toFixed(2);let p="";for(let w=0;w<i.steps;w++)w>0&&(p+=","),p+="rgb("+i.red[w]+","+i.green[w]+","+i.blue[w]+")";Lc(".legend-palette",n).style.background="transparent linear-gradient(to top, "+p+") repeat scroll 0% 0%"}onAdd(t){return this._map=t,this._covLayer.on&&(this._covLayer.on("paletteChange",this._update),this._covLayer.on("paletteExtentChange",this._update)),this._el=KP(this._templateId),this.update(),this._el}onRemove(){this._covLayer.off&&(this._covLayer.off("remove",this._remove),this._covLayer.off("paletteChange",this._update),this._covLayer.off("paletteExtentChange",this._update))}}function JP(e,t={}){return t.position=t.position||"bottomright",e.parameter.observedProperty.categories?new DO(e,t):new IO(e,t)}let tI=Ye().Evented.prototype;function YS(e){let t=class extends e{};for(let n in tI)t.prototype[n]=tI[n];return t}class jk extends(YS(Ye().Control)){constructor(t,n={}){super({position:n.position||"topleft"}),this._templateId=n.templateId||aA,this._title=n.title||"Time",this._covLayer=t,!n.templateId&&null===document.getElementById(aA)&&inject(LO),t.on&&(this._remove=()=>this.remove(),t.on("remove",this._remove),this._axisListener=f=>{"time"===f.axis&&this.update()});let i=this._covLayer.timeSlices,s=new Map;for(let f of i){let p=new Date(Date.UTC(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate())).getTime();s.has(p)||s.set(p,[]),s.get(p).push(f)}this._dateMap=s}onAdd(t){this._map=t,this._covLayer.on&&this._covLayer.on("axisChange",this._axisListener);let n=fromTemplate(this._templateId);this._el=n,L.DomEvent.disableClickPropagation(n),this._title&&($$(".title",n).innerHTML=this._title);for(let i of this._dateMap.keys()){let s=nI(i);$$(".date",n).appendChild(HTML(`<option value="${s}">${s}</option>`))}return $$(".date",n).disabled=1===this._dateMap.size,$$(".date",n).addEventListener("change",i=>{let s=eI(i.target.value),f=this._dateMap.get(s)[0];this._covLayer.time=f,this._initTimeSelect(s),this.fire("change",{time:f})}),$$(".time",n).addEventListener("change",i=>{let s=$$(".date",n).value,p=new Date(s+"T"+i.target.value);this._covLayer.time=p,this.fire("change",{time:p})}),this.update(),n}onRemove(){this._covLayer.off&&(this._covLayer.off("remove",this._remove),this._covLayer.off("axisChange",this._axisListener))}update(){let t=this._covLayer.time;if(!t)return;let n=this._el,i=eI(t.toISOString()),s=nI(i);$$(".date",n).value=s,this._initTimeSelect(i);let f=t.toISOString().substr(11);$$(".time",n).value=f}_initTimeSelect(t){let i=$$(".time",this._el);i.innerHTML="";let s=this._dateMap.get(t);for(let f of s){let p=f.toISOString().substr(11);i.appendChild(HTML(`<option value="${p}">${p}</option>`))}i.disabled=1===s.length}}class Hk extends(YS(Ye().Control)){constructor(t,n={}){super(n.position?{position:n.position}:{position:"topleft"}),this._templateId=n.templateId||sA,this._title=n.title||"",this._choices=t,this._value=n.value||t[0].value,!n.templateId&&null===document.getElementById(sA)&&inject(RO)}onAdd(t){let n=fromTemplate(this._templateId);this._el=n,L.DomEvent.disableClickPropagation(n),$$(".select-title",n).innerHTML=this._title;for(let{value:i,label:s}of this._choices)$$("select",n).appendChild(HTML(`<option value="${i}">${s}</option>`));return $$("select",n).disabled=this._choices.length<=1,this.value=this._value,$$("select",n).addEventListener("change",i=>{this._value=i.target.value,this.fire("change",{value:i.target.value})}),n}get value(){return this._value}set value(t){$$("select",this._el).value=t}}class Wk extends Ye().Layer{constructor(t,n={}){super(),this._templateId=n.templateId,this._covLayer=t,this._title=n.title||"Vertical",this._position=n.position||"topleft",t.on&&(this._remove=()=>this.remove(),t.on("remove",this._remove),this._axisListener=i=>{"vertical"===i.axis&&this.update()})}onAdd(t){this._map=t,this._covLayer.on&&this._covLayer.on("axisChange",this._axisListener);let n=this._covLayer.crsVerticalAxis||{},i=n.name?getLanguageString(n.name):this._title,s=stringifyUnit(n.unit),f=[],p=this._covLayer.verticalSlices;for(let w=0;w<p.length;w++)f.push({value:w.toString(),label:p[w]+s});this._dropdown=new Dropdown(f,{templateId:this._templateId,position:this._position,title:i,value:this._getVerticalIndex().toString()}).on("change",w=>{let C=parseInt(w.value),P=this._covLayer.verticalSlices[C];this._covLayer.vertical=P,this.fire("change",{vertical:P})}).addTo(t)}onRemove(t){this._dropdown.remove(),this._covLayer.off&&(this._covLayer.off("remove",this._remove),this._covLayer.off("axisChange",this._axisListener))}_getVerticalIndex(){return this._covLayer.verticalSlices.indexOf(this._covLayer.vertical)}update(){let t=this._getVerticalIndex();this._dropdown.value=t.toString()}}var OO=_t(6507),NO=_t.n(OO);function XS(e,t=256){if(1===t)return om([e[0]]);var n=document.createElement("canvas");n.width=t,n.height=1;for(var i=n.getContext("2d"),s=i.createLinearGradient(0,0,t-1,0),f=e.length,p=0;p<f;p++)s.addColorStop(p/(f-1),e[p]);i.fillStyle=s,i.fillRect(0,0,t,1);var w=new Uint8Array(t),C=new Uint8Array(t),P=new Uint8Array(t),B=i.getImageData(0,0,t,1).data;for(let Q=0,mt=0;Q<B.length;Q+=4,mt++)w[mt]=B[Q],C[mt]=B[Q+1],P[mt]=B[Q+2];return{steps:w.length,red:w,green:C,blue:P}}function om(e){var t=document.createElement("canvas");t.width=1,t.height=1;for(var n=t.getContext("2d"),i=e.length,s=new Uint8Array(i),f=new Uint8Array(i),p=new Uint8Array(i),w=0;w<e.length;w++){n.fillStyle=e[w],n.fillRect(0,0,1,1);var C=n.getImageData(0,0,1,1).data;s[w]=C[0],f[w]=C[1],p[w]=C[2]}return{steps:s.length,red:s,green:f,blue:p}}function rI(e){let t=om([e]);return{r:t.red[0],g:t.green[0],b:t.blue[0]}}function iI(e){if(!e)return;let n,t=e.colors;return n="linear"===e.interpolation?XS(t,e.steps):om(t),n}function Rc(e,t=.1){if(e[0]===e[1]){let n=e[0]*t;return[e[0]-n,e[1]+n]}return e}class qk{constructor({defaultSteps:t=256}={}){this._defaultSteps=t,this._palettes=new Map}add(t,n){if(Array.isArray(n)&&om(n),![n.red,n.green,n.blue].every(i=>i.length===n.red.length))throw new Error("The red, green, blue arrays of the palette must be of equal lengths");n.red instanceof Uint8Array||(n.red=uA(n.red),n.green=uA(n.green),n.blue=uA(n.blue)),n.steps=n.red.length,this._palettes.set(t,n)}addLinear(t,n,{steps:i}={}){this.add(t,XS(n,i||this._defaultSteps))}get(t){var n=this._palettes.get(t);if(void 0===n)throw new Error('Palette "'+t+'" not found');return n}get[Symbol.iterator](){return this._palettes[Symbol.iterator]}}const FO=()=>XS(["#deebf7","#3182bd"]),VO=e=>{if(e>12)throw new Error("not enough built-in categorical colors, must supply custom colors");return om(["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"].slice(0,e))};function Oc(e){return class extends e{initializePalette(){let t=this.options,n=this.parameter;if(!n)return Promise.resolve();let i=n.observedProperty.categories;if(i&&this._initCategoryIdxMap(),this._palette||(this._palette=t.palette?t.palette:n.preferredPalette?iI(n.preferredPalette):i?i.every(s=>s.preferredColor)?om(i.map(s=>s.preferredColor)):VO(i.length):FO()),i&&i.length!==this._palette.steps)throw new Error("Categorical palettes must match the number of categories of the parameter");if(this._paletteExtent=this._paletteExtent||t.paletteExtent,this._extendMax=!!t.extendMax,this._extendMin=!!t.extendMin,this.parameter.categoryEncoding){let s=this._categoryIdxMap,f=s.length-1;this.getPaletteIndex=p=>{if(null===p||p<0||p>f)return;let w=s[p];return 255!==w?w:void 0}}return!this.canUsePalette||this.canUsePalette()?this.setPaletteExtent(this._paletteExtent,!0).then(()=>this._updatePaletteIndexFn()):Promise.resolve()}_updatePaletteIndexFn(){if(!this.parameter.categoryEncoding){let t=this.palette,n=this.paletteExtent;this.getPaletteIndex=i=>null===i?void 0:i>n[1]?this._extendMax?t.steps-1:void 0:i<n[0]?this._extendMin?0:void 0:function kO(e,t,n){return Math.trunc((t.steps-1+.9999)*(e-n[0])/(n[1]-n[0]))}(i,t,n)}}get palette(){if(this.parameter&&(!this.canUsePalette||this.canUsePalette()))return this._palette}set palette(t){this._palette=t,this._updatePaletteIndexFn(),this.redraw(),this.fire("paletteChange")}set paletteExtent(t){this.setPaletteExtent(t)}get paletteExtent(){return this._paletteExtent}setPaletteExtent(t,n){if(this.parameter.observedProperty.categories)return Promise.resolve();let i=this.paletteExtent;return(Array.isArray(t)?Promise.resolve(t):this.computePaletteExtent(t)).then(p=>{Array.isArray(p)&&isNaN(p[0])||(p=>!Array.isArray(i)||i[0]!==p[0]||i[1]!==p[1])(p)&&(this._paletteExtent=p,this._updatePaletteIndexFn(),n||this.redraw(),this.fire("paletteExtentChange"))})}_initCategoryIdxMap(){let t=this.parameter;if(!t.categoryEncoding)return;let p,n=-1/0,i=1/0,s=t.observedProperty.categories,f=t.categoryEncoding;for(let w of s)if(f.has(w.id))for(let C of f.get(w.id))n=Math.max(n,C),i=Math.min(i,C);if(!(s.length<256))throw new Error("Too many categories: "+s.length);if(n>1e4||i<0)throw new Error("category values too high (>10000) or low (<0)");p=new Uint8Array(n+1);for(let w=0;w<=n;w++)p[w]=255;for(let w=0;w<s.length;w++){let C=s[w];if(f.has(C.id))for(let P of t.categoryEncoding.get(C.id))p[P]=w}this._categoryIdxMap=p}}}function dh(e){return class extends e{load(){this.fire("dataLoading");let t=this.coverage.loadDomain().then(n=>(this.domain=n,[this._projX,this._projY]=(0,Ge.getHorizontalCRSComponents)(n),(0,Ge.loadProjection)(n))).then(n=>{this.projection=n});return this._loadCoverageSubset?t=t.then(()=>this._loadCoverageSubset()):this.parameter&&(t=t.then(()=>this.coverage.loadRange(this.parameter.key)).then(n=>{this.range=n})),t=t.then(()=>{this.fire("dataLoad")}).catch(n=>{console.error(n),this.fire("error",{error:n}),this.fire("dataLoad")}),t}}}class BO extends(Oc(dh(Ye().GridLayer))){constructor(t,n={}){super(),(0,Ge.isDomain)(t)&&(t=(0,Ge.fromDomain)(t),n.parameter=t.parameters.keys().next().value,delete n.keys),n.paletteExtent||(n.paletteExtent="subset"),Ye().Util.setOptions(this,n),this._cov=t,this._param=t.parameters.get(n.keys?n.keys[0]:n.parameter),this._axesSubset={t:{coordPref:n.time?n.time.toISOString():void 0},z:{coordPref:n.vertical}},this.crsVerticalAxis=void 0}onAdd(t){this._map=t,this.load().then(()=>this.initializePalette()).then(()=>{let n=(0,Ge.getReferenceObject)(this.domain,"z");if(n&&1===n.coordinates.length){let i=n.system;i.cs&&(i.cs.csAxes||i.cs.axes)&&(this.crsVerticalAxis=i.cs.csAxes?i.cs.csAxes[0]:i.cs.axes[0])}}).then(()=>{this._errored=!1,super.onAdd(t),this.fire("afterAdd")}).catch(n=>{this._errored=!0,console.log(n),super.onAdd(t)})}onRemove(t){delete this._map,super.onRemove(t)}getBounds(){let t;if(!this._cov.bbox){t=this._getDomainBbox();let f=this.projection,p=f.unproject({x:t[0],y:t[1]}),w=f.unproject({x:t[0],y:t[3]}),C=f.unproject({x:t[2],y:t[1]}),P=f.unproject({x:t[2],y:t[3]});return Ye().latLngBounds([p,w,C,P])}t=this._cov.bbox;let n=Ye().latLng(t[1],t[0]),i=Ye().latLng(t[3],t[2]);return Ye().latLngBounds(n,i)}_loadCoverageSubset(){let t={};for(let n of Object.keys(this._axesSubset)){let i=this._axesSubset[n];this.domain.axes.has(n)&&(t[n]=null==i.coordPref?{target:this.domain.axes.get(n).values[0]}:{target:i.coordPref})}return this.fire("dataLoading"),this._cov.subsetByValue(t).then(n=>(this._subsetCov=n,n.cacheRanges=!0,Promise.all([n.loadDomain(),n.loadRange(this._param.key)]))).then(([n,i])=>{this._subsetDomain=n,this._subsetRange=i,this.fire("dataLoad")}).catch(n=>{throw this.fire("dataLoad"),n})}get coverage(){return this._cov}get parameter(){return this._param}set time(t){if(!this.domain.axes.has("t"))throw new Error("No time axis found");let n=this.time;this._axesSubset.t.coordPref=t.toISOString(),this._loadCoverageSubset().then(()=>{n!==this.time&&(this.redraw(),this.fire("axisChange",{axis:"time"}))})}get time(){if(this.domain.axes.has("t")){let t=this._subsetDomain.axes.get("t").values[0];return new Date(t)}}get timeSlices(){if(this.domain.axes.has("t"))return this.domain.axes.get("t").values.map(t=>new Date(t))}set vertical(t){if(!this.domain.axes.has("z"))throw new Error("No vertical axis found");let n=this.vertical;this._axesSubset.z.coordPref=t,this._loadCoverageSubset().then(()=>{n!==this.vertical&&(this.redraw(),this.fire("axisChange",{axis:"vertical"}))})}get vertical(){if(this.domain.axes.has("z"))return this._subsetDomain.axes.get("z").values[0]}get verticalSlices(){if(this.domain.axes.has("z")){let t=this.domain.axes.get("z").values;return ArrayBuffer.isView(t)&&(t=[...t]),t}}computePaletteExtent(t){if("subset"===t){let n=this._subsetRange.shape.get(this._projX),i=this._subsetRange.shape.get(this._projY);if(n*i<1e6)return t=Rc(t=(0,Ge.minMaxOfRange)(this._subsetRange)),Promise.resolve(t);{let s={start:0,stop:n,step:Math.max(Math.round(n/1e3),1)},f={start:0,stop:i,step:Math.max(Math.round(i/1e3),1)};return this._subsetCov.subsetByIndex({[this._projX]:s,[this._projY]:f}).then(p=>p.loadRange(this._param.key).then(w=>{let[C,P]=(0,Ge.minMaxOfRange)(w),B=.1*(P-C);return t=[C-B,P+B]}))}}if("fov"===t)throw this._map.getBounds(),new Error("NOT IMPLEMENTED YET");throw new Error("Unknown extent specification: "+t)}getValueAt(t){let n=this.domain.axes.get(this._projX).values,i=this.domain.axes.get(this._projY).values,s=this._getDomainBbox(),{lat:f,lng:p}=t,{x:w,y:C}=this.projection.project({lat:f,lon:p});if(w<s[0]||w>s[2]||C<s[1]||C>s[3])return;let P=(0,Ge.indexOfNearest)(i,C),B=(0,Ge.indexOfNearest)(n,w);return this._subsetRange.get({[this._projY]:P,[this._projX]:B})}createTile(t){let n=Ye().DomUtil.create("canvas","leaflet-tile");var i=this.getTileSize();return n.width=i.x,n.height=i.y,this.drawTile(n,t),n}drawTile(t,n){if(this._errored)return;let w,i=t.getContext("2d"),s=this.getTileSize(),f=i.getImageData(0,0,s.x,s.y),p=NO()(f.data,[s.y,s.x,4]),C=this.options.valueToColor;if(C)w=(B,Q,mt)=>{let Dt=C(mt);null!=Dt&&(p.set(B,Q,0,Dt.r),p.set(B,Q,1,Dt.g),p.set(B,Q,2,Dt.b),p.set(B,Q,3,Dt.hasOwnProperty("a")?Dt.a:255))};else{let{red:B,green:Q,blue:mt}=this.palette,Dt=this.getPaletteIndex;w=(Gt,Zt,ee)=>{let ue=Dt(ee);void 0!==ue&&(p.set(Gt,Zt,0,B[ue]),p.set(Gt,Zt,1,Q[ue]),p.set(Gt,Zt,2,mt[ue]),p.set(Gt,Zt,3,255))}}let P=this._subsetRange.get;this._isDomainUsingEllipsoidalCRS()?this._isRectilinearGeodeticMap()?this._drawGeodeticCRSWithRectilinearMapProjection(w,n,P):this._drawGeodeticCRSWithAnyMapProjection(w,n,P):this._isRectilinearGeodeticMap()?this._drawProjectedCRSWithRectilinearMapProjection(w,n,P):this._drawProjectedCRSWithAnyMapProjection(w,n,P),i.putImageData(f,0,0)}_getDomainBbox(){let t=(C,P)=>{let Q,mt,B=C.length-1;[Q,mt]=P?[P.get(0)[0],P.get(B)[1]]:[C[0],C[B]];let Dt=Q>mt;return Dt&&([Q,mt]=[mt,Q]),!P&&C.length>1&&(Dt?(Q-=(C[B-1]-C[B])/2,mt+=(C[0]-C[1])/2):(Q-=(C[1]-C[0])/2,mt+=(C[B]-C[B-1])/2)),[Q,mt]},n=this.domain.axes.get(this._projX),i=this.domain.axes.get(this._projY),[s,f]=t(n.values,n.bounds),[p,w]=t(i.values,i.bounds);return[s,p,f,w]}_drawGeodeticCRSWithAnyMapProjection(t,n,i){let s=this.getTileSize(),f=n.x*s.x,p=n.y*s.y,w=n.z,C=this._map,P=this.domain.axes.get("x").values,B=this.domain.axes.get("y").values,Q=this._getDomainBbox();"y"===this._projX&&(Q=[Q[1],Q[0],Q[3],Q[2]]);let mt=[Q[0],Q[0]+360];for(let Dt=0;Dt<s.x;Dt++)for(let Gt=0;Gt<s.y;Gt++){let{lat:Zt,lng:ee}=C.unproject(Ye().point(f+Dt,p+Gt),w);Zt<Q[1]||Zt>Q[3]||(ee=oI(ee,mt),ee<Q[0]||ee>Q[2])||t(Gt,Dt,i({y:(0,Ge.indexOfNearest)(B,Zt),x:(0,Ge.indexOfNearest)(P,ee)}))}}_drawProjectedCRSWithAnyMapProjection(t,n,i){let s=this._map,f=this.domain.axes.get(this._projX).values,p=this.domain.axes.get(this._projY).values,w=this._getDomainBbox(),C=this.projection,P=this.getTileSize(),B=n.x*P.x,Q=n.y*P.y,mt=n.z;for(let Dt=0;Dt<P.x;Dt++)for(let Gt=0;Gt<P.y;Gt++){let{lat:Zt,lng:ee}=s.unproject(Ye().point(B+Dt,Q+Gt),mt),{x:ue,y:Te}=C.project({lat:Zt,lon:ee});ue<w[0]||ue>w[2]||Te<w[1]||Te>w[3]||t(Gt,Dt,i({y:(0,Ge.indexOfNearest)(p,Te),x:(0,Ge.indexOfNearest)(f,ue)}))}}_drawProjectedCRSWithRectilinearMapProjection(t,n,i){let s=this._map,f=this.domain.axes.get(this._projX).values,p=this.domain.axes.get(this._projY).values,w=this._getDomainBbox(),C=this.projection,P=this.getTileSize(),B=n.x*P.x,Q=n.y*P.y,mt=n.z,Dt=new Float64Array(P.x);for(let Zt=0;Zt<P.x;Zt++){let{lng:ee}=s.unproject(Ye().point(B+Zt,Q),mt);Dt[Zt]=ee}let Gt=new Float64Array(P.y);for(let Zt=0;Zt<P.y;Zt++){let{lat:ee}=s.unproject(Ye().point(B,Q+Zt),mt);Gt[Zt]=ee}for(let Zt=0;Zt<P.x;Zt++)for(let ee=0;ee<P.y;ee++){let ue=Gt[ee],Te=Dt[Zt],{x:fe,y:Ne}=C.project({lat:ue,lon:Te});fe<w[0]||fe>w[2]||Ne<w[1]||Ne>w[3]||t(ee,Zt,i({y:(0,Ge.indexOfNearest)(p,Ne),x:(0,Ge.indexOfNearest)(f,fe)}))}}_drawGeodeticCRSWithRectilinearMapProjection(t,n,i){let s=this._map,f=this.domain.axes.get("x").values,p=this.domain.axes.get("y").values,w=this._getDomainBbox();"y"===this._projX&&(w=[w[1],w[0],w[3],w[2]]);let C=[w[0],w[0]+360],P=this.getTileSize(),B=n.x*P.x,Q=n.y*P.y,mt=n.z;var Dt=new Float64Array(P.y),Gt=new Uint32Array(P.y);for(let ee=0;ee<P.y;ee++){var Zt=s.unproject(Ye().point(B,Q+ee),mt).lat;Dt[ee]=Zt,Gt[ee]=(0,Ge.indexOfNearest)(p,Zt)}for(let ee=0;ee<P.x;ee++){let ue=s.unproject(Ye().point(B+ee,Q),mt).lng;if(ue=oI(ue,C),ue<w[0]||ue>w[2])continue;let Te=(0,Ge.indexOfNearest)(f,ue);for(let fe=0;fe<P.y;fe++){let Ne=Dt[fe];Ne<w[1]||Ne>w[3]||t(fe,ee,i({y:Gt[fe],x:Te}))}}}_isRectilinearGeodeticMap(){let t=this._map.options.crs;return-1!==[Ye().CRS.EPSG3857,Ye().CRS.EPSG4326,Ye().CRS.EPSG3395,Ye().CRS.Simple].indexOf(t)}_isDomainUsingEllipsoidalCRS(){return this.domain.referencing.some(t=>(0,Ge.isEllipsoidalCRS)(t.system))}redraw(){this.getContainer()&&Ye().GridLayer.prototype.redraw.call(this)}}function oI(e,t){return Ye().Util.wrapNum(e,t,!0)}function lA(e){return class extends e{_addMarker(){let t=this.getValue();if(null===t&&!this.showNoData)return;let n=this._getColor(t),{r:i,g:s,b:f}="string"==typeof n?rI(n):n,p=this.getLatLng();this._marker=Ye().circleMarker(p,{fillColor:"rgb("+i+","+s+","+f+")",fillOpacity:1,radius:5,stroke:!0,opacity:1,weight:1,color:"rgb("+Math.round(.7*i)+","+Math.round(.7*s)+","+Math.round(.7*f)+")"}).on("click",C=>{C.coverage=this.coverage,this.fire("click",C)}).addTo(this._map),this._popup&&this._marker.bindPopup(...this._popup)}_removeMarker(){this._marker&&(this._map.removeLayer(this._marker),delete this._marker)}__updateMarker(){let t=this._getColor(val),{r:n,g:i,b:s}="string"==typeof t?rI(t):t;this._marker.options.color="rgb("+n+","+i+","+s+")"}bindPopup(...t){this._popup=t,this._marker&&this._marker.bindPopup(...t)}openPopup(){return this._marker.openPopup(),this}closePopup(){return this._marker.closePopup(),this}redraw(){this._marker&&(this.__updateMarker(),this._marker.redraw())}}}const cp="black";class aI extends(Oc(lA(dh(Ye().Layer)))){constructor(t,n){super(),(0,Ge.isDomain)(t)&&(t=(0,Ge.fromDomain)(t),delete n.keys,n.parameter=t.parameters.keys().next().value),n.paletteExtent||(n.paletteExtent="full"),Ye().Util.setOptions(this,n),this._cov=t;let i=n.keys?n.keys[0]:n.parameter;this._param=i?t.parameters.get(i):null,this._defaultColor=n.defaultColor||cp,this.showNoData=n.showNoData}onAdd(t){this._map=t,this.load().then(()=>this.initializePalette()).then(()=>{this._addMarker(),this.fire("afterAdd")})}onRemove(){this._removeMarker()}getBounds(){return Ye().latLngBounds([this.getLatLng()])}getLatLng(){let t=this.domain.axes.get(this._projX).values[0],n=this.domain.axes.get(this._projY).values[0],i=this.projection.unproject({x:t,y:n});return Ye().latLng(i)}get coverage(){return this._cov}get parameter(){return this._param}computePaletteExtent(t){if("full"===t){if(!this.parameter)throw new Error("palette extent cannot be computed when no parameter has been chosen");let n=this.getValue();return t=Rc([n,n]),Promise.resolve(t)}throw new Error("Unknown extent specification: "+t)}getValue(){if(this._param)return this.range.get({})}getValueAt(t,n){if(this.getLatLng().distanceTo(t)<=n)return this.getValue()}_getColor(t){if(null===t)return this._defaultColor;if(void 0===t)return this._defaultColor;{let n=this.getPaletteIndex(t),{red:i,green:s,blue:f}=this.palette;return{r:i[n],g:s[n],b:f[n]}}}}class $O extends(Oc(dh(Ye().FeatureGroup))){constructor(t,n){super(),(0,Ge.isDomain)(t)&&(t=(0,Ge.fromDomain)(t),delete n.keys,n.parameter=t.parameters.keys().next().value),n.paletteExtent||(n.paletteExtent="full"),Ye().Util.setOptions(this,n),this._cov=t;let i=n.keys?n.keys[0]:n.parameter;this._param=i?t.parameters.get(i):null,this._defaultColor=n.defaultColor||cp}onAdd(t){this._map=t,this.load().then(()=>this.initializePalette()).then(()=>{this._addTrajectoryLayers(),this.fire("afterAdd")})}get coverage(){return this._cov}get parameter(){return this._param}computePaletteExtent(t){let n=this.range;if("full"!==t){if("fov"===t)throw this._map.getBounds(),new Error("NOT IMPLEMENTED YET");throw new Error("Unknown extent specification: "+t)}return t=Rc(t=(0,Ge.minMaxOfRange)(n)),Promise.resolve(t)}_addTrajectoryLayers(){let t=this.getLatLngs();for(let i=0;i<t.length;i++){let s=new(Ye().CircleMarker)(t[i],{color:this._getColor(this._getValue(i)),opacity:1,fillOpacity:1});this.addLayer(s)}let n=Ye().polyline(t,{color:"black",weight:3});this.addLayer(n)}getLatLngs(){let t=this.domain.axes.get("composite"),n=t.coordinates.indexOf(this._projX),i=t.coordinates.indexOf(this._projY),s=[];for(let f=0;f<t.values.length;f++){let C=this.projection.unproject({x:t.values[f][n],y:t.values[f][i]}),P=Ye().latLng(C);s.push(P)}return s}getValueAt(t,n){let p,i=this.getLatLngs(),s=i.map(w=>w.distanceTo(t)),f=1/0;for(let w=0;w<i.length;w++){let C=s[w];C<=n&&C<f&&(f=C,p=w)}if(void 0!==p)return this._getValue(p)}_getValue(t){if(this._param)return this.range.get({composite:t})}_getColor(t){if(null===t)return this._defaultColor;if(void 0===t)return this._defaultColor;{let n=this.getPaletteIndex(t),{red:i,green:s,blue:f}=this.palette;return`rgb(${i[n]}, ${s[n]}, ${f[n]})`}}redraw(){this.clearLayers(),this._addTrajectoryLayers()}}class zO extends(Oc(lA(dh(Ye().Layer)))){constructor(t,n){super(),(0,Ge.isDomain)(t)&&(t=(0,Ge.fromDomain)(t),delete n.keys,n.parameter=t.parameters.keys().next().value),n.paletteExtent||(n.paletteExtent="full"),Ye().Util.setOptions(this,n),this._cov=t;let i=n.keys?n.keys[0]:n.parameter;this._param=i?t.parameters.get(i):null,this._axesSubset={t:{coordPref:n.time}},this._defaultColor=n.defaultColor||cp,this.showNoData=n.showNoData}onAdd(t){this._map=t,this.load().then(()=>this._updateTimeIndex()).then(()=>this.initializePalette()).then(()=>{this._addMarker(),this.fire("afterAdd")})}_updateTimeIndex(){let t=this._axesSubset.t;if(null==t.coordPref)t.idx=t.coord=void 0;else{let n=this.domain.axes.get("t").values.map(i=>(0,Ge.asTime)(i));t.idx=(0,Ge.indexOfNearest)(n,(0,Ge.asTime)(t.coordPref)),t.coord=n[t.idx]}}onRemove(){this._removeMarker()}getBounds(){return Ye().latLngBounds([this.getLatLng()])}getLatLng(){let t=this.domain.axes.get(this._projX).values[0],n=this.domain.axes.get(this._projY).values[0],i=this.projection.unproject({x:t,y:n});return Ye().latLng(i)}get coverage(){return this._cov}get parameter(){return this._param}set time(t){let n=this.time;this._axesSubset.t.coordPref=t?t.toISOString():void 0,this._updateTimeIndex(),n!==this.time&&(this.redraw(),this.fire("axisChange",{axis:"time"}))}get time(){if(!this._axesSubset.t.coord)return;let t=this.domain.axes.get("t").values[this._axesSubset.t.idx];return new Date(t)}get timeSlices(){return this.domain.axes.get("t").values.map(t=>new Date(t))}canUsePalette(){return void 0!==this.time}computePaletteExtent(t){if("full"===t){if(!this.parameter)throw new Error("palette extent cannot be set when no parameter has been chosen");return t=Rc(t=(0,Ge.minMaxOfRange)(this.range)),Promise.resolve(t)}throw new Error("Unknown extent specification: "+t)}getValue(){if(this._param&&void 0!==this._axesSubset.t.coord)return this.range.get({t:this._axesSubset.t.idx})}getValueAt(t,n){if(this.getLatLng().distanceTo(t)<=n)return this.getValue()}_getColor(){let t=this.getValue();if(null===t)return this._defaultColor;if(void 0===t)return this._defaultColor;{let n=this.getPaletteIndex(t),{red:i,green:s,blue:f}=this.palette;return{r:i[n],g:s[n],b:f[n]}}}}function By(e,t,n){this.obj=e,this.left=null,this.right=null,this.parent=n,this.dimension=t}function GO(e,t,n){var i=this;Array.isArray(e)?this.root=function s(p,w,C){var B,Q,P=w%n.length;return 0===p.length?null:1===p.length?new By(p[0],P,C):(p.sort(function(mt,Dt){return mt[n[P]]-Dt[n[P]]}),(Q=new By(p[B=Math.floor(p.length/2)],P,C)).left=s(p.slice(0,B),w+1,Q),Q.right=s(p.slice(B+1),w+1,Q),Q)}(e,0,null):function f(p){i.root=p,function w(C){C.left&&(C.left.parent=C,w(C.left)),C.right&&(C.right.parent=C,w(C.right))}(i.root)}(e),this.toJSON=function(p){p||(p=this.root);var w=new By(p.obj,p.dimension,null);return p.left&&(w.left=i.toJSON(p.left)),p.right&&(w.right=i.toJSON(p.right)),w},this.insert=function(p){var P,B,C=function w(Q,mt){if(null===Q)return mt;var Dt=n[Q.dimension];return w(p[Dt]<Q.obj[Dt]?Q.left:Q.right,Q)}(this.root,null);null!==C?(P=new By(p,(C.dimension+1)%n.length,C),p[B=n[C.dimension]]<C.obj[B]?C.left=P:C.right=P):this.root=new By(p,0,null)},this.remove=function(p){var w;null!==(w=function C(B){if(null===B)return null;if(B.obj===p)return B;var Q=n[B.dimension];return C(p[Q]<B.obj[Q]?B.left:B.right)}(i.root))&&function P(B){var Q,mt,Dt;function Gt(Zt,ee){var ue,Te,fe,Ne,_n;return null===Zt?null:(ue=n[ee],Zt.dimension===ee?null!==Zt.left?Gt(Zt.left,ee):Zt:(Te=Zt.obj[ue],fe=Gt(Zt.left,ee),Ne=Gt(Zt.right,ee),_n=Zt,null!==fe&&fe.obj[ue]<Te&&(_n=fe),null!==Ne&&Ne.obj[ue]<_n.obj[ue]&&(_n=Ne),_n))}if(null===B.left&&null===B.right)return null===B.parent?void(i.root=null):void(B.obj[Dt=n[B.parent.dimension]]<B.parent.obj[Dt]?B.parent.left=null:B.parent.right=null);null!==B.right?(mt=(Q=Gt(B.right,B.dimension)).obj,P(Q),B.obj=mt):(mt=(Q=Gt(B.left,B.dimension)).obj,P(Q),B.right=B.left,B.left=null,B.obj=mt)}(w)},this.nearest=function(p,w,C){var P,B,Q;if(Q=new sI(function(Dt){return-Dt[1]}),C)for(P=0;P<w;P+=1)Q.push([null,C]);for(i.root&&function mt(Dt){var Gt,Te,fe,Ne,Zt=n[Dt.dimension],ee=t(p,Dt.obj),ue={};function _n(Ar,fp){Q.push([Ar,fp]),Q.size()>w&&Q.pop()}for(Ne=0;Ne<n.length;Ne+=1)ue[n[Ne]]=Ne===Dt.dimension?p[n[Ne]]:Dt.obj[n[Ne]];Te=t(ue,Dt.obj),null!==Dt.right||null!==Dt.left?(mt(Gt=null===Dt.right?Dt.left:null===Dt.left?Dt.right:p[Zt]<Dt.obj[Zt]?Dt.left:Dt.right),(Q.size()<w||ee<Q.peek()[1])&&_n(Dt,ee),(Q.size()<w||Math.abs(Te)<Q.peek()[1])&&null!==(fe=Gt===Dt.left?Dt.right:Dt.left)&&mt(fe)):(Q.size()<w||ee<Q.peek()[1])&&_n(Dt,ee)}(i.root),B=[],P=0;P<Math.min(w,Q.content.length);P+=1)Q.content[P][0]&&B.push([Q.content[P][0].obj,Q.content[P][1]]);return B},this.balanceFactor=function(){return function p(C){return null===C?0:Math.max(p(C.left),p(C.right))+1}(i.root)/(Math.log(function w(C){return null===C?0:w(C.left)+w(C.right)+1}(i.root))/Math.log(2))}}function sI(e){this.content=[],this.scoreFunction=e}sI.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},peek:function(){return this.content[0]},remove:function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]==e){var i=this.content.pop();return void(n!=t-1&&(this.content[n]=i,this.scoreFunction(i)<this.scoreFunction(e)?this.bubbleUp(n):this.sinkDown(n)))}throw new Error("Node not found.")},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e];e>0;){var n=Math.floor((e+1)/2)-1,i=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(i)))break;this.content[n]=t,this.content[e]=i,e=n}},sinkDown:function(e){for(var t=this.content.length,n=this.content[e],i=this.scoreFunction(n);;){var s=2*(e+1),f=s-1,p=null;if(f<t){var C=this.scoreFunction(this.content[f]);C<i&&(p=f)}if(s<t&&this.scoreFunction(this.content[s])<(null==p?i:C)&&(p=s),null==p)break;this.content[e]=this.content[p],this.content[p]=n,e=p}}};class uI extends(Oc(Ye().Layer)){constructor(t,n={}){super(),n.paletteExtent||(n.paletteExtent="full"),Ye().Util.setOptions(this,n),this._covcoll=t;let i=n.keys?n.keys[0]:n.parameter;this._param=i?t.parameters.get(i):null,this._defaultColor=n.defaultColor||cp,this._pointClass=n.pointClass||aI,this._layerGroup=Ye().layerGroup(),this._layers=[],this._kdtree=void 0,this.on("paletteChange",()=>{for(let s of this._layers)s.palette=this.palette}),this.on("paletteExtentChange",()=>{for(let s of this._layers)s.paletteExtent=this.paletteExtent})}onAdd(t){this._map=t,this._layerLoadCount=0,this._layerErrors=[];let n={keys:this._param?[this._param.key]:void 0,defaultColor:this._defaultColor,palette:this.palette,paletteExtent:this.paletteExtent};if(this.options.pointOptionsFn){let i=this.options.pointOptionsFn();for(let s in i)n[s]=i[s]}for(let i of this._covcoll.coverages){let s=new this._pointClass(i,n);if(this._attachListeners(s,i),this._layerGroup.addLayer(s),this._layers.push(s),s.load(),this._popupFn){let f=this._popupFn(s.coverage);s.bindPopup(f)}}}onRemove(t){t.removeLayer(this._layerGroup),this._layerGroup=Ye().layerGroup(),this._layers=[]}bindPopupEach(t){this._popupFn=t}_attachListeners(t,n){t.once("dataLoad",()=>{++this._layerLoadCount,this._fireIfOnAddDone()}).once("error",i=>{this._layerErrors.push(i)}).on("click",i=>{i.coverage=n,this.fire("click",i)})}_fireIfOnAddDone(){this._layerLoadCount===this._layers.length&&(this._layerErrors.length>0?this.fire("error",{errors:this._layerErrors}):(this._initKdtree(),this.initializePalette().then(()=>{this._layerGroup.addTo(this._map),this.fire("afterAdd")})))}_initKdtree(){let t=this._layers.map(s=>{let f=s.getLatLng();return f.layer=s,f});this._kdtree=new GO(t,(s,f)=>Ye().LatLng.prototype.distanceTo.call(s,f),["lat","lng"])}getBounds(){return Ye().latLngBounds(this._layers.map(t=>t.getLatLng()))}getValueAt(t,n){let i=this._kdtree.nearest(t,1,n);if(i.length>0)return i[0][0].layer.getValue()}get parameter(){return this._param}computePaletteExtent(t){if(!this._param)throw new Error("palette extent cannot be set when no parameter has been chosen");let n;if("full"===t)n=this._layers;else{if("fov"!==t)throw new Error("Unsupported: "+t);{let f=this._map.getBounds();n=this._layers.filter(p=>f.contains(p.getLatLng()))}}let i=1/0,s=-1/0;for(let f of n){let p=f.getValue();null!=p&&(i=Math.min(i,p),s=Math.max(s,p))}return t=Rc([i,s]),Promise.resolve(t)}redraw(){for(let t of this._layers)t.redraw()}}class lI extends(Oc(lA(dh(Ye().Layer)))){constructor(t,n){super(),(0,Ge.isDomain)(t)&&(t=(0,Ge.fromDomain)(t),delete n.keys,n.parameter=t.parameters.keys().next().value),n.paletteExtent||(n.paletteExtent="full"),Ye().Util.setOptions(this,n),this._cov=t;let i=n.keys?n.keys[0]:n.parameter;this._param=i?t.parameters.get(i):null,this._axesSubset={z:{coordPref:n.vertical}},this._defaultColor=n.defaultColor||cp,this.showNoData=n.showNoData}onAdd(t){this._map=t,this.load().then(()=>this.initializePalette()).then(()=>{this._addMarker(),this.fire("afterAdd")})}_loadCoverageSubset(){let t=this._axesSubset.z;if(null==t.coordPref)t.idx=t.coord=void 0;else{let n=this.domain.axes.get("z").values;t.idx=(0,Ge.indexOfNearest)(n,t.coordPref),t.coord=n[t.idx]}}onRemove(){this._removeMarker()}getBounds(){return Ye().latLngBounds([this.getLatLng()])}getLatLng(){let t=this.domain.axes.get(this._projX).values[0],n=this.domain.axes.get(this._projY).values[0],i=this.projection.unproject({x:t,y:n});return Ye().latLng(i)}get coverage(){return this._cov}get parameter(){return this._param}get vertical(){return this._axesSubset.z.coord}set vertical(t){this._axesSubset.z.coordPref=t,this._loadCoverageSubset(),this.redraw(),this.fire("axisChange",{axis:"vertical"})}get verticalSlices(){let t=this.domain.axes.get("z").values;return ArrayBuffer.isView(t)&&(t=[...t]),t}canUsePalette(){return void 0!==this.vertical}computePaletteExtent(t){if("full"===t){if(!this.parameter)throw new Error("palette extent cannot be set when no parameter has been chosen");return t=Rc(t=(0,Ge.minMaxOfRange)(this.range)),Promise.resolve(t)}throw new Error("Unknown extent specification: "+t)}getValue(){if(this._param&&void 0!==this._axesSubset.z.coord)return this.range.get({z:this._axesSubset.z.idx})}getValueAt(t,n){if(this.getLatLng().distanceTo(t)<=n)return this.getValue()}_getColor(t){if(null===t)return this._defaultColor;if(void 0===t)return this._defaultColor;{let n=this.getPaletteIndex(t),{red:i,green:s,blue:f}=this.palette;return{r:i[n],g:s[n],b:f[n]}}}}class HO extends(Oc(dh(Ye().Layer))){constructor(t,n){super(),(0,Ge.isDomain)(t)&&(t=(0,Ge.fromDomain)(t),n.parameter=t.parameters.keys().next().value,delete n.keys),n.paletteExtent||(n.paletteExtent="full"),Ye().Util.setOptions(this,n),this._cov=t;let i=n.keys?n.keys[0]:n.parameter;this._param=i?t.parameters.get(i):null,this._defaultColor=n.defaultColor||"black"}onAdd(t){this._map=t,this.load().then(()=>this.initializePalette()).then(()=>{this._unproject(),this._addPolygons(),this._pointInPolygonPreprocess(),this.fire("afterAdd")})}_unproject(){let t=this.projection.unproject,n=this.domain.axes.get("composite"),i=n.coordinates.indexOf(this._projX),s=n.coordinates.indexOf(this._projY);this._polygonsLonLat=n.values.map(f=>f.map(p=>p.map(w=>{let{lat:C,lon:P}=t({x:w[i],y:w[s]});return[P,C]})))}onRemove(t){this._removePolygons()}getBounds(){return this._geojson.getBounds()}getLatLng(){return this.getBounds().getCenter()}get coverage(){return this._cov}get parameter(){return this._param}computePaletteExtent(t){if("full"===t){if(!this.parameter)throw new Error("palette extent cannot be computed when no parameter has been chosen");return t=Rc(t=(0,Ge.minMaxOfRange)(this.range)),Promise.resolve(t)}throw new Error("Unknown extent specification: "+t)}_pointInPolygonPreprocess(){let t=this._polygonsLonLat;t.forEach(i=>(0,Ge.ensureClockwisePolygon)(i,!1)),this._pointInPolygons=(0,Ge.getPointInPolygonsFn)(t)}_addPolygons(){let t=this._polygonsLonLat,n=[];for(let i=0;i<t.length;i++)n.push({type:"Feature",properties:{index:i,color:this._getColor(this._getValue(i))},geometry:{type:"Polygon",coordinates:t[i]}});this._geojson=Ye().geoJson(n,{style:i=>({color:i.properties.color,fillOpacity:1,stroke:!1}),onEachFeature:(i,s)=>{s.on("click",f=>{f.index=i.properties.index,this.fire("click",f)})}}),this._geojson.addTo(this._map)}_removePolygons(){this._map.removeLayer(this._geojson),delete this._geojson}_getValue(t){if(this._param)return this.range.get({composite:t})}getValueAt(t){let n=this._pointInPolygons([t.lng,t.lat]);if(n>=0)return this._getValue(n)}_getColor(t){if(null===t)return this._defaultColor;if(void 0===t)return this._defaultColor;{let n=this.getPaletteIndex(t),{red:i,green:s,blue:f}=this.palette;return`rgb(${i[n]}, ${s[n]}, ${f[n]})`}}_updatePolygons(){this._removePolygons(),this._addPolygons()}redraw(){this._updatePolygons(),this._geojson.redraw()}}class WO extends(Oc(dh(Ye().Layer))){constructor(t,n){super(),(0,Ge.isDomain)(t)&&(t=(0,Ge.fromDomain)(t),delete n.keys,n.parameter=t.parameters.keys().next().value),n.paletteExtent||(n.paletteExtent="full"),Ye().Util.setOptions(this,n),this._cov=t;let i=n.keys?n.keys[0]:n.parameter;this._param=i?t.parameters.get(i):null,this._axesSubset={t:{coordPref:n.time}},this._defaultColor=n.defaultColor||cp}onAdd(t){this._map=t,this.load().then(()=>this._updateTimeIndex()).then(()=>this.initializePalette()).then(()=>{this._unproject(),this._addPolygon(),this._pointInPolygonPreprocess(),this.fire("afterAdd")})}_unproject(){let t=this.projection.unproject,n=this.domain.axes.get("composite"),i=n.coordinates.indexOf(this._projX),s=n.coordinates.indexOf(this._projY);this._polygonLonLat=n.values[0].map(f=>f.map(p=>{let{lat:w,lon:C}=t({x:p[i],y:p[s]});return[C,w]}))}_updateTimeIndex(){let t=this._axesSubset.t;if(null==t.coordPref)t.idx=t.coord=void 0;else{let n=this.domain.axes.get("t").values.map(i=>(0,Ge.asTime)(i));t.idx=(0,Ge.indexOfNearest)(n,(0,Ge.asTime)(t.coordPref)),t.coord=n[t.idx]}}onRemove(){this._removePolygon()}getBounds(){return this._geojson.getBounds()}getLatLng(){return this.getBounds().getCenter()}bindPopup(...t){return this._popup=t,this._geojson&&this._geojson.bindPopup(...t),this}openPopup(){return this._geojson.openPopup(),this}closePopup(){return this._geojson.closePopup(),this}get coverage(){return this._cov}get parameter(){return this._param}set time(t){let n=this.time;this._axesSubset.t.coordPref=t?new Date((0,Ge.asTime)(t)).toISOString():void 0,this._updateTimeIndex(),n!==this.time&&(this._updatePolygon(),this.fire("axisChange",{axis:"time"}))}get time(){if(!this._axesSubset.t.coord)return;let t=this.domain.axes.get("t").values[this._axesSubset.t.idx];return new Date(t)}get timeSlices(){return this.domain.axes.get("t").values.map(t=>new Date(t))}canUsePalette(){return void 0!==this.time}computePaletteExtent(t){if("full"===t){if(!this.parameter)throw new Error("palette extent cannot be computed when no parameter has been chosen");return t=Rc(t=(0,Ge.minMaxOfRange)(this.range)),Promise.resolve(t)}throw new Error("Unknown extent specification: "+t)}_pointInPolygonPreprocess(){let t=this._polygonLonLat;(0,Ge.ensureClockwisePolygon)(t,!1);let i=(0,Ge.getPointInPolygonsFn)([t]);this._pointInPolygon=s=>-1!==i(s)}_addPolygon(){let t=this._polygonLonLat,n={type:"Feature",properties:{color:this._getColor(this.getValue())},geometry:{type:"Polygon",coordinates:t}};this._geojson=Ye().geoJson(n,{style:i=>({color:i.properties.color,fillOpacity:1,stroke:!1}),onEachFeature:(i,s)=>{s.on("click",f=>this.fire("click",f))}}),this._popup&&this._geojson.bindPopup(...this._popup),this._geojson.addTo(this._map)}_removePolygon(){this._map.removeLayer(this._geojson),delete this._geojson}_updatePolygon(){if(this._geojson)for(let t of this._geojson.getLayers())t.setStyle({fillColor:this._getColor(this.getValue())})}getValue(){if(this._param&&void 0!==this._axesSubset.t.coord)return this.range.get({t:this._axesSubset.t.idx})}getValueAt(t){if(!t)throw new Error("latlng parameter missing");if(this._pointInPolygon([t.lng,t.lat]))return this.getValue()}_getColor(t){if(null===t)return this._defaultColor;if(void 0===t)return this._defaultColor;{let n=this.getPaletteIndex(t),{red:i,green:s,blue:f}=this.palette;return`rgb(${i[n]}, ${s[n]}, ${f[n]})`}}redraw(){this._removePolygon(),this._addPolygon()}}class qO extends(Oc(dh(Ye().Layer))){constructor(t,n){super(),(0,Ge.isDomain)(t)&&(t=(0,Ge.fromDomain)(t),delete n.keys,n.parameter=t.parameters.keys().next().value),n.paletteExtent||(n.paletteExtent="full"),Ye().Util.setOptions(this,n),this._cov=t;let i=n.keys?n.keys[0]:n.parameter;this._param=i?t.parameters.get(i):null,this._axesSubset={t:{coordPref:n.time}},this._defaultColor=n.defaultColor||cp}onAdd(t){this._map=t,this.load().then(()=>this._updateTimeIndex()).then(()=>this.initializePalette()).then(()=>{this._unproject(),this._addPolygons(),this._pointInPolygonPreprocess(),this.fire("afterAdd")})}_unproject(){let t=this.projection.unproject,n=this.domain.axes.get("composite"),i=n.coordinates.indexOf(this._projX),s=n.coordinates.indexOf(this._projY);this._polygonsLonLat=n.values.map(f=>f.map(p=>p.map(w=>{let{lat:C,lon:P}=t({x:w[i],y:w[s]});return[P,C]})))}_updateTimeIndex(){let t=this._axesSubset.t;if(null==t.coordPref)t.idx=t.coord=void 0;else{let n=this.domain.axes.get("t").values.map(i=>(0,Ge.asTime)(i));t.idx=(0,Ge.indexOfNearest)(n,(0,Ge.asTime)(t.coordPref)),t.coord=n[t.idx]}}onRemove(){this._removePolygon()}getBounds(){return this._geojson.getBounds()}getLatLng(){return this.getBounds().getCenter()}bindPopup(...t){return this._popup=t,this._geojson&&this._geojson.bindPopup(...t),this}openPopup(){return this._geojson.openPopup(),this}closePopup(){return this._geojson.closePopup(),this}get coverage(){return this._cov}get parameter(){return this._param}set time(t){let n=this.time;this._axesSubset.t.coordPref=t?new Date((0,Ge.asTime)(t)).toISOString():void 0,this._updateTimeIndex(),n!==this.time&&(this._updatePolygons(),this.fire("axisChange",{axis:"time"}))}get time(){if(!this._axesSubset.t.coord)return;let t=this.domain.axes.get("t").values[this._axesSubset.t.idx];return new Date(t)}get timeSlices(){return this.domain.axes.get("t").values.map(t=>new Date(t))}canUsePalette(){return void 0!==this.time}computePaletteExtent(t){if("full"===t){if(!this.parameter)throw new Error("palette extent cannot be computed when no parameter has been chosen");return t=Rc(t=(0,Ge.minMaxOfRange)(this.range)),Promise.resolve(t)}throw new Error("Unknown extent specification: "+t)}_pointInPolygonPreprocess(){let t=this._polygonsLonLat;t.forEach(i=>(0,Ge.ensureClockwisePolygon)(i,!1)),this._pointInPolygons=(0,Ge.getPointInPolygonsFn)(t)}_addPolygons(){let t=this._polygonsLonLat,n=[];for(let i=0;i<t.length;i++)n.push({type:"Feature",properties:{index:i,color:this._getColor(this._getValue(i))},geometry:{type:"Polygon",coordinates:t[i]}});this._geojson=Ye().geoJson(n,{style:i=>({color:i.properties.color,fillOpacity:1,stroke:!1}),onEachFeature:(i,s)=>{s.on("click",f=>{f.index=i.properties.index,this.fire("click",f)})}}),this._popup&&this._geojson.bindPopup(...this._popup),this._geojson.addTo(this._map)}_updatePolygons(){if(!this._geojson)return;const t=this._geojson.getLayers();for(let n in t)t[n].setStyle({fillColor:this._getColor(this._getValue(n))})}_removePolygon(){this._map.removeLayer(this._geojson),delete this._geojson}_getValue(t){if(this._param&&void 0!==this._axesSubset.t.coord)return this.range.get({t:this._axesSubset.t.idx,composite:t})}getValueAt(t){let n=this._pointInPolygons([t.lng,t.lat]);if(n>=0)return this._getValue(n)}_getColor(t){if(null===t)return this._defaultColor;if(void 0===t)return this._defaultColor;{let n=this.getPaletteIndex(t),{red:i,green:s,blue:f}=this.palette;return`rgb(${i[n]}, ${s[n]}, ${f[n]})`}}redraw(){this._removePolygon(),this._addPolygons()}}const ph="https://covjson.org/def/domainTypes#",hI=ph+"Point",dI=ph+"VerticalProfile",pI={[ph+"Grid"]:BO,[hI]:aI,[ph+"PointSeries"]:zO,[dI]:lI,[ph+"Trajectory"]:$O,[ph+"MultiPolygon"]:HO,[ph+"PolygonSeries"]:WO,[ph+"MultiPolygonSeries"]:qO},gI={[hI]:uI,[dI]:class UO extends uI{constructor(t,n){n.pointClass=lI,super(t,n),n.pointOptionsFn=()=>({vertical:this._vertical}),this._vertical=n.vertical}set vertical(t){this._vertical=t;for(let n of this._layers)n.vertical=t}canUsePalette(){return void 0!==this._vertical}}};function mI(e,t){let n=function tN(e){return e.type!==Ge.COVERAGE&&e.type!==Ge.DOMAIN||!(e.domainType in pI)?e.type===Ge.COVERAGECOLLECTION&&e.domainType in gI?gI[e.domainType]:void 0:pI[e.domainType]}(e);if(!n)throw new Error(`No ${e.type===Ge.COVERAGECOLLECTION?"collection ":""}layer class found for domainType=${e.domainType}`);return new n(e,t)}class Zk extends(YS(Ye().Class)){constructor(t){super(),this._syncProps=t.syncProperties||{},this._match=t.match||eN,this._paramLayers=new Map,this._layerListeners=new Map,this._propSyncing=new Set}addLayer(t){if(!t.parameter)return void console.log("layer has no parameter, skipping parameter sync");let s,i=Array.from(this._paramLayers.keys()).find(f=>this._match(f,t.parameter));i?(this._paramLayers.get(s).add(t),this._syncProperties(s)):this._paramLayers.set(s,new Set([t])),this._registerLayerListeners(t,s),i||this.fire("parameterAdd",{syncLayer:new nN(s,this)})}pause(){this.paused=!0}resume(t){if(this.paused=!1,t)for(let n of this._paramLayers.keys())this._syncProperties(n)}_removeLayer(t,n){for(let[i,s]of this._layerListeners.get(t))t.off(i,s);this._layerListeners.delete(t),this._paramLayers.get(n).delete(t),0===this._paramLayers.get(n).size&&(this._paramLayers.delete(n),this.fire("_parameterRemove",{param:n}))}_registerLayerListeners(t,n){let i=new Map([["remove",()=>this._removeLayer(t,n)]]);for(let s of Object.keys(this._syncProps))i.set(s+"Change",()=>this._syncProperty(n,s));for(let[s,f]of i)t.on(s,f);this._layerListeners.set(t,i)}_syncProperties(t){for(let n of Object.keys(this._syncProps))this._syncProperty(t,n)}_syncProperty(t,n){if(this.paused||this._propSyncing.has(n))return;let i=this._syncProps[n],s=[...this._paramLayers.get(t)].map(f=>f[n]).reduce(i);this._propSyncing.add(n);for(let f of this._paramLayers.get(t))f[n]=s;this._propSyncing.delete(n),this.fire("_syncPropChange",{param:t,prop:n})}}class nN extends(YS(Ye().Class)){constructor(t,n){super(),this._param=t,n.on("_parameterRemove",s=>{s.param===t&&this.fire("remove")}),n.on("_syncPropChange",s=>{s.param===t&&this.fire(s.prop+"Change")});let i=()=>n._paramLayers.get(t);for(let s of Object.keys(n._syncProps))Object.defineProperty(this,s,{get:()=>i().values().next().value[s],set:f=>{n._propSyncing.add(s);for(let p of i())p[s]=f;n._propSyncing.delete(s),this.fire(s+"Change")},enumerable:!0})}get parameter(){return this._param}}_t(438);class Kk extends Ye().Popup{constructor(t,n={}){n.maxWidth=n.maxWidth||350,super(n),this._covs=Array.isArray(t)?t:[t],this._language=n.language,this._precision=n.precision||4,this._labels=n.labels?n.labels:new Array(this._covs.length),n.parameters&&(n.parameters=n.keys);let i=[];if(n.keys)Array.isArray(n.keys[0])||n.keys.map(s=>[s]);else for(let s=0;s<this._covs.length;s++)for(let f of this._covs[s].parameters.keys()){let p=new Array(this._covs.length);p[s]=f,i.push(p)}if(i.filter(s=>!s.every(f=>!f)),i.some(s=>s.length!==this._covs.length))throw new Error("Length of each parameter group must match number of coverages");this._paramKeyGroups=i,this._paramKeys=new Map;for(let s=0;s<this._covs.length;s++){let f=this._paramKeyGroups.map(p=>p[s]).filter(p=>p);this._paramKeys.set(this._covs[s],f)}}onAdd(t){super.onAdd(t),t.fire("dataloading");let n=Promise.all(this._covs.map(s=>s.loadDomain())),i=Promise.all(this._covs.map(s=>s.loadRanges(this._paramKeys.get(s))));Promise.all([n,i]).then(([s,f])=>{this._domains=s,this._ranges=f,this._addPlotToPopup(),this.fire("dataLoad"),this.fire("afterAdd"),t.fire("dataload")}).catch(s=>{console.error(s),this.fire("error",s),t.fire("dataload")})}_addPlotToPopup(){let n=this._getPlotElement(this._paramKeyGroups[0]),i=document.createElement("div");if(this._paramKeyGroups.length>1){let s=document.createElement("select");for(let[f,p]of this._paramKeyGroups.map((w,C)=>[w,C])){let w=this._getRefParam(f),C=document.createElement("option");C.value=p,C.text=getLanguageString(w.observedProperty.label,this._language),s.appendChild(C)}s.addEventListener("change",()=>{i.removeChild(n);let f=this._paramKeyGroups[parseInt(s.value)];this._getPlotElement(f),i.appendChild(n)}),i.appendChild(s)}i.appendChild(n),this.setContent(i)}_getRefParam(t){let n=vI(this._covs,t),[i,s]=n.filter(([,p])=>p)[0];return i.parameters.get(s)}_getPlotElement(t){let n=this._domains[0],i=vI(this._covs,t),s=this._getRefParam(t),f="Vertical",w=getReferenceObject(n,"z");if(w&&1===w.coordinates.length){let ue=w.system;if(ue.cs&&(ue.cs.axes||ue.cs.csAxes)){let Te=ue.cs.axes?ue.cs.axes[0]:ue.cs.csAxes[0];stringifyUnit(Te.unit,this._language),Te.name&&getLanguageString(Te.name,this._language)}}let C=f,P=stringifyUnit(s.unit,this._language),B=getLanguageString(s.observedProperty.label,this._language),Q={},mt=[],Dt={};for(let ue=0;ue<this._covs.length;ue++){let Te=i[ue][1];if(!Te)continue;let fe="x"+ue,Ne=s.key+ue;Dt[Ne]=this._labels[ue]?this._labels[ue]:B,Q[Ne]=fe;let _n=this._domains[ue].axes.get("z").values,Ar=this._ranges[ue].get(Te),fp=[fe],yI=[Ne];for(let ZS=0;ZS<_n.length;ZS++){let wI=Ar.get({z:ZS});null!==wI&&(fp.push(_n[ZS]),yI.push(wI))}mt.push(fp),mt.push(yI)}let ee=document.createElement("div");return ee.style.width="350px",ee.style.height="300px",c3.generate({bindto:ee,data:{xs:Q,columns:mt,names:Dt},axis:{rotated:!0,x:{tick:{count:10,format:ue=>ue.toPrecision(this._precision)},label:{text:C,position:"outer-center"}},y:{tick:{count:7,format:ue=>ue.toPrecision(this._precision)},label:{text:B+(P?" ("+P+")":""),position:"outer-middle"}}},grid:{x:{show:!0},y:{show:!0}},legend:{show:this._covs.length>1},tooltip:{format:{title:ue=>f+": "+ue.toPrecision(this._precision)+" ",value:(ue,Te,fe)=>ue.toPrecision(this._precision)+" "+P}},zoom:{enabled:!0,rescale:!0},size:{height:300,width:350}}),ee}}class Jk extends Ye().Popup{constructor(t,n={}){n.maxWidth=n.maxWidth||350,super(n),this._covs=Array.isArray(t)?t:[t],this._language=n.language,this._precision=n.precision||4,this._labels=n.labels?n.labels:new Array(this._covs.length),n.parameters&&(n.parameters=n.keys);let i=[];if(n.keys)Array.isArray(n.keys[0])||n.keys.map(s=>[s]);else for(let s=0;s<this._covs.length;s++)for(let f of this._covs[s].parameters.keys()){let p=new Array(this._covs.length);p[s]=f,i.push(p)}if(i.filter(s=>!s.every(f=>!f)),i.some(s=>s.length!==this._covs.length))throw new Error("Length of each parameter group must match number of coverages");this._paramKeyGroups=i,this._paramKeys=new Map;for(let s=0;s<this._covs.length;s++){let f=this._paramKeyGroups.map(p=>p[s]).filter(p=>p);this._paramKeys.set(this._covs[s],f)}}onAdd(t){super.onAdd(t),t.fire("dataloading");let n=Promise.all(this._covs.map(s=>s.loadDomain())),i=Promise.all(this._covs.map(s=>s.loadRanges(this._paramKeys.get(s))));Promise.all([n,i]).then(([s,f])=>{this._domains=s,this._ranges=f,this._addPlotToPopup(),this.fire("dataLoad"),this.fire("afterAdd"),t.fire("dataload")}).catch(s=>{console.error(s),this.fire("error",s),t.fire("dataload")})}_addPlotToPopup(){let n=this._getPlotElement(this._paramKeyGroups[0]),i=document.createElement("div");if(this._paramKeyGroups.length>1){let s=document.createElement("select");for(let[f,p]of this._paramKeyGroups.map((w,C)=>[w,C])){let w=this._getRefParam(f),C=document.createElement("option");C.value=p,C.text=getLanguageString(w.observedProperty.label,this._language),s.appendChild(C)}s.addEventListener("change",()=>{i.removeChild(n);let f=this._paramKeyGroups[parseInt(s.value)];this._getPlotElement(f),i.appendChild(n)}),i.appendChild(s)}i.appendChild(n),this.setContent(i)}_getRefParam(t){let n=_I(this._covs,t),[i,s]=n.filter(([,p])=>p)[0];return i.parameters.get(s)}_getPlotElement(t){let i=_I(this._covs,t),s=this._getRefParam(t),p=stringifyUnit(s.unit,this._language),w=getLanguageString(s.observedProperty.label,this._language),C={},P=[],B={};for(let Dt=0;Dt<this._covs.length;Dt++){let Gt=i[Dt][1];if(!Gt)continue;let Zt="x"+Dt,ee=s.key+Dt;B[ee]=this._labels[Dt]?this._labels[Dt]:w,C[ee]=Zt;let ue=this._domains[Dt].axes.get("t").values,Te=this._ranges[Dt].get(Gt),fe=[Zt],Ne=[ee];for(let _n=0;_n<ue.length;_n++){let Ar=Te.get({t:_n});if(null===Ar)continue;let fp=new Date(ue[_n]);fe.push(fp),Ne.push(Ar)}P.push(fe),P.push(Ne)}let mt=document.createElement("div");return mt.style.width=this.options.maxWidth+"px",mt.style.height="300px",c3.generate({bindto:mt,data:{xs:C,columns:P,names:B},axis:{x:{type:"timeseries",tick:{format:this.options.timeFormat},label:{text:"Time",position:"outer-center"}},y:{tick:{count:7,format:Dt=>Dt.toPrecision(this._precision)},label:{text:w+(p?" ("+p+")":""),position:"outer-middle"}}},grid:{x:{show:!0},y:{show:!0}},legend:{show:this._covs.length>1},tooltip:{format:{value:(Dt,Gt,Zt)=>Dt.toPrecision(this._precision)+" "+p}},zoom:{enabled:!0,rescale:!0},size:{height:300,width:this.options.maxWidth}}),mt}}class iN extends Ye().Popup{constructor(t,n){super(t,n);let i=this.options.layers||[];this._maxDistanceForPointsInPx=this.options.maxDistanceForPointsInPx||20,this.coverageLayers=new Set(i.filter(s=>s.getValueAt))}addCoverageLayer(t){return t.getValueAt?(this.coverageLayers.add(t),this.updateData(),this):this}removeCoverageLayer(t){return this.coverageLayers.delete(t),this.updateData(),this}onAdd(t){this._map=t,super.onAdd(t),this.updateData()}onRemove(t){super.onRemove(t),this._map=null}setLatLng(t){return super.setLatLng(t),this.updateData(),this}hasData(){return this._hasData}updateData(){if(!this._map)return;let t="",n=this.getLatLng();for(let i of this.coverageLayers){let s=oN(this._map)*this._maxDistanceForPointsInPx,f=i.getValueAt(n,s);if(null==f)continue;let p=i.parameter,w=p.observedProperty.categories?"":(0,Ge.stringifyUnit)(p.unit);if(p.categoryEncoding){let C=(0,Ge.getCategory)(p,f);f=(0,Ge.getLanguageString)(C.label)}t+="<div><strong>"+(0,Ge.getLanguageString)(p.observedProperty.label)+"</strong>: "+f+" "+w+"</div>"}return t||(this._hasData=!1,t="No data."),this._hasData=!0,this.setContent(t),this}}function oN(e){let t=e.getBounds(),n=t.getCenter().lat;return 6378137*Math.PI*Math.cos(n*Math.PI/180)*(t.getNorthEast().lng-t.getSouthWest().lng)/180/e.getSize().x}class aN extends(function rN(e){return class extends e{constructor(t={},n){t.className=t.className||"leaflet-popup-draggable",super(t,n)}onAdd(t){super.onAdd(t),this._draggable=new(Ye().Draggable)(this._container,this._wrapper),this._draggable.enable(),this._draggable.on("drag",n=>{let i=Ye().DomUtil.getPosition(this._wrapper.parentNode),s=t.layerPointToLatLng(i);this.setLatLng(s),this.fire("drag",n)}),this._draggable.on("dragstart predrag dragend",n=>this.fire(n.type,n))}onRemove(t){this._draggable.disable(),super.onRemove(t)}}}(iN)){}let sN=(()=>{var e;class t{constructor(){}ngOnInit(){this.getMap("NDVI1")}getMap(i){this.map&&this.map.remove(),this.map=rA.map("map",{center:[18,5],zoom:17});var f,p,s=this.map;rA.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}").addTo(s),ZP.ij({type:"Coverage",domain:{type:"Domain",domainType:"Grid",axes:{x:{start:100.7394442,stop:100.7416329,num:25},y:{start:13.816835,stop:13.814668,num:25},t:{values:["2023-05-06T00:00:00Z"]}},referencing:[{coordinates:["x","y"],system:{type:"GeographicCRS",id:"http://www.opengis.net/def/crs/OGC/1.3/CRS84"}},{coordinates:["t"],system:{type:"TemporalRS",calendar:"Gregorian"}}]},parameters:{NDVI:{type:"Parameter",observedProperty:{label:{en:"\u0e41\u0e1b\u0e25\u0e071"}}}},ranges:{NDVI:{type:"NdArray",dataType:"float",axisNames:["t","y","x"],shape:[1,25,25],values:[null,null,null,null,null,null,null,null,null,null,null,.41,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.37,.12,.35,.75,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.2,.19,.21,.28,.55,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.37,.36,.12,.37,.64,.44,.66,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.57,.46,.33,.21,.43,.57,.33,.46,.77,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.67,.77,.48,.23,.25,.28,.32,.36,.24,.19,.5,null,null,null,null,null,null,null,null,null,null,null,null,null,.4,.64,.79,.42,.14,.23,.36,.56,.43,.13,.06,.19,.54,null,null,null,null,null,null,null,null,null,null,null,.37,.38,.5,.75,.56,.29,.26,.55,.67,.46,.06,.05,.05,.38,.51,null,null,null,null,null,null,null,null,null,.34,.38,.42,.66,.79,.66,.52,.45,.66,.73,.55,.12,.05,.06,.15,.33,null,null,null,null,null,null,null,null,.5,.43,.41,.49,.71,.8,.81,.65,.53,.75,.78,.62,.28,.1,.13,.05,.17,.44,null,null,null,null,null,null,null,null,.62,.56,.49,.69,.85,.85,.77,.57,.66,.68,.45,.36,.16,.13,.13,.12,.3,.57,null,null,null,null,null,null,null,null,.6,.56,.63,.84,.88,.87,.68,.54,.64,.54,.45,.22,.13,.15,.23,.18,.38,null,null,null,null,null,null,null,null,.57,.51,.58,.74,.94,.87,.81,.57,.46,.5,.53,.26,.16,.26,.18,.13,.15,.48,null,null,null,null,null,null,null,null,.52,.65,.69,.85,.79,.79,.72,.36,.33,.55,.49,.45,.28,.08,.06,.12,.23,.69,null,null,null,null,null,null,null,null,.81,.77,.76,.8,.77,.82,.68,.44,.36,.66,.69,.42,.18,.09,.17,.17,.42,null,null,null,null,null,null,null,null,null,.83,.73,.79,.84,.8,.85,.58,.39,.6,.53,.49,.35,.08,.17,.23,.22,.44,null,null,null,null,null,null,null,null,.84,.83,.73,.82,.78,.81,.74,.44,.34,.43,.49,.58,.29,.1,.2,.21,.35,null,null,null,null,null,null,null,null,null,.85,.75,.73,.81,.8,.82,.51,.39,.62,.47,.48,.34,.15,.16,.2,.16,.32,null,null,null,null,null,null,null,null,null,.83,.73,.79,.8,.75,.69,.44,.4,.35,.34,.17,.2,.06,.09,.09,.14,.12,null,null,null,null,null,null,null,null,null,.76,.71,.81,.78,.75,.5,.37,.48,.3,.1,.18,.12,.14,.06,.03,.04,null,null,null,null,null,null,null,null,null,.82,.66,.72,.77,.67,.65,.53,.24,.22,.15,.14,.33,.26,.06,.02,.17,.27,null,null,null,null,null,null,null,null,null,.78,.64,.72,.61,.58,.41,.38,.49,.39,.29,.32,.18,.15,.2,.25,.14,null,null,null,null,null,null,null,null,null,null,.64,.63,.65,.56,.39,.29,.43,.31,.15,.13,.17,.24,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.56,.56,.53,.29,.15,.13,.24,.3,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.49,.32,.33,.19,.04,null,null,null,null,null,null,null,null,null]}}}).then(function(w){f=mI(w,{parameter:"NDVI",palette:iI({colors:["#FF0000","#FFFF00","#00FF00","#00FFFF","#0000FF"],interpolation:"linear",steps:200})}).on("afterAdd",function(){f.palette&&"NDVI1"==i&&JP(f).addTo(s)}).addTo(s)}),ZP.ij({type:"Coverage",domain:{type:"Domain",domainType:"Grid",axes:{x:{start:100.741519,stop:100.746776,num:58},y:{start:13.8159753,stop:13.8110369,num:56},t:{values:["2023-05-06T00:00:00Z"]}},referencing:[{coordinates:["x","y"],system:{type:"GeographicCRS",id:"http://www.opengis.net/def/crs/OGC/1.3/CRS84"}},{coordinates:["t"],system:{type:"TemporalRS",calendar:"Gregorian"}}]},parameters:{NDVI:{type:"Parameter",observedProperty:{label:{en:"\u0e41\u0e1b\u0e25\u0e072"}}}},ranges:{NDVI:{type:"NdArray",dataType:"float",axisNames:["t","y","x"],shape:[1,56,58],values:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.5,.5,.43,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.38,.28,.2,.17,.16,.18,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.69,.34,.18,.17,.15,.16,.15,.15,.17,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.37,.68,.57,.33,.17,.16,.14,.13,.12,.12,.13,.17,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.17,.21,.4,.44,.32,.23,.19,.13,.12,.13,.11,.11,.13,.15,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.04,.17,.39,.41,.35,.22,.19,.15,.18,.18,.14,.11,.13,.12,.13,.13,.14,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.12,.25,.35,.34,.28,.19,.16,.15,.15,.15,.18,.15,.11,.12,.13,.13,.12,.13,.19,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.13,.24,.34,.35,.31,.23,.2,.19,.15,.15,.16,.13,.14,.19,.15,.08,.11,.13,.16,.17,.17,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.12,.18,.32,.31,.27,.23,.28,.22,.17,.18,.17,.16,.16,.15,.12,.18,.19,.12,.1,.12,.13,.14,.15,.19,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.25,.34,.35,.34,.3,.17,.18,.14,.22,.22,.19,.2,.18,.15,.15,.15,.14,.15,.18,.18,.15,.14,.12,.13,.17,.19,.24,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.29,.45,.44,.37,.32,.23,.18,.14,.17,.15,.18,.22,.23,.19,.18,.15,.14,.14,.15,.15,.15,.21,.18,.15,.13,.13,.15,.16,.16,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.21,.32,.32,.33,.45,.34,.24,.19,.18,.19,.22,.2,.22,.24,.2,.16,.16,.17,.13,.14,.14,.14,.13,.18,.19,.14,.14,.13,.12,.14,.16,.26,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.14,.3,.34,.27,.28,.26,.37,.39,.26,.24,.24,.23,.27,.25,.24,.25,.22,.24,.22,.15,.13,.13,.15,.15,.13,.13,.2,.17,.12,.13,.13,.14,.14,.17,.34,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.19,.34,.34,.27,.27,.28,.28,.26,.28,.41,.38,.3,.31,.24,.25,.26,.28,.3,.24,.27,.31,.19,.16,.14,.17,.19,.18,.17,.16,.18,.14,.12,.13,.13,.13,.16,.23,.43,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.34,.66,.47,.24,.24,.26,.26,.28,.27,.27,.3,.45,.35,.32,.28,.28,.28,.31,.34,.28,.23,.27,.24,.17,.13,.18,.24,.21,.17,.15,.17,.18,.14,.13,.12,.14,.14,.17,.3,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.04,.17,.67,.86,.49,.29,.27,.26,.27,.28,.28,.29,.27,.36,.46,.37,.34,.3,.28,.29,.31,.28,.25,.22,.26,.2,.14,.19,.27,.24,.21,.18,.18,.18,.19,.15,.14,.15,.14,.17,.28,.49,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.15,.43,.8,.89,.7,.38,.27,.24,.25,.27,.27,.28,.28,.27,.44,.48,.37,.33,.29,.29,.31,.27,.26,.2,.21,.24,.18,.22,.3,.31,.28,.22,.21,.2,.21,.17,.13,.13,.13,.16,.18,.39,.59,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.69,.87,.87,.79,.59,.33,.26,.23,.26,.27,.26,.26,.25,.33,.49,.42,.34,.3,.26,.31,.28,.29,.22,.2,.25,.23,.2,.3,.37,.33,.27,.3,.25,.19,.18,.14,.13,.15,.14,.16,.26,.47,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.59,.93,.88,.87,.84,.54,.29,.25,.25,.24,.25,.25,.24,.24,.36,.47,.36,.33,.28,.28,.27,.32,.27,.19,.22,.25,.25,.34,.38,.35,.29,.29,.24,.18,.16,.14,.14,.14,.15,.18,.19,.35,.5,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.8,.94,.92,.94,.77,.41,.27,.25,.23,.23,.24,.23,.22,.26,.44,.49,.39,.35,.35,.29,.3,.31,.23,.19,.25,.28,.35,.4,.37,.28,.26,.25,.21,.19,.18,.16,.12,.14,.17,.18,.21,.37,.53,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.95,.95,.93,.87,.62,.34,.25,.22,.24,.24,.25,.26,.24,.29,.48,.47,.38,.33,.3,.28,.29,.25,.18,.18,.24,.34,.46,.43,.31,.23,.21,.2,.17,.13,.14,.17,.16,.17,.18,.2,.24,.4,.58,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.78,.94,.98,.95,.8,.49,.28,.25,.25,.22,.25,.24,.24,.23,.32,.51,.4,.39,.29,.27,.27,.23,.18,.17,.19,.25,.37,.41,.35,.26,.19,.17,.11,.11,.14,.16,.14,.14,.14,.16,.18,.27,.48,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.88,.97,.93,.87,.73,.38,.25,.23,.23,.22,.24,.24,.23,.27,.38,.44,.35,.3,.27,.27,.23,.19,.16,.16,.21,.25,.3,.29,.25,.21,.18,.14,.15,.15,.14,.13,.14,.13,.15,.17,.18,.31,.51,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.95,.95,.95,.84,.61,.29,.24,.24,.22,.23,.22,.24,.25,.28,.43,.36,.31,.29,.26,.25,.21,.21,.16,.19,.2,.22,.21,.18,.19,.17,.15,.14,.15,.13,.18,.15,.14,.15,.15,.16,.2,.37,.55,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.81,1,1,.89,.76,.4,.23,.21,.21,.24,.24,.23,.24,.27,.34,.46,.34,.34,.27,.22,.21,.24,.2,.18,.2,.23,.18,.15,.15,.16,.15,.15,.14,.11,.18,.17,.16,.15,.15,.15,.17,.24,.46,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.91,.99,1,.89,.59,.27,.24,.21,.21,.24,.25,.24,.27,.29,.43,.43,.33,.32,.27,.24,.24,.23,.18,.16,.17,.17,.18,.17,.16,.17,.15,.14,.14,.17,.17,.17,.13,.13,.13,.16,.18,.33,.49,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.9,1,.95,.8,.44,.26,.2,.21,.23,.23,.25,.26,.28,.31,.42,.41,.38,.31,.24,.23,.22,.18,.14,.18,.22,.18,.17,.16,.15,.14,.14,.15,.15,.14,.17,.17,.14,.14,.18,.18,.18,.38,.54,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.76,.79,.88,.88,.7,.3,.23,.2,.23,.24,.25,.26,.27,.26,.34,.45,.38,.35,.25,.23,.2,.18,.15,.17,.16,.2,.14,.16,.17,.14,.14,.14,.14,.15,.15,.19,.15,.15,.17,.16,.16,.22,.45,.61,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.77,.67,.95,.84,.53,.25,.21,.22,.24,.24,.26,.25,.25,.26,.41,.48,.32,.25,.24,.21,.19,.19,.21,.18,.2,.2,.17,.14,.16,.16,.16,.16,.15,.15,.15,.17,.14,.13,.12,.16,.19,.3,.5,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.45,.83,.84,.8,.4,.22,.21,.23,.23,.26,.24,.24,.25,.31,.55,.37,.24,.24,.21,.23,.23,.25,.21,.16,.18,.19,.13,.15,.18,.15,.14,.13,.13,.14,.19,.18,.12,.13,.16,.17,.18,.36,.5,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.49,.64,.67,.71,.38,.21,.21,.22,.22,.24,.24,.23,.23,.24,.39,.45,.25,.2,.26,.25,.26,.29,.26,.19,.14,.18,.18,.16,.16,.15,.18,.14,.13,.14,.16,.16,.13,.14,.12,.16,.14,.21,.42,.61,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.8,.77,.59,.28,.23,.21,.21,.21,.22,.23,.21,.21,.22,.24,.39,.34,.26,.3,.29,.3,.36,.35,.24,.18,.19,.18,.14,.13,.14,.17,.14,.14,.13,.12,.14,.18,.16,.12,.17,.17,.16,.31,.47,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.88,.7,.34,.26,.21,.2,.2,.21,.22,.23,.21,.2,.22,.28,.44,.34,.36,.36,.37,.4,.46,.4,.31,.24,.19,.19,.15,.16,.14,.13,.14,.14,.15,.12,.14,.18,.12,.12,.17,.16,.16,.33,.51,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.86,.66,.34,.26,.22,.2,.21,.21,.22,.19,.21,.2,.22,.31,.46,.38,.41,.46,.47,.49,.46,.41,.34,.25,.24,.21,.18,.14,.16,.14,.15,.14,.13,.14,.16,.13,.12,.16,.2,.18,.18,.42,.6,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.9,.83,.49,.28,.24,.2,.2,.2,.2,.21,.2,.2,.21,.22,.35,.46,.4,.47,.51,.53,.54,.48,.51,.43,.27,.21,.2,.14,.17,.16,.18,.16,.18,.12,.14,.18,.16,.15,.18,.19,.19,.32,.43,.65,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.85,.67,.39,.26,.21,.2,.2,.21,.21,.2,.21,.21,.21,.25,.43,.41,.45,.59,.6,.59,.53,.51,.56,.43,.24,.2,.2,.17,.16,.18,.17,.16,.11,.15,.15,.15,.14,.17,.2,.18,.21,.35,.47,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.81,.57,.33,.24,.21,.21,.21,.2,.2,.22,.2,.21,.23,.3,.42,.39,.55,.63,.61,.56,.54,.57,.44,.27,.21,.21,.15,.14,.14,.15,.13,.15,.15,.14,.16,.15,.14,.17,.17,.15,.21,.36,.51,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.87,.75,.52,.29,.21,.2,.19,.19,.2,.2,.22,.21,.21,.23,.35,.43,.49,.61,.61,.6,.57,.56,.5,.4,.27,.2,.19,.15,.13,.15,.13,.16,.13,.18,.15,.16,.14,.14,.17,.16,.18,.26,.39,.64,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.85,.69,.38,.26,.2,.2,.21,.21,.2,.2,.21,.2,.22,.27,.49,.48,.53,.61,.64,.6,.57,.56,.55,.35,.23,.19,.19,.15,.16,.14,.14,.16,.18,.11,.13,.15,.2,.17,.17,.2,.18,.26,.5,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.79,.53,.31,.22,.2,.2,.2,.2,.19,.2,.2,.21,.23,.3,.48,.44,.56,.65,.61,.56,.52,.54,.5,.31,.18,.19,.18,.15,.13,.13,.16,.17,.13,.11,.15,.18,.15,.15,.14,.12,.18,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.85,.7,.42,.27,.22,.2,.2,.21,.21,.21,.2,.21,.21,.23,.36,.43,.45,.6,.59,.54,.49,.53,.54,.45,.32,.21,.22,.21,.14,.14,.14,.15,.15,.21,.19,.13,.13,.14,.14,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.83,.6,.35,.26,.21,.21,.18,.19,.19,.2,.21,.2,.2,.25,.37,.37,.5,.58,.53,.51,.48,.5,.47,.41,.3,.25,.19,.14,.18,.18,.18,.15,.17,.13,.13,.15,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.74,.51,.32,.23,.21,.17,.18,.2,.22,.21,.2,.21,.2,.3,.41,.38,.52,.56,.55,.49,.51,.49,.43,.39,.29,.28,.23,.19,.19,.14,.17,.15,.13,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.85,.71,.43,.27,.21,.18,.19,.2,.22,.22,.21,.19,.23,.24,.46,.57,.47,.55,.56,.5,.5,.48,.44,.42,.32,.39,.3,.19,.15,.16,.15,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.82,.6,.34,.25,.19,.19,.2,.22,.22,.21,.19,.2,.22,.35,.5,.4,.51,.54,.5,.48,.45,.44,.39,.31,.4,.36,.25,.18,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.77,.49,.3,.23,.19,.19,.21,.2,.22,.21,.22,.22,.24,.32,.4,.44,.48,.45,.42,.42,.41,.38,.41,.45,.46,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.83,.66,.42,.27,.2,.2,.21,.19,.2,.21,.22,.24,.23,.27,.37,.45,.43,.47,.42,.41,.35,.32,.29,.32,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.82,.56,.33,.24,.21,.19,.19,.19,.21,.2,.22,.22,.22,.33,.43,.47,.53,.41,.35,.33,.27,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.73,.46,.26,.24,.2,.2,.19,.21,.21,.21,.23,.25,.36,.47,.43,.43,.43,.32,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.85,.63,.36,.26,.22,.18,.18,.19,.19,.22,.29,.38,.46,.42,.34,.33,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.77,.49,.29,.23,.2,.19,.2,.26,.34,.4,.47,.39,.34,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.6,.4,.24,.23,.23,.24,.36,.41,.4,.45,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.5,.34,.33,.29,.35,.33,.32,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.62,.46,.46,.37,.35,.31,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,.49,.41,.43,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]}}}).then(function(w){p=mI(w,{parameter:"NDVI",palette:XS(["#FF0000","#FFFF00","#00FF00","#00FFFF","#0000FF"])}).on("afterAdd",function(){p.palette&&"NDVI2"==i&&JP(p).addTo(s),s.fitBounds(p.getBounds())}).addTo(s)}),s.on("click",function(w){new aN({layers:[f,p]}).setLatLng(w.latlng).openOn(s)})}change(i){this.getMap(i.target.value)}}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275cmp=xr({type:e,selectors:[["app-root"]],decls:11,vars:0,consts:[[1,"title"],[1,"map-container"],[1,"map-frame"],["id","map"],["name","cars","id","cars",1,"btn-one",3,"change"],["value","NDVI1"],["value","NDVI2"]],template:function(i,s){1&i&&(wl(0,"div",0)(1,"h1"),u0(2," leaflet with covJson "),Of()(),wl(3,"div",1)(4,"div",2),Xg(5,"div",3),wl(6,"select",4),Qg("change",function(p){return s.change(p)}),wl(7,"option",5),u0(8,"\u0e41\u0e1b\u0e25\u0e071"),Of(),wl(9,"option",6),u0(10,"\u0e41\u0e1b\u0e25\u0e072"),Of()()()())},styles:[".btn-one[_ngcontent-%COMP%]{position:absolute;top:10px;z-index:400;right:10px}"]}),t})(),uN=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=Va({type:e,bootstrap:[sN]}),e.\u0275inj=wa({imports:[LL,CO]}),t})();IL().bootstrapModule(uN).catch(e=>console.error(e))},1650:Oe=>{"use strict";function kt(Rt,gt,Ot,Pt,Ct){for(var ht=Ct+1;Pt<=Ct;){var J=Pt+Ct>>>1,vt=Rt[J];(void 0!==Ot?Ot(vt,gt):vt-gt)>=0?(ht=J,Ct=J-1):Pt=J+1}return ht}function _t(Rt,gt,Ot,Pt,Ct){for(var ht=Ct+1;Pt<=Ct;){var J=Pt+Ct>>>1,vt=Rt[J];(void 0!==Ot?Ot(vt,gt):vt-gt)>0?(ht=J,Ct=J-1):Pt=J+1}return ht}function k(Rt,gt,Ot,Pt,Ct){for(var ht=Pt-1;Pt<=Ct;){var J=Pt+Ct>>>1,vt=Rt[J];(void 0!==Ot?Ot(vt,gt):vt-gt)<0?(ht=J,Pt=J+1):Ct=J-1}return ht}function xt(Rt,gt,Ot,Pt,Ct){for(var ht=Pt-1;Pt<=Ct;){var J=Pt+Ct>>>1,vt=Rt[J];(void 0!==Ot?Ot(vt,gt):vt-gt)<=0?(ht=J,Pt=J+1):Ct=J-1}return ht}function zt(Rt,gt,Ot,Pt,Ct){for(;Pt<=Ct;){var ht=Pt+Ct>>>1,J=Rt[ht],vt=void 0!==Ot?Ot(J,gt):J-gt;if(0===vt)return ht;vt<=0?Pt=ht+1:Ct=ht-1}return-1}function Mt(Rt,gt,Ot,Pt,Ct,ht){return"function"==typeof Ot?ht(Rt,gt,Ot,void 0===Pt?0:0|Pt,void 0===Ct?Rt.length-1:0|Ct):ht(Rt,gt,void 0,void 0===Ot?0:0|Ot,void 0===Pt?Rt.length-1:0|Pt)}Oe.exports={ge:function(Rt,gt,Ot,Pt,Ct){return Mt(Rt,gt,Ot,Pt,Ct,kt)},gt:function(Rt,gt,Ot,Pt,Ct){return Mt(Rt,gt,Ot,Pt,Ct,_t)},lt:function(Rt,gt,Ot,Pt,Ct){return Mt(Rt,gt,Ot,Pt,Ct,k)},le:function(Rt,gt,Ot,Pt,Ct){return Mt(Rt,gt,Ot,Pt,Ct,xt)},eq:function(Rt,gt,Ot,Pt,Ct){return Mt(Rt,gt,Ot,Pt,Ct,zt)}}},438:function(Oe,kt,_t){Oe.exports=function(){"use strict";function k(a){var l=this;l.d3=window.d3?window.d3:_t(6229),l.api=a,l.config=l.getDefaultConfig(),l.data={},l.cache={},l.axes={}}function xt(a){this.internal=new k(this),this.internal.loadConfig(a),this.internal.beforeInit(a),this.internal.init(),this.internal.afterInit(a),function l(d,_,E){Object.keys(d).forEach(function(O){_[O]=d[O].bind(E),Object.keys(d[O]).length>0&&l(d[O],_[O],E)})}(xt.prototype,this,this)}var zt=function(a){return Math.ceil(a)+.5},Mt=function(a){return 10*Math.ceil(a/10)},Rt=function(a){return a[1]-a[0]},gt=function(a,l,d){return J(a[l])?a[l]:d},Ot=function(a){var l=Pt(a),d=[a.pathSegList.getItem(0),a.pathSegList.getItem(1)];return{x:d[0].x,y:Math.min(d[0].y,d[1].y),width:l.width,height:l.height}},Pt=function(a){try{return a.getBBox()}catch{return{x:0,y:0,width:0,height:0}}},ht=function(a){return Array.isArray(a)},J=function(a){return typeof a<"u"},vt=function(a){return typeof a>"u"||null===a||nt(a)&&0===a.length||"object"==typeof a&&0===Object.keys(a).length},Tt=function(a){return"function"==typeof a},$t=function(a){return"number"==typeof a},nt=function(a){return"string"==typeof a},q=function(a){return typeof a>"u"},K=function(a){return a||0===a},X=function(a){return!vt(a)},V=function(a){return"string"==typeof a?a.replace(/</g,"&lt;").replace(/>/g,"&gt;"):a},bt=function(a){var l=function(a){typeof a>"u"&&(a=window.navigator.userAgent);var l=a.indexOf("MSIE ");return l>0?parseInt(a.substring(l+5,a.indexOf(".",l)),10):(l=a.indexOf("Trident/"))>0&&(l=a.indexOf("rv:"),parseInt(a.substring(l+3,a.indexOf(".",l)),10))}();return typeof a>"u"?!!l:a===l};function pt(a,l){var d=this;d.component=a,d.params=l||{},d.d3=a.d3,d.scale=d.d3.scaleLinear(),d.orient="bottom",d.innerTickSize=6,d.outerTickSize=this.params.withOuterTick?6:0,d.tickPadding=3,d.tickValues=null,d.tickOffset=0,d.tickCulling=!0,d.tickTextRotate=d.params.tickTextRotate,d.axis=d.generateAxis()}pt.prototype.axisX=function(a,l,d){a.attr("transform",function(_){return"translate("+Math.ceil(l(_)+d)+", 0)"})},pt.prototype.axisY=function(a,l){a.attr("transform",function(d){return"translate(0,"+Math.ceil(l(d))+")"})},pt.prototype.scaleExtent=function(a){var l=a[0],d=a[a.length-1];return l<d?[l,d]:[d,l]},pt.prototype.generateTicks=function(a){var d,_,E=[];if(a.ticks)return a.ticks.apply(a,this.tickArguments);for(_=a.domain(),d=Math.ceil(_[0]);d<_[1];d++)E.push(d);return E.length>0&&E[0]>0&&E.unshift(E[0]-(E[1]-E[0])),E},pt.prototype.copyScale=function(){var d,a=this,l=a.scale.copy();return a.params.isCategory&&(d=a.scale.domain(),l.domain([d[0],d[1]-1])),l},pt.prototype.textFormatted=function(a){var d=this.tickFormat?this.tickFormat(a):a;return typeof d<"u"?d:""},pt.prototype.updateRange=function(){var a=this;return a.range=a.scale.rangeExtent?a.scale.rangeExtent():a.scaleExtent(a.scale.range()),a.range},pt.prototype.updateTickTextCharSize=function(a){var l=this;if(l.tickTextCharSize)return l.tickTextCharSize;var d={h:11.5,w:5.5};return a.select("text").text(function(_){return l.textFormatted(_)}).each(function(_){var E=Pt(this),O=l.textFormatted(_),j=E.height,W=O?E.width/O.length:void 0;j&&W&&(d.h=j,d.w=W)}).text(""),l.tickTextCharSize=d,d},pt.prototype.isVertical=function(){return"left"===this.orient||"right"===this.orient},pt.prototype.tspanData=function(a,l,d){var _=this,E=_.params.tickMultiline?_.splitTickText(a,d):[].concat(_.textFormatted(a));return _.params.tickMultiline&&_.params.tickMultilineMax>0&&(E=_.ellipsify(E,_.params.tickMultilineMax)),E.map(function(O){return{index:l,splitted:O,length:E.length}})},pt.prototype.splitTickText=function(a,l){var O,j,d=this,_=d.textFormatted(a),E=d.params.tickWidth;if("[object Array]"===Object.prototype.toString.call(_))return _;return(!E||E<=0)&&(E=d.isVertical()?95:d.params.isCategory?Math.ceil(l(1)-l(0))-12:110),function ot(wt,Lt){j=void 0;for(var Ht=1;Ht<Lt.length;Ht++)if(" "===Lt.charAt(Ht)&&(j=Ht),O=Lt.substr(0,Ht+1),E<d.tickTextCharSize.w*O.length)return ot(wt.concat(Lt.substr(0,j||Ht)),Lt.slice(j?j+1:Ht));return wt.concat(Lt)}([],_+"")},pt.prototype.ellipsify=function(a,l){if(a.length<=l)return a;for(var d=a.slice(0,l),_=3,E=l-1;E>=0;E--){var O=d[E].length;if(d[E]=d[E].substr(0,O-_).padEnd(O,"."),(_-=O)<=0)break}return d},pt.prototype.updateTickLength=function(){var a=this;a.tickLength=Math.max(a.innerTickSize,0)+a.tickPadding},pt.prototype.lineY2=function(a){var l=this,d=l.scale(a)+(l.tickCentered?0:l.tickOffset);return l.range[0]<d&&d<l.range[1]?l.innerTickSize:0},pt.prototype.textY=function(){var l=this.tickTextRotate;return l?11.5-l/15*2.5*(l>0?1:-1):this.tickLength},pt.prototype.textTransform=function(){var l=this.tickTextRotate;return l?"rotate("+l+")":""},pt.prototype.textTextAnchor=function(){var l=this.tickTextRotate;return l?l>0?"start":"end":"middle"},pt.prototype.tspanDx=function(){var l=this.tickTextRotate;return l?8*Math.sin(Math.PI*(l/180)):0},pt.prototype.tspanDy=function(a,l){var d=this,_=d.tickTextCharSize.h;return 0===l&&(_=d.isVertical()?-(d.tickTextCharSize.h/2*(a.length-1)-3):".71em"),_},pt.prototype.generateAxis=function(){var a=this,l=a.d3,d=a.params;function _(E,O){var j;return E.each(function(){var de,ae,Ce,W=_.g=l.select(this),ut=this.__chart__||a.scale,ot=this.__chart__=a.copyScale(),wt=a.tickValues?a.tickValues:a.generateTicks(ot),Lt=W.selectAll(".tick").data(wt,ot),Ht=Lt.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),Ut=Lt.exit().remove(),Wt=Lt.merge(Ht);d.isCategory?(a.tickOffset=Math.ceil((ot(1)-ot(0))/2),ae=a.tickCentered?0:a.tickOffset,Ce=a.tickCentered?a.tickOffset:0):a.tickOffset=ae=0,a.updateRange(),a.updateTickLength(),a.updateTickTextCharSize(W.select(".tick"));var Ue=Wt.select("line").merge(Ht.append("line")),nn=Wt.select("text").merge(Ht.append("text")),yn=Wt.selectAll("text").selectAll("tspan").data(function(De,le){return a.tspanData(De,le,ot)}),dn=yn.enter().append("tspan").merge(yn).text(function(De){return De.splitted});yn.exit().remove();var an=W.selectAll(".domain").data([0]),He=an.enter().append("path").merge(an).attr("class","domain");switch(a.orient){case"bottom":de=a.axisX,Ue.attr("x1",ae).attr("x2",ae).attr("y2",function(De,le){return a.lineY2(De,le)}),nn.attr("x",0).attr("y",function(De,le){return a.textY(De,le)}).attr("transform",function(De,le){return a.textTransform(De,le)}).style("text-anchor",function(De,le){return a.textTextAnchor(De,le)}),dn.attr("x",0).attr("dy",function(De,le){return a.tspanDy(De,le)}).attr("dx",function(De,le){return a.tspanDx(De,le)}),He.attr("d","M"+a.range[0]+","+a.outerTickSize+"V0H"+a.range[1]+"V"+a.outerTickSize);break;case"top":de=a.axisX,Ue.attr("x1",ae).attr("x2",ae).attr("y2",function(De,le){return-1*a.lineY2(De,le)}),nn.attr("x",0).attr("y",function(De,le){return-1*a.textY(De,le)-(d.isCategory?2:a.tickLength-2)}).attr("transform",function(De,le){return a.textTransform(De,le)}).style("text-anchor",function(De,le){return a.textTextAnchor(De,le)}),dn.attr("x",0).attr("dy",function(De,le){return a.tspanDy(De,le)}).attr("dx",function(De,le){return a.tspanDx(De,le)}),He.attr("d","M"+a.range[0]+","+-a.outerTickSize+"V0H"+a.range[1]+"V"+-a.outerTickSize);break;case"left":de=a.axisY,Ue.attr("x2",-a.innerTickSize).attr("y1",Ce).attr("y2",Ce),nn.attr("x",-a.tickLength).attr("y",a.tickOffset).style("text-anchor","end"),dn.attr("x",-a.tickLength).attr("dy",function(De,le){return a.tspanDy(De,le)}),He.attr("d","M"+-a.outerTickSize+","+a.range[0]+"H0V"+a.range[1]+"H"+-a.outerTickSize);break;case"right":de=a.axisY,Ue.attr("x2",a.innerTickSize).attr("y1",Ce).attr("y2",Ce),nn.attr("x",a.tickLength).attr("y",a.tickOffset).style("text-anchor","start"),dn.attr("x",a.tickLength).attr("dy",function(De,le){return a.tspanDy(De,le)}),He.attr("d","M"+a.outerTickSize+","+a.range[0]+"H0V"+a.range[1]+"H"+a.outerTickSize)}if(ot.rangeBand){var Nn=ot,Le=Nn.rangeBand()/2;ut=ot=function(De){return Nn(De)+Le}}else ut.rangeBand?ut=ot:Ut.call(de,ot,a.tickOffset);Ht.call(de,ut,a.tickOffset),j=(O?Wt.transition(O):Wt).style("opacity",1).call(de,ot,a.tickOffset)}),j}return _.scale=function(E){return arguments.length?(a.scale=E,_):a.scale},_.orient=function(E){return arguments.length?(a.orient=E in{top:1,right:1,bottom:1,left:1}?E+"":"bottom",_):a.orient},_.tickFormat=function(E){return arguments.length?(a.tickFormat=E,_):a.tickFormat},_.tickCentered=function(E){return arguments.length?(a.tickCentered=E,_):a.tickCentered},_.tickOffset=function(){return a.tickOffset},_.tickInterval=function(){var E;return(E=d.isCategory?2*a.tickOffset:(_.g.select("path.domain").node().getTotalLength()-2*a.outerTickSize)/_.g.selectAll("line").size())==1/0?0:E},_.ticks=function(){return arguments.length?(a.tickArguments=arguments,_):a.tickArguments},_.tickCulling=function(E){return arguments.length?(a.tickCulling=E,_):a.tickCulling},_.tickValues=function(E){if("function"==typeof E)a.tickValues=function(){return E(a.scale.domain())};else{if(!arguments.length)return a.tickValues;a.tickValues=E}return _},_};var z={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},yt=function a(l){this.owner=l,this.d3=l.d3,this.internal=pt},Nt=yt;Nt.prototype.init=function(){var l=this.owner,d=l.config,_=l.main;l.axes.x=_.append("g").attr("class",z.axis+" "+z.axisX).attr("clip-path",d.axis_x_inner?"":l.clipPathForXAxis).attr("transform",l.getTranslate("x")).style("visibility",d.axis_x_show?"visible":"hidden"),l.axes.x.append("text").attr("class",z.axisXLabel).attr("transform",d.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),l.axes.y=_.append("g").attr("class",z.axis+" "+z.axisY).attr("clip-path",d.axis_y_inner?"":l.clipPathForYAxis).attr("transform",l.getTranslate("y")).style("visibility",d.axis_y_show?"visible":"hidden"),l.axes.y.append("text").attr("class",z.axisYLabel).attr("transform",d.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),l.axes.y2=_.append("g").attr("class",z.axis+" "+z.axisY2).attr("transform",l.getTranslate("y2")).style("visibility",d.axis_y2_show?"visible":"hidden"),l.axes.y2.append("text").attr("class",z.axisY2Label).attr("transform",d.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},Nt.prototype.getXAxis=function(l,d,_,E,O,j,W){var ut=this.owner,ot=ut.config,wt={isCategory:ut.isCategorized(),withOuterTick:O,tickMultiline:ot.axis_x_tick_multiline,tickMultilineMax:ot.axis_x_tick_multiline?Number(ot.axis_x_tick_multilineMax):0,tickWidth:ot.axis_x_tick_width,tickTextRotate:W?0:ot.axis_x_tick_rotate,withoutTransition:j},Lt=new this.internal(this,wt).axis.scale(l).orient(d);return ut.isTimeSeries()&&E&&"function"!=typeof E&&(E=E.map(function(Ht){return ut.parseDate(Ht)})),Lt.tickFormat(_).tickValues(E),ut.isCategorized()&&(Lt.tickCentered(ot.axis_x_tick_centered),vt(ot.axis_x_tick_culling)&&(ot.axis_x_tick_culling=!1)),Lt},Nt.prototype.updateXAxisTickValues=function(l,d){var O,_=this.owner,E=_.config;return(E.axis_x_tick_fit||E.axis_x_tick_count)&&(O=this.generateTickValues(_.mapTargetsToUniqueXs(l),E.axis_x_tick_count,_.isTimeSeries())),d?d.tickValues(O):(_.xAxis.tickValues(O),_.subXAxis.tickValues(O)),O},Nt.prototype.getYAxis=function(l,d,_,E,O,j,W){var ut=this.owner,ot=ut.config,wt=ot["axis_"+l+"_tick_format"];!wt&&ut.isAxisNormalized(l)&&(wt=function(Ht){return Ht+"%"});var Lt=new this.internal(this,{withOuterTick:O,withoutTransition:j,tickTextRotate:W?0:ot.axis_y_tick_rotate}).axis.scale(d).orient(_);return wt&&Lt.tickFormat(wt),ut.isTimeSeriesY()?Lt.ticks(ot.axis_y_tick_time_type,ot.axis_y_tick_time_interval):Lt.tickValues(E),Lt},Nt.prototype.getId=function(l){var d=this.owner.config;return l in d.data_axes?d.data_axes[l]:"y"},Nt.prototype.getXAxisTickFormat=function(){var l=this.owner,d=l.config,_=l.isTimeSeries()?l.defaultAxisTimeFormat:l.isCategorized()?l.categoryName:function(E){return E};return d.axis_x_tick_format&&(Tt(d.axis_x_tick_format)?_=d.axis_x_tick_format:l.isTimeSeries()&&(_=function(E){return E?l.axisTimeFormat(d.axis_x_tick_format)(E):""})),Tt(_)?function(E){return _.call(l,E)}:_},Nt.prototype.getTickValues=function(l,d){return l||(d?d.tickValues():void 0)},Nt.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},Nt.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},Nt.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},Nt.prototype.getLabelOptionByAxisId=function(l){var E,_=this.owner.config;return"y"===l?E=_.axis_y_label:"y2"===l?E=_.axis_y2_label:"x"===l&&(E=_.axis_x_label),E},Nt.prototype.getLabelText=function(l){var d=this.getLabelOptionByAxisId(l);return nt(d)?d:d?d.text:null},Nt.prototype.setLabelText=function(l,d){var E=this.owner.config,O=this.getLabelOptionByAxisId(l);nt(O)?"y"===l?E.axis_y_label=d:"y2"===l?E.axis_y2_label=d:"x"===l&&(E.axis_x_label=d):O&&(O.text=d)},Nt.prototype.getLabelPosition=function(l,d){var _=this.getLabelOptionByAxisId(l),E=_&&"object"==typeof _&&_.position?_.position:d;return{isInner:E.indexOf("inner")>=0,isOuter:E.indexOf("outer")>=0,isLeft:E.indexOf("left")>=0,isCenter:E.indexOf("center")>=0,isRight:E.indexOf("right")>=0,isTop:E.indexOf("top")>=0,isMiddle:E.indexOf("middle")>=0,isBottom:E.indexOf("bottom")>=0}},Nt.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},Nt.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},Nt.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},Nt.prototype.getLabelPositionById=function(l){return"y2"===l?this.getY2AxisLabelPosition():"y"===l?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},Nt.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},Nt.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},Nt.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},Nt.prototype.xForAxisLabel=function(l,d){var _=this.owner;return l?d.isLeft?0:d.isCenter?_.width/2:_.width:d.isBottom?-_.height:d.isMiddle?-_.height/2:0},Nt.prototype.dxForAxisLabel=function(l,d){return l?d.isLeft?"0.5em":d.isRight?"-0.5em":"0":d.isTop?"-0.5em":d.isBottom?"0.5em":"0"},Nt.prototype.textAnchorForAxisLabel=function(l,d){return l?d.isLeft?"start":d.isCenter?"middle":"end":d.isBottom?"start":d.isMiddle?"middle":"end"},Nt.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},Nt.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},Nt.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},Nt.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},Nt.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},Nt.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},Nt.prototype.dyForXAxisLabel=function(){var l=this.owner,d=l.config,_=this.getXAxisLabelPosition();return d.axis_rotated?_.isInner?"1.2em":-25-(l.config.axis_x_inner?0:this.getMaxTickWidth("x")):_.isInner?"-0.5em":l.getHorizontalAxisHeight("x")-10},Nt.prototype.dyForYAxisLabel=function(){var l=this.owner,d=this.getYAxisLabelPosition();return l.config.axis_rotated?d.isInner?"-0.5em":"3em":d.isInner?"1.2em":-10-(l.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},Nt.prototype.dyForY2AxisLabel=function(){var l=this.owner,d=this.getY2AxisLabelPosition();return l.config.axis_rotated?d.isInner?"1.2em":"-2.2em":d.isInner?"-0.5em":15+(l.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},Nt.prototype.textAnchorForXAxisLabel=function(){return this.textAnchorForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},Nt.prototype.textAnchorForYAxisLabel=function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},Nt.prototype.textAnchorForY2AxisLabel=function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},Nt.prototype.getMaxTickWidth=function(l,d){var O,j,W,ut,_=this.owner,E=0;return d&&_.currentMaxTickWidths[l]||(_.svg&&(O=_.filterTargetsToShow(_.data.targets),"y"===l?(j=_.y.copy().domain(_.getYDomain(O,"y")),W=this.getYAxis(l,j,_.yOrient,_.yAxisTickValues,!1,!0,!0)):"y2"===l?(j=_.y2.copy().domain(_.getYDomain(O,"y2")),W=this.getYAxis(l,j,_.y2Orient,_.y2AxisTickValues,!1,!0,!0)):(j=_.x.copy().domain(_.getXDomain(O)),W=this.getXAxis(j,_.xOrient,_.xAxisTickFormat,_.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(O,W)),(ut=_.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(W).each(function(){_.d3.select(this).selectAll("text").each(function(){var wt=Pt(this);E<wt.width&&(E=wt.width)}),ut.remove()})),_.currentMaxTickWidths[l]=E<=0?_.currentMaxTickWidths[l]:E),_.currentMaxTickWidths[l]},Nt.prototype.updateLabels=function(l){var d=this.owner,_=d.main.select("."+z.axisX+" ."+z.axisXLabel),E=d.main.select("."+z.axisY+" ."+z.axisYLabel),O=d.main.select("."+z.axisY2+" ."+z.axisY2Label);(l?_.transition():_).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(l?E.transition():E).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(l?O.transition():O).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},Nt.prototype.getPadding=function(l,d,_,E){var O="number"==typeof l?l:l[d];return K(O)?"ratio"===l.unit?l[d]*E:this.convertPixelsToAxisPadding(O,E):_},Nt.prototype.convertPixelsToAxisPadding=function(l,d){var _=this.owner;return d*(l/(_.config.axis_rotated?_.width:_.height))},Nt.prototype.generateTickValues=function(l,d,_){var O,j,W,ut,ot,wt,Lt,E=l;if(d)if(1===(O=Tt(d)?d():d))E=[l[0]];else if(2===O)E=[l[0],l[l.length-1]];else if(O>2){for(ot=((W=l[l.length-1])-(j=l[0]))/(1+(ut=O-2)),E=[j],wt=0;wt<ut;wt++)Lt=+j+ot*(wt+1),E.push(_?new Date(Lt):Lt);E.push(W)}return _||(E=E.sort(function(Ht,Ut){return Ht-Ut})),E},Nt.prototype.generateTransitions=function(l){var _=this.owner.axes;return{axisX:l?_.x.transition().duration(l):_.x,axisY:l?_.y.transition().duration(l):_.y,axisY2:l?_.y2.transition().duration(l):_.y2,axisSubX:l?_.subx.transition().duration(l):_.subx}},Nt.prototype.redraw=function(l,d){var _=this.owner,E=l?_.d3.transition().duration(l):null;_.axes.x.style("opacity",d?0:1).call(_.xAxis,E),_.axes.y.style("opacity",d?0:1).call(_.yAxis,E),_.axes.y2.style("opacity",d?0:1).call(_.y2Axis,E),_.axes.subx.style("opacity",d?0:1).call(_.subXAxis,E)};var qt={version:"0.7.20",chart:{fn:xt.prototype,internal:{fn:k.prototype,axis:{fn:yt.prototype,internal:{fn:pt.prototype}}}},generate:function(a){return new xt(a)}};function ne(a,l,d){var _=[.01,10];function O(j){return d(l(j))}return l||(l=a.scaleLinear()).range(_),d||((d=a.scaleLog()).domain(_),d.nice()),O.domain=function(j){return arguments.length?(l.domain(j),O):l.domain()},O.range=function(j){return arguments.length?(d.range(j),O):d.range()},O.ticks=function(j){return function E(j,W,ut){var ot,wt,Lt,Ht;if(arguments.length<3)ut=10;else if(0===ut)return[];Ht=(W-j)/(wt=ut-1),Lt=j,(ot=new Array(ut))[0]=Math.pow(10,Lt);for(var Ut=1;Ut<wt;Ut++)Lt+=Ht,ot[Ut]=Math.pow(10,Lt);return ot[wt]=Math.pow(10,W),ot}(-2,1,j||10).map(function(W){return l.invert(W)})},O.copy=function(){return ne(a,l.copy(),d.copy())},O}function oe(a){return a/Math.pow(10,Math.ceil(Math.log(a)/Math.LN10-1e-12))==1}k.prototype.beforeInit=function(){},k.prototype.afterInit=function(){},k.prototype.init=function(){var a=this,l=a.config;if(a.initParams(),l.data_url)a.convertUrlToData(l.data_url,l.data_mimeType,l.data_headers,l.data_keys,a.initWithData);else if(l.data_json)a.initWithData(a.convertJsonToData(l.data_json,l.data_keys));else if(l.data_rows)a.initWithData(a.convertRowsToData(l.data_rows));else{if(!l.data_columns)throw Error("url or json or rows or columns is required.");a.initWithData(a.convertColumnsToData(l.data_columns))}},k.prototype.initParams=function(){var a=this,l=a.d3,d=a.config;a.clipId="c3-"+(new Date).valueOf()+"-clip",a.clipIdForXAxis=a.clipId+"-xaxis",a.clipIdForYAxis=a.clipId+"-yaxis",a.clipIdForGrid=a.clipId+"-grid",a.clipIdForSubchart=a.clipId+"-subchart",a.clipPath=a.getClipPath(a.clipId),a.clipPathForXAxis=a.getClipPath(a.clipIdForXAxis),a.clipPathForYAxis=a.getClipPath(a.clipIdForYAxis),a.clipPathForGrid=a.getClipPath(a.clipIdForGrid),a.clipPathForSubchart=a.getClipPath(a.clipIdForSubchart),a.dragStart=null,a.dragging=!1,a.flowing=!1,a.cancelClick=!1,a.mouseover=void 0,a.transiting=!1,a.color=a.generateColor(),a.levelColor=a.generateLevelColor(),a.dataTimeParse=(d.data_xLocaltime?l.timeParse:l.utcParse)(a.config.data_xFormat),a.axisTimeFormat=d.axis_x_localtime?l.timeFormat:l.utcFormat,a.defaultAxisTimeFormat=function(_){return _.getMilliseconds()?l.timeFormat(".%L")(_):_.getSeconds()?l.timeFormat(":%S")(_):_.getMinutes()?l.timeFormat("%I:%M")(_):_.getHours()?l.timeFormat("%I %p")(_):_.getDay()&&1!==_.getDate()||1!==_.getDate()||_.getMonth()?l.timeFormat("%-m/%-d")(_):l.timeFormat("%Y/%-m/%-d")(_)},a.hiddenTargetIds=[],a.hiddenLegendIds=[],a.focusedTargetIds=[],a.defocusedTargetIds=[],a.xOrient=d.axis_rotated?d.axis_x_inner?"right":"left":d.axis_x_inner?"top":"bottom",a.yOrient=d.axis_rotated?d.axis_y_inner?"top":"bottom":d.axis_y_inner?"right":"left",a.y2Orient=d.axis_rotated?d.axis_y2_inner?"bottom":"top":d.axis_y2_inner?"left":"right",a.subXOrient=d.axis_rotated?"left":"bottom",a.isLegendRight="right"===d.legend_position,a.isLegendInset="inset"===d.legend_position,a.isLegendTop="top-left"===d.legend_inset_anchor||"top-right"===d.legend_inset_anchor,a.isLegendLeft="top-left"===d.legend_inset_anchor||"bottom-left"===d.legend_inset_anchor,a.legendStep=0,a.legendItemWidth=0,a.legendItemHeight=0,a.currentMaxTickWidths={x:0,y:0,y2:0},a.rotated_padding_left=30,a.rotated_padding_right=d.axis_rotated&&!d.axis_x_show?0:30,a.rotated_padding_top=5,a.withoutFadeIn={},a.intervalForObserveInserted=void 0,a.axes.subx=l.selectAll([])},k.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},k.prototype.initWithData=function(a){var E,O,l=this,d=l.d3,_=l.config,j=!0;l.axis=new yt(l),l.selectChart=_.bindto?"function"==typeof _.bindto.node?_.bindto:d.select(_.bindto):d.selectAll([]),l.selectChart.empty()&&(l.selectChart=d.select(document.createElement("div")).style("opacity",0),l.observeInserted(l.selectChart),j=!1),l.selectChart.html("").classed("c3",!0),l.data.xs={},l.data.targets=l.convertDataToTargets(a),_.data_filter&&(l.data.targets=l.data.targets.filter(_.data_filter)),_.data_hide&&l.addHiddenTargetIds(!0===_.data_hide?l.mapToIds(l.data.targets):_.data_hide),_.legend_hide&&l.addHiddenLegendIds(!0===_.legend_hide?l.mapToIds(l.data.targets):_.legend_hide),l.isStanfordGraphType()&&l.initStanfordData(),l.updateSizes(),l.updateScales(),l.x.domain(d.extent(l.getXDomain(l.data.targets))),l.y.domain(l.getYDomain(l.data.targets,"y")),l.y2.domain(l.getYDomain(l.data.targets,"y2")),l.subX.domain(l.x.domain()),l.subY.domain(l.y.domain()),l.subY2.domain(l.y2.domain()),l.orgXDomain=l.x.domain(),l.svg=l.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return _.onmouseover.call(l)}).on("mouseleave",function(){return _.onmouseout.call(l)}),l.config.svg_classname&&l.svg.attr("class",l.config.svg_classname),E=l.svg.append("defs"),l.clipChart=l.appendClip(E,l.clipId),l.clipXAxis=l.appendClip(E,l.clipIdForXAxis),l.clipYAxis=l.appendClip(E,l.clipIdForYAxis),l.clipGrid=l.appendClip(E,l.clipIdForGrid),l.clipSubchart=l.appendClip(E,l.clipIdForSubchart),l.updateSvgSize(),O=l.main=l.svg.append("g").attr("transform",l.getTranslate("main")),l.initPie&&l.initPie(),l.initDragZoom&&l.initDragZoom(),_.subchart_show&&l.initSubchart&&l.initSubchart(),l.initTooltip&&l.initTooltip(),l.initLegend&&l.initLegend(),l.initTitle&&l.initTitle(),l.initZoom&&l.initZoom(),l.isStanfordGraphType()&&l.drawColorScale(),_.subchart_show&&l.initSubchartBrush&&l.initSubchartBrush(),O.append("text").attr("class",z.text+" "+z.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),l.initRegion(),l.initGrid(),O.append("g").attr("clip-path",l.clipPath).attr("class",z.chart),_.grid_lines_front&&l.initGridLines(),l.initStanfordElements(),l.initEventRect(),l.initChartElements(),l.axis.init(),l.updateTargets(l.data.targets),_.axis_x_selection&&l.brush.selectionAsValue(l.getDefaultSelection()),j&&(l.updateDimension(),l.config.oninit.call(l),l.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),l.bindResize(),l.bindWindowFocus(),l.api.element=l.selectChart.node()},k.prototype.smoothLines=function(a,l){var d=this;"grid"===l&&a.each(function(){var _=d.d3.select(this),E=_.attr("x1"),O=_.attr("x2"),j=_.attr("y1"),W=_.attr("y2");_.attr({x1:Math.ceil(E),x2:Math.ceil(O),y1:Math.ceil(j),y2:Math.ceil(W)})})},k.prototype.updateSizes=function(){var a=this,l=a.config,d=a.legend?a.getLegendHeight():0,_=a.legend?a.getLegendWidth():0,E=a.isLegendRight||a.isLegendInset?0:d,O=a.hasArcType(),j=l.axis_rotated||O?0:a.getHorizontalAxisHeight("x"),W=l.axis_rotated||O?0:a.getHorizontalAxisHeight("x",!0),ut=l.subchart_show&&!O?l.subchart_size_height+W:0;a.currentWidth=a.getCurrentWidth(),a.currentHeight=a.getCurrentHeight(),a.margin=l.axis_rotated?{top:a.getHorizontalAxisHeight("y2")+a.getCurrentPaddingTop(),right:O?0:a.getCurrentPaddingRight(),bottom:a.getHorizontalAxisHeight("y")+E+a.getCurrentPaddingBottom(),left:ut+(O?0:a.getCurrentPaddingLeft())}:{top:4+a.getCurrentPaddingTop(),right:O?0:a.getCurrentPaddingRight(),bottom:j+ut+E+a.getCurrentPaddingBottom(),left:O?0:a.getCurrentPaddingLeft()},a.margin2=l.axis_rotated?{top:a.margin.top,right:NaN,bottom:20+E,left:a.rotated_padding_left}:{top:a.currentHeight-ut-E,right:NaN,bottom:W+E,left:a.margin.left},a.margin3={top:0,right:NaN,bottom:0,left:0},a.updateSizeForLegend&&a.updateSizeForLegend(d,_),a.width=a.currentWidth-a.margin.left-a.margin.right,a.height=a.currentHeight-a.margin.top-a.margin.bottom,a.width<0&&(a.width=0),a.height<0&&(a.height=0),a.width2=l.axis_rotated?a.margin.left-a.rotated_padding_left-a.rotated_padding_right:a.width,a.height2=l.axis_rotated?a.height:a.currentHeight-a.margin2.top-a.margin2.bottom,a.width2<0&&(a.width2=0),a.height2<0&&(a.height2=0),a.arcWidth=a.width-(a.isLegendRight?_+10:0),a.arcHeight=a.height-(a.isLegendRight?0:10),a.hasType("gauge")&&!l.gauge_fullCircle&&(a.arcHeight+=a.height-a.getGaugeLabelHeight()),a.updateRadius&&a.updateRadius(),a.isLegendRight&&O&&(a.margin3.left=a.arcWidth/2+1.1*a.radiusExpanded)},k.prototype.updateTargets=function(a){var l=this,d=l.config;l.updateTargetsForText(a),l.updateTargetsForBar(a),l.updateTargetsForLine(a),l.hasArcType()&&l.updateTargetsForArc&&l.updateTargetsForArc(a),d.subchart_show&&l.updateTargetsForSubchart&&l.updateTargetsForSubchart(a),l.showTargets()},k.prototype.showTargets=function(){var a=this;a.svg.selectAll("."+z.target).filter(function(l){return a.isTargetToShow(l.id)}).transition().duration(a.config.transition_duration).style("opacity",1)},k.prototype.redraw=function(a,l){var ot,wt,Lt,Ht,Ut,Wt,de,ae,Ce,Ue,nn,yn,on,an,He,Nn,Le,De,le,bn,Sn,cn,Gn,In,dr,_e,We,Dr,Gr,lr,ir,d=this,_=d.main,E=d.d3,O=d.config,j=d.getShapeIndices(d.isAreaType),W=d.getShapeIndices(d.isBarType),ut=d.getShapeIndices(d.isLineType),dn=d.hasArcType(),Jn=d.filterTargetsToShow(d.data.targets),Pr=d.xv.bind(d);if(ot=gt(a=a||{},"withY",!0),wt=gt(a,"withSubchart",!0),Lt=gt(a,"withTransition",!0),Wt=gt(a,"withTransform",!1),de=gt(a,"withUpdateXDomain",!1),ae=gt(a,"withUpdateOrgXDomain",!1),Ce=gt(a,"withTrimXDomain",!0),on=gt(a,"withUpdateXAxis",de),Ue=gt(a,"withLegend",!1),nn=gt(a,"withEventRect",!0),yn=gt(a,"withDimension",!0),Ht=gt(a,"withTransitionForExit",Lt),Ut=gt(a,"withTransitionForAxis",Lt),le=Lt?O.transition_duration:0,bn=Ht?le:0,Sn=Ut?le:0,l=l||d.axis.generateTransitions(Sn),Ue&&O.legend_show?d.updateLegend(d.mapToIds(d.data.targets),a,l):yn&&d.updateDimension(!0),d.isCategorized()&&0===Jn.length&&d.x.domain([0,d.axes.x.selectAll(".tick").size()]),Jn.length?(d.updateXDomain(Jn,de,ae,Ce),O.axis_x_tick_values||(_e=d.axis.updateXAxisTickValues(Jn))):(d.xAxis.tickValues([]),d.subXAxis.tickValues([])),O.zoom_rescale&&!a.flow&&(Gr=d.x.orgDomain()),d.y.domain(d.getYDomain(Jn,"y",Gr)),d.y2.domain(d.getYDomain(Jn,"y2",Gr)),!O.axis_y_tick_values&&O.axis_y_tick_count&&d.yAxis.tickValues(d.axis.generateTickValues(d.y.domain(),O.axis_y_tick_count)),!O.axis_y2_tick_values&&O.axis_y2_tick_count&&d.y2Axis.tickValues(d.axis.generateTickValues(d.y2.domain(),O.axis_y2_tick_count)),d.axis.redraw(Sn,dn),d.axis.updateLabels(Lt),(de||on)&&Jn.length)if(O.axis_x_tick_culling&&_e){for(We=1;We<_e.length;We++)if(_e.length/We<O.axis_x_tick_culling_max){Dr=We;break}d.svg.selectAll("."+z.axisX+" .tick text").each(function(Vr){var Gi=_e.indexOf(Vr);Gi>=0&&E.select(this).style("display",Gi%Dr?"none":"block")})}else d.svg.selectAll("."+z.axisX+" .tick text").style("display","block");an=d.generateDrawArea?d.generateDrawArea(j,!1):void 0,He=d.generateDrawBar?d.generateDrawBar(W):void 0,Nn=d.generateDrawLine?d.generateDrawLine(ut,!1):void 0,Le=d.generateXYForText(j,W,ut,!0),De=d.generateXYForText(j,W,ut,!1),d.updateCircleY(),lr=(d.config.axis_rotated?d.circleY:d.circleX).bind(d),ir=(d.config.axis_rotated?d.circleX:d.circleY).bind(d),ot&&(d.subY.domain(d.getYDomain(Jn,"y")),d.subY2.domain(d.getYDomain(Jn,"y2"))),d.updateXgridFocus(),_.select("text."+z.text+"."+z.empty).attr("x",d.width/2).attr("y",d.height/2).text(O.data_empty_label_text).transition().style("opacity",Jn.length?0:1),nn&&d.redrawEventRect(),d.updateGrid(le),d.updateStanfordElements(le),d.updateRegion(le),d.updateBar(bn),d.updateLine(bn),d.updateArea(bn),d.updateCircle(lr,ir),d.hasDataLabel()&&d.updateText(Le,De,bn),d.redrawTitle&&d.redrawTitle(),d.redrawArc&&d.redrawArc(le,bn,Wt),O.subchart_show&&d.redrawSubchart&&d.redrawSubchart(wt,l,le,bn,j,W,ut),d.isStanfordGraphType()&&d.drawColorScale(),_.selectAll("."+z.selectedCircles).filter(d.isBarType.bind(d)).selectAll("circle").remove(),a.flow&&(In=d.generateFlow({targets:Jn,flow:a.flow,duration:a.flow.duration,drawBar:He,drawLine:Nn,drawArea:an,cx:lr,cy:ir,xv:Pr,xForText:Le,yForText:De})),le&&d.isTabVisible()?(dr=E.transition().duration(le),cn=[],[d.redrawBar(He,!0,dr),d.redrawLine(Nn,!0,dr),d.redrawArea(an,!0,dr),d.redrawCircle(lr,ir,!0,dr),d.redrawText(Le,De,a.flow,!0,dr),d.redrawRegion(!0,dr),d.redrawGrid(!0,dr)].forEach(function(Vr){Vr.forEach(function(Gi){cn.push(Gi)})}),Gn=d.generateWait(),cn.forEach(function(Vr){Gn.add(Vr)}),Gn(function(){In&&In(),O.onrendered&&O.onrendered.call(d)})):(d.redrawBar(He),d.redrawLine(Nn),d.redrawArea(an),d.redrawCircle(lr,ir),d.redrawText(Le,De,a.flow),d.redrawRegion(),d.redrawGrid(),In&&In(),O.onrendered&&O.onrendered.call(d)),d.mapToIds(d.data.targets).forEach(function(Vr){d.withoutFadeIn[Vr]=!0})},k.prototype.updateAndRedraw=function(a){var _,l=this,d=l.config;(a=a||{}).withTransition=gt(a,"withTransition",!0),a.withTransform=gt(a,"withTransform",!1),a.withLegend=gt(a,"withLegend",!1),a.withUpdateXDomain=gt(a,"withUpdateXDomain",!0),a.withUpdateOrgXDomain=gt(a,"withUpdateOrgXDomain",!0),a.withTransitionForExit=!1,a.withTransitionForTransform=gt(a,"withTransitionForTransform",a.withTransition),l.updateSizes(),a.withLegend&&d.legend_show||(_=l.axis.generateTransitions(a.withTransitionForAxis?d.transition_duration:0),l.updateScales(),l.updateSvgSize(),l.transformAll(a.withTransitionForTransform,_)),l.redraw(a,_)},k.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},k.prototype.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},k.prototype.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},k.prototype.isCustomX=function(){var l=this.config;return!this.isTimeSeries()&&(l.data_x||X(l.data_xs))},k.prototype.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},k.prototype.getTranslate=function(a){var _,E,l=this,d=l.config;return"main"===a?(_=zt(l.margin.left),E=zt(l.margin.top)):"context"===a?(_=zt(l.margin2.left),E=zt(l.margin2.top)):"legend"===a?(_=l.margin3.left,E=l.margin3.top):"x"===a?(_=0,E=d.axis_rotated?0:l.height):"y"===a?(_=0,E=d.axis_rotated?l.height:0):"y2"===a?(_=d.axis_rotated?0:l.width,E=d.axis_rotated?1:0):"subx"===a?(_=0,E=d.axis_rotated?0:l.height2):"arc"===a&&(_=l.arcWidth/2,E=l.arcHeight/2-(l.hasType("gauge")?6:0)),"translate("+_+","+E+")"},k.prototype.initialOpacity=function(a){return null!==a.value&&this.withoutFadeIn[a.id]?1:0},k.prototype.initialOpacityForCircle=function(a){return null!==a.value&&this.withoutFadeIn[a.id]?this.opacityForCircle(a):0},k.prototype.opacityForCircle=function(a){var d=(Tt(this.config.point_show)?this.config.point_show(a):this.config.point_show)||this.isStanfordType(a)?1:0;return K(a.value)?this.isScatterType(a)?.5:d:0},k.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},k.prototype.xx=function(a){return a?this.x(a.x):null},k.prototype.xvCustom=function(a,l){var d=this,_=l?a[l]:a.value;return d.isTimeSeries()?_=d.parseDate(a.value):d.isCategorized()&&"string"==typeof a.value&&(_=d.config.axis_x_categories.indexOf(a.value)),Math.ceil(d.x(_))},k.prototype.yvCustom=function(a,l){return Math.ceil((a.axis&&"y2"===a.axis?this.y2:this.y)(l?a[l]:a.value))},k.prototype.xv=function(a){var l=this,d=a.value;return l.isTimeSeries()?d=l.parseDate(a.value):l.isCategorized()&&"string"==typeof a.value&&(d=l.config.axis_x_categories.indexOf(a.value)),Math.ceil(l.x(d))},k.prototype.yv=function(a){return Math.ceil((a.axis&&"y2"===a.axis?this.y2:this.y)(a.value))},k.prototype.subxx=function(a){return a?this.subX(a.x):null},k.prototype.transformMain=function(a,l){var _,E,O,d=this;l&&l.axisX?_=l.axisX:(_=d.main.select("."+z.axisX),a&&(_=_.transition())),l&&l.axisY?E=l.axisY:(E=d.main.select("."+z.axisY),a&&(E=E.transition())),l&&l.axisY2?O=l.axisY2:(O=d.main.select("."+z.axisY2),a&&(O=O.transition())),(a?d.main.transition():d.main).attr("transform",d.getTranslate("main")),_.attr("transform",d.getTranslate("x")),E.attr("transform",d.getTranslate("y")),O.attr("transform",d.getTranslate("y2")),d.main.select("."+z.chartArcs).attr("transform",d.getTranslate("arc"))},k.prototype.transformAll=function(a,l){var d=this;d.transformMain(a,l),d.config.subchart_show&&d.transformContext(a,l),d.legend&&d.transformLegend(a)},k.prototype.updateSvgSize=function(){var a=this,l=a.svg.select("."+z.brush+" .overlay");a.svg.attr("width",a.currentWidth).attr("height",a.currentHeight),a.svg.selectAll(["#"+a.clipId,"#"+a.clipIdForGrid]).select("rect").attr("width",a.width).attr("height",a.height),a.svg.select("#"+a.clipIdForXAxis).select("rect").attr("x",a.getXAxisClipX.bind(a)).attr("y",a.getXAxisClipY.bind(a)).attr("width",a.getXAxisClipWidth.bind(a)).attr("height",a.getXAxisClipHeight.bind(a)),a.svg.select("#"+a.clipIdForYAxis).select("rect").attr("x",a.getYAxisClipX.bind(a)).attr("y",a.getYAxisClipY.bind(a)).attr("width",a.getYAxisClipWidth.bind(a)).attr("height",a.getYAxisClipHeight.bind(a)),a.svg.select("#"+a.clipIdForSubchart).select("rect").attr("width",a.width).attr("height",l.size()&&l.attr("height")||0),a.selectChart.style("max-height",a.currentHeight+"px")},k.prototype.updateDimension=function(a){var l=this;a||(l.config.axis_rotated?(l.axes.x.call(l.xAxis),l.axes.subx.call(l.subXAxis)):(l.axes.y.call(l.yAxis),l.axes.y2.call(l.y2Axis))),l.updateSizes(),l.updateScales(),l.updateSvgSize(),l.transformAll(!1)},k.prototype.observeInserted=function(a){var d,l=this;typeof MutationObserver>"u"?window.console.error("MutationObserver not defined."):(d=new MutationObserver(function(_){_.forEach(function(E){"childList"===E.type&&E.previousSibling&&(d.disconnect(),l.intervalForObserveInserted=window.setInterval(function(){a.node().parentNode&&(window.clearInterval(l.intervalForObserveInserted),l.updateDimension(),l.brush&&l.brush.update(),l.config.oninit.call(l),l.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),a.transition().style("opacity",1))},10))})})).observe(a.node(),{attributes:!0,childList:!0,characterData:!0})},k.prototype.bindResize=function(){var a=this,l=a.config;a.resizeFunction=a.generateResize(),a.resizeFunction.add(function(){l.onresize.call(a)}),l.resize_auto&&a.resizeFunction.add(function(){void 0!==a.resizeTimeout&&window.clearTimeout(a.resizeTimeout),a.resizeTimeout=window.setTimeout(function(){delete a.resizeTimeout,a.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),a.brush&&a.brush.update()},100)}),a.resizeFunction.add(function(){l.onresized.call(a)}),a.resizeIfElementDisplayed=function(){null==a.api||!a.api.element.offsetParent||a.resizeFunction()},window.addEventListener("resize",a.resizeIfElementDisplayed,!1)},k.prototype.bindWindowFocus=function(){var a=this;this.windowFocusHandler||(this.windowFocusHandler=function(){a.redraw()},window.addEventListener("focus",this.windowFocusHandler))},k.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},k.prototype.generateResize=function(){var a=[];function l(){a.forEach(function(d){d()})}return l.add=function(d){a.push(d)},l.remove=function(d){for(var _=0;_<a.length;_++)if(a[_]===d){a.splice(_,1);break}},l},k.prototype.endall=function(a,l){var d=0;a.each(function(){++d}).on("end",function(){--d||l.apply(this,arguments)})},k.prototype.generateWait=function(){var a=this,l=[],d=function(_){var E=setInterval(function(){if(a.isTabVisible()){var O=0;l.forEach(function(j){if(j.empty())O+=1;else try{j.transition()}catch{O+=1}}),O===l.length&&(clearInterval(E),_&&_())}},50)};return d.add=function(_){l.push(_)},d},k.prototype.parseDate=function(a){var d;return a instanceof Date?d=a:"string"==typeof a?d=this.dataTimeParse(a):("object"==typeof a||"number"==typeof a&&!isNaN(a))&&(d=new Date(+a)),(!d||isNaN(+d))&&window.console.error("Failed to parse x '"+a+"' to Date object"),d},k.prototype.isTabVisible=function(){return!document.hidden},k.prototype.getPathBox=Ot,k.prototype.CLASS=z,"SVGPathSeg"in window||(window.SVGPathSeg=function(a,l,d){this.pathSegType=a,this.pathSegTypeAsLetter=l,this._owningPathSegList=d},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",a)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(a,l,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",a),this._x=l,this._y=d},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(a,l,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",a),this._x=l,this._y=d},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(a,l,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",a),this._x=l,this._y=d},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(a,l,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",a),this._x=l,this._y=d},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(a,l,d,_,E,O,j){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",a),this._x=l,this._y=d,this._x1=_,this._y1=E,this._x2=O,this._y2=j},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(a){this._x1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(a){this._y1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(a){this._y2=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(a,l,d,_,E,O,j){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",a),this._x=l,this._y=d,this._x1=_,this._y1=E,this._x2=O,this._y2=j},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(a){this._x1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(a){this._y1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(a){this._y2=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(a,l,d,_,E){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",a),this._x=l,this._y=d,this._x1=_,this._y1=E},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(a){this._x1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(a){this._y1=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(a,l,d,_,E){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",a),this._x=l,this._y=d,this._x1=_,this._y1=E},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(a){this._x1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(a){this._y1=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(a,l,d,_,E,O,j,W){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",a),this._x=l,this._y=d,this._r1=_,this._r2=E,this._angle=O,this._largeArcFlag=j,this._sweepFlag=W},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(a){this._r1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(a){this._r2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(a){this._angle=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(a){this._largeArcFlag=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(a){this._sweepFlag=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(a,l,d,_,E,O,j,W){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",a),this._x=l,this._y=d,this._r1=_,this._r2=E,this._angle=O,this._largeArcFlag=j,this._sweepFlag=W},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(a){this._r1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(a){this._r2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(a){this._angle=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(a){this._largeArcFlag=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(a){this._sweepFlag=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(a,l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",a),this._x=l},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(a,l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",a),this._x=l},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(a,l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",a),this._y=l},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(a,l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",a),this._y=l},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(a,l,d,_,E){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",a),this._x=l,this._y=d,this._x2=_,this._y2=E},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(a){this._y2=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(a,l,d,_,E){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",a),this._x=l,this._y=d,this._x2=_,this._y2=E},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(a){this._y2=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(a,l,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",a),this._x=l,this._y=d},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(a,l,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",a),this._x=l,this._y=d},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(a,l){return new window.SVGPathSegMovetoAbs(void 0,a,l)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(a,l){return new window.SVGPathSegMovetoRel(void 0,a,l)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(a,l){return new window.SVGPathSegLinetoAbs(void 0,a,l)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(a,l){return new window.SVGPathSegLinetoRel(void 0,a,l)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(a,l,d,_,E,O){return new window.SVGPathSegCurvetoCubicAbs(void 0,a,l,d,_,E,O)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(a,l,d,_,E,O){return new window.SVGPathSegCurvetoCubicRel(void 0,a,l,d,_,E,O)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(a,l,d,_){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,a,l,d,_)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(a,l,d,_){return new window.SVGPathSegCurvetoQuadraticRel(void 0,a,l,d,_)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(a,l,d,_,E,O,j){return new window.SVGPathSegArcAbs(void 0,a,l,d,_,E,O,j)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(a,l,d,_,E,O,j){return new window.SVGPathSegArcRel(void 0,a,l,d,_,E,O,j)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(a){return new window.SVGPathSegLinetoHorizontalAbs(void 0,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(a){return new window.SVGPathSegLinetoHorizontalRel(void 0,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(a){return new window.SVGPathSegLinetoVerticalAbs(void 0,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(a){return new window.SVGPathSegLinetoVerticalRel(void 0,a)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(a,l,d,_){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,a,l,d,_)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(a,l,d,_){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,a,l,d,_)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(a,l){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,a,l)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(a,l){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,a,l)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(a){if(void 0===a||!isFinite(a))throw"Invalid arguments.";var l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("d",this.getAttribute("d"));var d=l.pathSegList.numberOfItems-1;if(d<=0)return 0;do{if(l.pathSegList.removeItem(d),a>l.getTotalLength())break;d--}while(d>0);return d})),"SVGPathSegList"in window||(window.SVGPathSegList=function(a){this._pathElement=a,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(a){if(this._pathElement){var l=!1;a.forEach(function(d){"d"==d.attributeName&&(l=!0)}),l&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(a){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(a){a._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(a){return this._checkPathSynchronizedToList(),this._list=[a],a._owningPathSegList=this,this._writeListToPath(),a},window.SVGPathSegList.prototype._checkValidIndex=function(a){if(isNaN(a)||a<0||a>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(a){return this._checkPathSynchronizedToList(),this._checkValidIndex(a),this._list[a]},window.SVGPathSegList.prototype.insertItemBefore=function(a,l){return this._checkPathSynchronizedToList(),l>this.numberOfItems&&(l=this.numberOfItems),a._owningPathSegList&&(a=a.clone()),this._list.splice(l,0,a),a._owningPathSegList=this,this._writeListToPath(),a},window.SVGPathSegList.prototype.replaceItem=function(a,l){return this._checkPathSynchronizedToList(),a._owningPathSegList&&(a=a.clone()),this._checkValidIndex(l),this._list[l]=a,a._owningPathSegList=this,this._writeListToPath(),a},window.SVGPathSegList.prototype.removeItem=function(a){this._checkPathSynchronizedToList(),this._checkValidIndex(a);var l=this._list[a];return this._list.splice(a,1),this._writeListToPath(),l},window.SVGPathSegList.prototype.appendItem=function(a){return this._checkPathSynchronizedToList(),a._owningPathSegList&&(a=a.clone()),this._list.push(a),a._owningPathSegList=this,this._writeListToPath(),a},window.SVGPathSegList._pathSegArrayAsString=function(a){var l="",d=!0;return a.forEach(function(_){d?(d=!1,l+=_._asPathString()):l+=" "+_._asPathString()}),l},window.SVGPathSegList.prototype._parsePath=function(a){if(!a||0==a.length)return[];var l=this,d=function(){this.pathSegList=[]};d.prototype.appendSegment=function(W){this.pathSegList.push(W)};var _=function(W){this._string=W,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};_.prototype._isCurrentSpace=function(){var W=this._string[this._currentIndex];return W<=" "&&(" "==W||"\n"==W||"\t"==W||"\r"==W||"\f"==W)},_.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},_.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},_.prototype.peekSegmentType=function(){return this._pathSegTypeFromChar(this._string[this._currentIndex])},_.prototype._pathSegTypeFromChar=function(W){switch(W){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},_.prototype._nextCommandHelper=function(W,ut){return("+"==W||"-"==W||"."==W||W>="0"&&W<="9")&&ut!=window.SVGPathSeg.PATHSEG_CLOSEPATH?ut==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:ut==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:ut:window.SVGPathSeg.PATHSEG_UNKNOWN},_.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var W=this.peekSegmentType();return W==window.SVGPathSeg.PATHSEG_MOVETO_ABS||W==window.SVGPathSeg.PATHSEG_MOVETO_REL},_.prototype._parseNumber=function(){var W=0,ut=0,ot=1,wt=0,Lt=1,Ht=1,Ut=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,Lt=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var Wt=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=Wt)for(var de=this._currentIndex-1,ae=1;de>=Wt;)ut+=ae*(this._string.charAt(de--)-"0"),ae*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)ot*=10,wt+=(this._string.charAt(this._currentIndex)-"0")/ot,this._currentIndex+=1}if(this._currentIndex!=Ut&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,Ht=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)W*=10,W+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var Ce=ut+wt;if(Ce*=Lt,W&&(Ce*=Math.pow(10,Ht*W)),Ut!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),Ce}},_.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var W=!1,ut=this._string.charAt(this._currentIndex++);if("0"==ut)W=!1;else{if("1"!=ut)return;W=!0}return this._skipOptionalSpacesOrDelimiter(),W}},_.prototype.parseSegment=function(){var W=this._string[this._currentIndex],ut=this._pathSegTypeFromChar(W);if(ut==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN||(ut=this._nextCommandHelper(W,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=ut,ut){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(l,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(l,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(l,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(l,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(l,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(l,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(l,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(l,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(l);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var ot={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(l,ot.x,ot.y,ot.x1,ot.y1,ot.x2,ot.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return ot={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(l,ot.x,ot.y,ot.x1,ot.y1,ot.x2,ot.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return ot={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(l,ot.x,ot.y,ot.x2,ot.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return ot={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(l,ot.x,ot.y,ot.x2,ot.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return ot={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(l,ot.x,ot.y,ot.x1,ot.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return ot={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(l,ot.x,ot.y,ot.x1,ot.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(l,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(l,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return ot={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(l,ot.x,ot.y,ot.x1,ot.y1,ot.arcAngle,ot.arcLarge,ot.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return ot={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(l,ot.x,ot.y,ot.x1,ot.y1,ot.arcAngle,ot.arcLarge,ot.arcSweep);default:throw"Unknown path seg type."}};var E=new d,O=new _(a);if(!O.initialCommandIsMoveTo())return[];for(;O.hasMoreData();){var j=O.parseSegment();if(!j)return[];E.appendSegment(j)}return E.pathSegList}),String.prototype.padEnd||(String.prototype.padEnd=function(l,d){return l>>=0,d=String(typeof d<"u"?d:" "),this.length>l?String(this):((l-=this.length)>d.length&&(d+=d.repeat(l/d.length)),String(this)+d.slice(0,l))}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(l,d){if(null==l)throw new TypeError("Cannot convert undefined or null to object");for(var _=Object(l),E=1;E<arguments.length;E++){var O=arguments[E];if(null!=O)for(var j in O)Object.prototype.hasOwnProperty.call(O,j)&&(_[j]=O[j])}return _},writable:!0,configurable:!0}),(xt.prototype.axis=function(){}).labels=function(a){var l=this.internal;arguments.length&&(Object.keys(a).forEach(function(d){l.axis.setLabelText(d,a[d])}),l.axis.updateLabels())},xt.prototype.axis.max=function(a){var l=this.internal,d=l.config;if(!arguments.length)return{x:d.axis_x_max,y:d.axis_y_max,y2:d.axis_y2_max};"object"==typeof a?(K(a.x)&&(d.axis_x_max=a.x),K(a.y)&&(d.axis_y_max=a.y),K(a.y2)&&(d.axis_y2_max=a.y2)):d.axis_y_max=d.axis_y2_max=a,l.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},xt.prototype.axis.min=function(a){var l=this.internal,d=l.config;if(!arguments.length)return{x:d.axis_x_min,y:d.axis_y_min,y2:d.axis_y2_min};"object"==typeof a?(K(a.x)&&(d.axis_x_min=a.x),K(a.y)&&(d.axis_y_min=a.y),K(a.y2)&&(d.axis_y2_min=a.y2)):d.axis_y_min=d.axis_y2_min=a,l.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},xt.prototype.axis.range=function(a){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};J(a.max)&&this.axis.max(a.max),J(a.min)&&this.axis.min(a.min)},xt.prototype.axis.types=function(a){var l=this.internal;if(void 0===a)return{y:l.config.axis_y_type,y2:l.config.axis_y2_type};J(a.y)&&(l.config.axis_y_type=a.y),J(a.y2)&&(l.config.axis_y2_type=a.y2),l.updateScales(),l.redraw()},xt.prototype.category=function(a,l){var d=this.internal,_=d.config;return arguments.length>1&&(_.axis_x_categories[a]=l,d.redraw()),_.axis_x_categories[a]},xt.prototype.categories=function(a){var l=this.internal,d=l.config;return arguments.length&&(d.axis_x_categories=a,l.redraw()),d.axis_x_categories},xt.prototype.resize=function(a){var d=this.internal.config;d.size_width=a?a.width:null,d.size_height=a?a.height:null,this.flush()},xt.prototype.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},xt.prototype.destroy=function(){var a=this.internal;return window.clearInterval(a.intervalForObserveInserted),void 0!==a.resizeTimeout&&window.clearTimeout(a.resizeTimeout),window.removeEventListener("resize",a.resizeIfElementDisplayed),a.resizeFunction.remove(),a.unbindWindowFocus(),a.selectChart.classed("c3",!1).html(""),Object.keys(a).forEach(function(l){a[l]=null}),null},xt.prototype.color=function(a){return this.internal.color(a)},(xt.prototype.data=function(a){var l=this.internal.data.targets;return typeof a>"u"?l:l.filter(function(d){return[].concat(a).indexOf(d.id)>=0})}).shown=function(a){return this.internal.filterTargetsToShow(this.data(a))},xt.prototype.data.values=function(a,l){void 0===l&&(l=!0);var d=null;if(a){var _=this.data(a);_&&ht(_)&&(d=_.reduce(function(E,O){var j=O.values.map(function(W){return W.value});return l?E=E.concat(j):E.push(j),E},[]))}return d},xt.prototype.data.names=function(a){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",a)},xt.prototype.data.colors=function(a){return this.internal.updateDataAttributes("colors",a)},xt.prototype.data.axes=function(a){return this.internal.updateDataAttributes("axes",a)},xt.prototype.data.stackNormalized=function(a){if(void 0===a)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!a,this.internal.redraw()},(xt.prototype.donut=function(){}).padAngle=function(a){if(void 0===a)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=a,this.flush()},xt.prototype.flow=function(a){var d,_,W,ut,ot,Ht,Ut,l=this.internal,E=[],O=l.getMaxDataCount(),wt=0,Lt=0;if(a.json)_=l.convertJsonToData(a.json,a.keys);else if(a.rows)_=l.convertRowsToData(a.rows);else{if(!a.columns)return;_=l.convertColumnsToData(a.columns)}d=l.convertDataToTargets(_,!0),l.data.targets.forEach(function(Wt){var ae,Ce,de=!1;for(ae=0;ae<d.length;ae++)if(Wt.id===d[ae].id){for(de=!0,Wt.values[Wt.values.length-1]&&(Lt=Wt.values[Wt.values.length-1].index+1),wt=d[ae].values.length,Ce=0;Ce<wt;Ce++)d[ae].values[Ce].index=Lt+Ce,l.isTimeSeries()||(d[ae].values[Ce].x=Lt+Ce);Wt.values=Wt.values.concat(d[ae].values),d.splice(ae,1);break}de||E.push(Wt.id)}),l.data.targets.forEach(function(Wt){var de,ae;for(de=0;de<E.length;de++)if(Wt.id===E[de])for(Lt=Wt.values[Wt.values.length-1].index+1,ae=0;ae<wt;ae++)Wt.values.push({id:Wt.id,index:Lt+ae,x:l.isTimeSeries()?l.getOtherTargetX(Lt+ae):Lt+ae,value:null})}),l.data.targets.length&&d.forEach(function(Wt){var de,ae=[];for(de=l.data.targets[0].values[0].index;de<Lt;de++)ae.push({id:Wt.id,index:de,x:l.isTimeSeries()?l.getOtherTargetX(de):de,value:null});Wt.values.forEach(function(Ce){Ce.index+=Lt,l.isTimeSeries()||(Ce.x+=Lt)}),Wt.values=ae.concat(Wt.values)}),l.data.targets=l.data.targets.concat(d),l.getMaxDataCount(),ot=(ut=l.data.targets[0]).values[0],J(a.to)?(wt=0,Ut=l.isTimeSeries()?l.parseDate(a.to):a.to,ut.values.forEach(function(Wt){Wt.x<Ut&&wt++})):J(a.length)&&(wt=a.length),O?1===O&&l.isTimeSeries()&&(Ht=(ut.values[ut.values.length-1].x-ot.x)/2,W=[new Date(+ot.x-Ht),new Date(+ot.x+Ht)],l.updateXDomain(null,!0,!0,!1,W)):(Ht=l.isTimeSeries()?ut.values.length>1?ut.values[ut.values.length-1].x-ot.x:ot.x-l.getXDomain(l.data.targets)[0]:1,l.updateXDomain(null,!0,!0,!1,W=[ot.x-Ht,ot.x])),l.updateTargets(l.data.targets),l.redraw({flow:{index:ot.index,length:wt,duration:K(a.duration)?a.duration:l.config.transition_duration,done:a.done,orgDataCount:O},withLegend:!0,withTransition:O>1,withTrimXDomain:!1,withUpdateXAxis:!0})},k.prototype.generateFlow=function(a){var l=this,d=l.config,_=l.d3;return function(){var de,Ce,an,De,le,bn,Sn,cn,Gn,In,dr,E=a.targets,O=a.flow,j=a.drawBar,W=a.drawLine,ut=a.drawArea,ot=a.cx,wt=a.cy,Lt=a.xv,Ht=a.xForText,Ut=a.yForText,Wt=a.duration,Ue=O.index,nn=O.length,yn=l.getValueOnIndex(l.data.targets[0].values,Ue),on=l.getValueOnIndex(l.data.targets[0].values,Ue+nn),dn=l.x.domain(),He=O.duration||Wt,Nn=O.done||function(){},Le=l.generateWait();l.flowing=!0,l.data.targets.forEach(function(_e){_e.values.splice(0,nn)}),an=l.updateXDomain(E,!0,!0),l.updateXGrid&&l.updateXGrid(!0),De=l.xgrid||_.selectAll([]),le=l.xgridLines||_.selectAll([]),bn=l.mainRegion||_.selectAll([]),Sn=l.mainText||_.selectAll([]),cn=l.mainBar||_.selectAll([]),Gn=l.mainLine||_.selectAll([]),In=l.mainArea||_.selectAll([]),dr=l.mainCircle||_.selectAll([]),O.orgDataCount?de=1===O.orgDataCount||(yn&&yn.x)===(on&&on.x)||l.isTimeSeries()?l.x(dn[0])-l.x(an[0]):l.x(yn.x)-l.x(on.x):1!==l.data.targets[0].values.length?de=l.x(dn[0])-l.x(an[0]):l.isTimeSeries()?(yn=l.getValueOnIndex(l.data.targets[0].values,0),on=l.getValueOnIndex(l.data.targets[0].values,l.data.targets[0].values.length-1),de=l.x(yn.x)-l.x(on.x)):de=Rt(an)/2,Ce="translate("+de+",0) scale("+Rt(dn)/Rt(an)+",1)",l.hideXGridFocus();var Jn=_.transition().ease(_.easeLinear).duration(He);Le.add(l.xAxis(l.axes.x,Jn)),Le.add(cn.transition(Jn).attr("transform",Ce)),Le.add(Gn.transition(Jn).attr("transform",Ce)),Le.add(In.transition(Jn).attr("transform",Ce)),Le.add(dr.transition(Jn).attr("transform",Ce)),Le.add(Sn.transition(Jn).attr("transform",Ce)),Le.add(bn.filter(l.isRegionOnX).transition(Jn).attr("transform",Ce)),Le.add(De.transition(Jn).attr("transform",Ce)),Le.add(le.transition(Jn).attr("transform",Ce)),Le(function(){var _e,We=[],Dr=[];if(nn){for(_e=0;_e<nn;_e++)We.push("."+z.shape+"-"+(Ue+_e)),Dr.push("."+z.text+"-"+(Ue+_e));l.svg.selectAll("."+z.shapes).selectAll(We).remove(),l.svg.selectAll("."+z.texts).selectAll(Dr).remove(),l.svg.select("."+z.xgrid).remove()}De.attr("transform",null).attr("x1",l.xgridAttr.x1).attr("x2",l.xgridAttr.x2).attr("y1",l.xgridAttr.y1).attr("y2",l.xgridAttr.y2).style("opacity",l.xgridAttr.opacity),le.attr("transform",null),le.select("line").attr("x1",d.axis_rotated?0:Lt).attr("x2",d.axis_rotated?l.width:Lt),le.select("text").attr("x",d.axis_rotated?l.width:0).attr("y",Lt),cn.attr("transform",null).attr("d",j),Gn.attr("transform",null).attr("d",W),In.attr("transform",null).attr("d",ut),dr.attr("transform",null).attr("cx",ot).attr("cy",wt),Sn.attr("transform",null).attr("x",Ht).attr("y",Ut).style("fill-opacity",l.opacityForText.bind(l)),bn.attr("transform",null),bn.filter(l.isRegionOnX).attr("x",l.regionX.bind(l)).attr("width",l.regionWidth.bind(l)),Nn(),l.flowing=!1})}},xt.prototype.focus=function(a){var d,l=this.internal;a=l.mapToTargetIds(a),d=l.svg.selectAll(l.selectorTargets(a.filter(l.isTargetToShow,l))),this.revert(),this.defocus(),d.classed(z.focused,!0).classed(z.defocused,!1),l.hasArcType()&&l.expandArc(a),l.toggleFocusLegend(a,!0),l.focusedTargetIds=a,l.defocusedTargetIds=l.defocusedTargetIds.filter(function(_){return a.indexOf(_)<0})},xt.prototype.defocus=function(a){var l=this.internal;a=l.mapToTargetIds(a),l.svg.selectAll(l.selectorTargets(a.filter(l.isTargetToShow,l))).classed(z.focused,!1).classed(z.defocused,!0),l.hasArcType()&&l.unexpandArc(a),l.toggleFocusLegend(a,!1),l.focusedTargetIds=l.focusedTargetIds.filter(function(_){return a.indexOf(_)<0}),l.defocusedTargetIds=a},xt.prototype.revert=function(a){var l=this.internal;a=l.mapToTargetIds(a),l.svg.selectAll(l.selectorTargets(a)).classed(z.focused,!1).classed(z.defocused,!1),l.hasArcType()&&l.unexpandArc(a),l.config.legend_show&&(l.showLegend(a.filter(l.isLegendToShow.bind(l))),l.legend.selectAll(l.selectorLegends(a)).filter(function(){return l.d3.select(this).classed(z.legendItemFocused)}).classed(z.legendItemFocused,!1)),l.focusedTargetIds=[],l.defocusedTargetIds=[]},(xt.prototype.xgrids=function(a){var l=this.internal,d=l.config;return a&&(d.grid_x_lines=a,l.redrawWithoutRescale()),d.grid_x_lines}).add=function(a){return this.xgrids(this.internal.config.grid_x_lines.concat(a||[]))},xt.prototype.xgrids.remove=function(a){this.internal.removeGridLines(a,!0)},(xt.prototype.ygrids=function(a){var l=this.internal,d=l.config;return a&&(d.grid_y_lines=a,l.redrawWithoutRescale()),d.grid_y_lines}).add=function(a){return this.ygrids(this.internal.config.grid_y_lines.concat(a||[]))},xt.prototype.ygrids.remove=function(a){this.internal.removeGridLines(a,!1)},xt.prototype.groups=function(a){var l=this.internal,d=l.config;return q(a)||(d.data_groups=a,l.redraw()),d.data_groups},(xt.prototype.legend=function(){}).show=function(a){var l=this.internal;l.showLegend(l.mapToTargetIds(a)),l.updateAndRedraw({withLegend:!0})},xt.prototype.legend.hide=function(a){var l=this.internal;l.hideLegend(l.mapToTargetIds(a)),l.updateAndRedraw({withLegend:!1})},xt.prototype.load=function(a){var l=this.internal,d=l.config;a.xs&&l.addXs(a.xs),"names"in a&&xt.prototype.data.names.bind(this)(a.names),"classes"in a&&Object.keys(a.classes).forEach(function(_){d.data_classes[_]=a.classes[_]}),"categories"in a&&l.isCategorized()&&(d.axis_x_categories=a.categories),"axes"in a&&Object.keys(a.axes).forEach(function(_){d.data_axes[_]=a.axes[_]}),"colors"in a&&Object.keys(a.colors).forEach(function(_){d.data_colors[_]=a.colors[_]}),"cacheIds"in a&&l.hasCaches(a.cacheIds)?l.load(l.getCaches(a.cacheIds),a.done):a.unload?l.unload(l.mapToTargetIds(!0===a.unload?null:a.unload),function(){l.loadFromArgs(a)}):l.loadFromArgs(a)},xt.prototype.unload=function(a){var l=this.internal;(a=a||{})instanceof Array?a={ids:a}:"string"==typeof a&&(a={ids:[a]}),l.unload(l.mapToTargetIds(a.ids),function(){l.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),a.done&&a.done()})},(xt.prototype.pie=function(){}).padAngle=function(a){if(void 0===a)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=a,this.flush()},(xt.prototype.regions=function(a){var l=this.internal,d=l.config;return a&&(d.regions=a,l.redrawWithoutRescale()),d.regions}).add=function(a){var l=this.internal,d=l.config;return a&&(d.regions=d.regions.concat(a),l.redrawWithoutRescale()),d.regions},xt.prototype.regions.remove=function(a){var _,E,O,l=this.internal,d=l.config;return _=gt(a=a||{},"duration",d.transition_duration),E=gt(a,"classes",[z.region]),O=l.main.select("."+z.regions).selectAll(E.map(function(j){return"."+j})),(_?O.transition().duration(_):O).style("opacity",0).remove(),d.regions=d.regions.filter(function(j){var W=!1;return!j.class||(j.class.split(" ").forEach(function(ut){E.indexOf(ut)>=0&&(W=!0)}),!W)}),d.regions},xt.prototype.selected=function(a){var l=this.internal,d=l.d3;return l.main.selectAll("."+z.shapes+l.getTargetSelectorSuffix(a)).selectAll("."+z.shape).filter(function(){return d.select(this).classed(z.SELECTED)}).nodes().map(function(_){var E=_.__data__;return E.data?E.data:E})},xt.prototype.select=function(a,l,d){var _=this.internal,E=_.d3,O=_.config;O.data_selection_enabled&&_.main.selectAll("."+z.shapes).selectAll("."+z.shape).each(function(j,W){var ut=E.select(this),ot=j.data?j.data.id:j.id,wt=_.getToggle(this,j).bind(_),Lt=O.data_selection_grouped||!a||a.indexOf(ot)>=0,Ht=!l||l.indexOf(W)>=0,Ut=ut.classed(z.SELECTED);ut.classed(z.line)||ut.classed(z.area)||(Lt&&Ht?O.data_selection_isselectable(j)&&!Ut&&wt(!0,ut.classed(z.SELECTED,!0),j,W):J(d)&&d&&Ut&&wt(!1,ut.classed(z.SELECTED,!1),j,W))})},xt.prototype.unselect=function(a,l){var d=this.internal,_=d.d3,E=d.config;E.data_selection_enabled&&d.main.selectAll("."+z.shapes).selectAll("."+z.shape).each(function(O,j){var W=_.select(this),ut=O.data?O.data.id:O.id,ot=d.getToggle(this,O).bind(d),wt=E.data_selection_grouped||!a||a.indexOf(ut)>=0,Lt=!l||l.indexOf(j)>=0,Ht=W.classed(z.SELECTED);W.classed(z.line)||W.classed(z.area)||wt&&Lt&&E.data_selection_isselectable(O)&&Ht&&ot(!1,W.classed(z.SELECTED,!1),O,j)})},xt.prototype.show=function(a,l){var _,d=this.internal;a=d.mapToTargetIds(a),l=l||{},d.removeHiddenTargetIds(a),(_=d.svg.selectAll(d.selectorTargets(a))).transition().style("display",bt()?"block":"initial","important").style("opacity",1,"important").call(d.endall,function(){_.style("opacity",null).style("opacity",1)}),l.withLegend&&d.showLegend(a),d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},xt.prototype.hide=function(a,l){var _,d=this.internal;a=d.mapToTargetIds(a),l=l||{},d.addHiddenTargetIds(a),(_=d.svg.selectAll(d.selectorTargets(a))).transition().style("opacity",0,"important").call(d.endall,function(){_.style("opacity",null).style("opacity",0),_.style("display","none")}),l.withLegend&&d.hideLegend(a),d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},xt.prototype.toggle=function(a,l){var d=this,_=this.internal;_.mapToTargetIds(a).forEach(function(E){_.isTargetToShow(E)?d.hide(E,l):d.show(E,l)})},(xt.prototype.subchart=function(){}).isShown=function(){return this.internal.config.subchart_show},xt.prototype.subchart.show=function(){var a=this.internal;a.config.subchart_show||(a.config.subchart_show=!0,a.initSubchart(),a.updateDimension(),a.initSubchartBrush(),a.updateTargetsForSubchart(a.getTargets()),a.mapToIds(a.data.targets).forEach(function(l){a.withoutFadeIn[l]=!1}),a.updateAndRedraw(),a.showTargets())},xt.prototype.subchart.hide=function(){var a=this.internal;a.config.subchart_show&&(a.config.subchart_show=!1,a.removeSubchart(),a.redraw())},(xt.prototype.tooltip=function(){}).show=function(a){var d,_,l=this.internal,E={};a.mouse?E=a.mouse:(a.data?_=a.data:typeof a.x<"u"&&(d=a.id?l.data.targets.filter(function(O){return O.id===a.id}):l.data.targets,_=l.filterByX(d,a.x).slice(0,1)[0]),E=_?l.getMousePosition(_):null),l.dispatchEvent("mousemove",E),l.config.tooltip_onshow.call(l,_)},xt.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},xt.prototype.transform=function(a,l){var d=this.internal,_=["pie","donut"].indexOf(a)>=0?{withTransform:!0}:null;d.transformTo(l,a,_)},k.prototype.transformTo=function(a,l,d){var _=this,E=!_.hasArcType(),O=d||{withTransitionForAxis:E};O.withTransitionForTransform=!1,_.transiting=!1,_.setTargetType(a,l),_.updateTargets(_.data.targets),_.updateAndRedraw(O)},xt.prototype.x=function(a){var l=this.internal;return arguments.length&&(l.updateTargetX(l.data.targets,a),l.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),l.data.xs},xt.prototype.xs=function(a){var l=this.internal;return arguments.length&&(l.updateTargetXs(l.data.targets,a),l.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),l.data.xs},(xt.prototype.zoom=function(a){var l=this.internal;return a?(l.isTimeSeries()&&(a=a.map(function(d){return l.parseDate(d)})),l.config.subchart_show?l.brush.selectionAsValue(a,!0):(l.updateXDomain(null,!0,!1,!1,a),l.redraw({withY:l.config.zoom_rescale,withSubchart:!1})),l.config.zoom_onzoom.call(this,l.x.orgDomain()),a):l.x.domain()}).enable=function(a){var l=this.internal;l.config.zoom_enabled=a,l.updateAndRedraw()},xt.prototype.unzoom=function(){var a=this.internal;a.config.subchart_show?a.brush.clear():(a.updateXDomain(null,!0,!1,!1,a.subX.domain()),a.redraw({withY:a.config.zoom_rescale,withSubchart:!1}))},xt.prototype.zoom.max=function(a){var l=this.internal,d=l.config;if(0!==a&&!a)return d.zoom_x_max;d.zoom_x_max=l.d3.max([l.orgXDomain[1],a])},xt.prototype.zoom.min=function(a){var l=this.internal,d=l.config;if(0!==a&&!a)return d.zoom_x_min;d.zoom_x_min=l.d3.min([l.orgXDomain[0],a])},xt.prototype.zoom.range=function(a){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};J(a.max)&&this.domain.max(a.max),J(a.min)&&this.domain.min(a.min)},k.prototype.initPie=function(){var a=this;a.pie=a.d3.pie().padAngle(this.getPadAngle.bind(this)).value(function(E){return E.values.reduce(function(O,j){return O+j.value},0)});var d=a.getOrderFunction();if(d&&(a.isOrderAsc()||a.isOrderDesc())){var _=d;d=function(E,O){return-1*_(E,O)}}a.pie.sort(d||null)},k.prototype.updateRadius=function(){var a=this,l=a.config,d=l.gauge_width||l.donut_width,_=a.filterTargetsToShow(a.data.targets).length*a.config.gauge_arcs_minWidth;a.radiusExpanded=Math.min(a.arcWidth,a.arcHeight)/2*(a.hasType("gauge")?.85:1),a.radius=.95*a.radiusExpanded,a.innerRadiusRatio=d?(a.radius-d)/a.radius:.6,a.innerRadius=a.hasType("donut")||a.hasType("gauge")?a.radius*a.innerRadiusRatio:0,a.gaugeArcWidth=d||(_<=a.radius-a.innerRadius?a.radius-a.innerRadius:_<=a.radius?_:a.radius)},k.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},k.prototype.updateArc=function(){var a=this;a.svgArc=a.getSvgArc(),a.svgArcExpanded=a.getSvgArcExpanded(),a.svgArcExpandedSub=a.getSvgArcExpanded(.98)},k.prototype.updateAngle=function(a){var O,j,W,ut,l=this,d=l.config,_=!1,E=0;return d?(l.pie(l.filterTargetsToShow(l.data.targets)).forEach(function(ot){!_&&ot.data.id===a.data.id&&(_=!0,(a=ot).index=E),E++}),isNaN(a.startAngle)&&(a.startAngle=0),isNaN(a.endAngle)&&(a.endAngle=a.startAngle),l.isGaugeType(a.data)&&(O=d.gauge_min,j=d.gauge_max,W=Math.PI*(d.gauge_fullCircle?2:1)/(j-O),ut=a.value<O?0:a.value<j?a.value-O:j-O,a.startAngle=d.gauge_startingAngle,a.endAngle=a.startAngle+W*ut),_?a:null):null},k.prototype.getSvgArc=function(){var a=this,l=a.hasType("gauge"),d=a.gaugeArcWidth/a.filterTargetsToShow(a.data.targets).length,_=a.d3.arc().outerRadius(function(O){return l?a.radius-d*O.index:a.radius}).innerRadius(function(O){return l?a.radius-d*(O.index+1):a.innerRadius}),E=function(O,j){var W;return j?_(O):(W=a.updateAngle(O))?_(W):"M 0 0"};return E.centroid=_.centroid,E},k.prototype.getSvgArcExpanded=function(a){a=a||1;var l=this,d=l.hasType("gauge"),_=l.gaugeArcWidth/l.filterTargetsToShow(l.data.targets).length,E=Math.min(l.radiusExpanded*a-l.radius,.8*_-100*(1-a)),O=l.d3.arc().outerRadius(function(j){return d?l.radius-_*j.index+E:l.radiusExpanded*a}).innerRadius(function(j){return d?l.radius-_*(j.index+1):l.innerRadius});return function(j){var W=l.updateAngle(j);return W?O(W):"M 0 0"}},k.prototype.getArc=function(a,l,d){return d||this.isArcType(a.data)?this.svgArc(a,l):"M 0 0"},k.prototype.transformForArcLabel=function(a){var E,O,j,W,ut,l=this,d=l.config,_=l.updateAngle(a),ot="",wt=l.hasType("gauge");if(_&&!wt)E=this.svgArc.centroid(_),O=isNaN(E[0])?0:E[0],j=isNaN(E[1])?0:E[1],W=Math.sqrt(O*O+j*j),ot="translate("+O*(ut=l.hasType("donut")&&d.donut_label_ratio?Tt(d.donut_label_ratio)?d.donut_label_ratio(a,l.radius,W):d.donut_label_ratio:l.hasType("pie")&&d.pie_label_ratio?Tt(d.pie_label_ratio)?d.pie_label_ratio(a,l.radius,W):d.pie_label_ratio:l.radius&&W?(36/l.radius>.375?1.175-36/l.radius:.8)*l.radius/W:0)+","+j*ut+")";else if(_&&wt&&l.filterTargetsToShow(l.data.targets).length>1){var Lt=Math.sin(_.endAngle-Math.PI/2);ot="translate("+(O=Math.cos(_.endAngle-Math.PI/2)*(l.radiusExpanded+25))+","+(j=Lt*(l.radiusExpanded+15-Math.abs(10*Lt))+3)+")"}return ot},k.prototype.getArcRatio=function(a){return this.getRatio("arc",a)},k.prototype.convertToArcData=function(a){return this.addName({id:a.data.id,value:a.value,ratio:this.getRatio("arc",a),index:a.index})},k.prototype.textForArcLabel=function(a){var d,_,E,O,j,l=this;return l.shouldShowArcLabel()&&(_=(d=l.updateAngle(a))?d.value:null,E=l.getRatio("arc",d),O=a.data.id,l.hasType("gauge")||l.meetsArcLabelThreshold(E))?(j=l.getArcLabelFormat())?j(_,E,O):l.defaultArcValueFormat(_,E):""},k.prototype.textForGaugeMinMax=function(a,l){var _=this.getGaugeLabelExtents();return _?_(a,l):a},k.prototype.expandArc=function(a){var d,l=this;l.transiting?d=window.setInterval(function(){l.transiting||(window.clearInterval(d),l.legend.selectAll(".c3-legend-item-focused").size()>0&&l.expandArc(a))},10):(a=l.mapToTargetIds(a),l.svg.selectAll(l.selectorTargets(a,"."+z.chartArc)).each(function(_){l.shouldExpand(_.data.id)&&l.d3.select(this).selectAll("path").transition().duration(l.expandDuration(_.data.id)).attr("d",l.svgArcExpanded).transition().duration(2*l.expandDuration(_.data.id)).attr("d",l.svgArcExpandedSub).each(function(E){l.isDonutType(E.data)})}))},k.prototype.unexpandArc=function(a){var l=this;l.transiting||(a=l.mapToTargetIds(a),l.svg.selectAll(l.selectorTargets(a,"."+z.chartArc)).selectAll("path").transition().duration(function(d){return l.expandDuration(d.data.id)}).attr("d",l.svgArc),l.svg.selectAll("."+z.arc))},k.prototype.expandDuration=function(a){var l=this,d=l.config;return l.isDonutType(a)?d.donut_expand_duration:l.isGaugeType(a)?d.gauge_expand_duration:l.isPieType(a)?d.pie_expand_duration:50},k.prototype.shouldExpand=function(a){var l=this,d=l.config;return l.isDonutType(a)&&d.donut_expand||l.isGaugeType(a)&&d.gauge_expand||l.isPieType(a)&&d.pie_expand},k.prototype.shouldShowArcLabel=function(){var a=this,l=a.config,d=!0;return a.hasType("donut")?d=l.donut_label_show:a.hasType("pie")&&(d=l.pie_label_show),d},k.prototype.meetsArcLabelThreshold=function(a){var d=this.config;return a>=(this.hasType("donut")?d.donut_label_threshold:d.pie_label_threshold)},k.prototype.getArcLabelFormat=function(){var a=this,l=a.config,d=l.pie_label_format;return a.hasType("gauge")?d=l.gauge_label_format:a.hasType("donut")&&(d=l.donut_label_format),d},k.prototype.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},k.prototype.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""},k.prototype.updateTargetsForArc=function(a){var E,l=this,d=l.main,O=l.classChartArc.bind(l),j=l.classArcs.bind(l),W=l.classFocus.bind(l);(E=d.select("."+z.chartArcs).selectAll("."+z.chartArc).data(l.pie(a)).attr("class",function(ut){return O(ut)+W(ut.data)}).enter().append("g").attr("class",O)).append("g").attr("class",j),E.append("text").attr("dy",l.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},k.prototype.initArc=function(){var a=this;a.arcs=a.main.select("."+z.chart).append("g").attr("class",z.chartArcs).attr("transform",a.getTranslate("arc")),a.arcs.append("text").attr("class",z.chartArcsTitle).style("text-anchor","middle").text(a.getArcTitle())},k.prototype.redrawArc=function(a,l,d){var W,ut,ot,wt,_=this,E=_.d3,O=_.config,j=_.main,Lt=_.hasType("gauge");if(ut=(W=j.selectAll("."+z.arcs).selectAll("."+z.arc).data(_.arcData.bind(_))).enter().append("path").attr("class",_.classArc.bind(_)).style("fill",function(Wt){return _.color(Wt.data)}).style("cursor",function(Wt){return O.interaction_enabled&&O.data_selection_isselectable(Wt)?"pointer":null}).each(function(Wt){_.isGaugeType(Wt.data)&&(Wt.startAngle=Wt.endAngle=O.gauge_startingAngle),this._current=Wt}).merge(W),Lt&&(wt=(ot=j.selectAll("."+z.arcs).selectAll("."+z.arcLabelLine).data(_.arcData.bind(_))).enter().append("rect").attr("class",function(Wt){return z.arcLabelLine+" "+z.target+" "+z.target+"-"+Wt.data.id}).merge(ot),1===_.filterTargetsToShow(_.data.targets).length?wt.style("display","none"):wt.style("fill",function(Wt){return _.levelColor?_.levelColor(Wt.data.values.reduce(function(de,ae){return de+ae.value},0)):_.color(Wt.data)}).style("display",O.gauge_labelLine_show?"":"none").each(function(Wt){var de=0,Ce=0,Ue=0,nn="";if(_.hiddenTargetIds.indexOf(Wt.data.id)<0){var yn=_.updateAngle(Wt),on=_.gaugeArcWidth/_.filterTargetsToShow(_.data.targets).length*(yn.index+1),dn=yn.endAngle-Math.PI/2,an=_.radius-on,He=dn-(0===an?0:1/an);de=_.radiusExpanded-_.radius+on,Ce=Math.cos(He)*an,Ue=Math.sin(He)*an,nn="rotate("+180*dn/Math.PI+", "+Ce+", "+Ue+")"}E.select(this).attr("x",Ce).attr("y",Ue).attr("width",de).attr("height",2).attr("transform",nn).style("stroke-dasharray","0, "+(de+2)+", 0")})),ut.attr("transform",function(Wt){return!_.isGaugeType(Wt.data)&&d?"scale(0)":""}).on("mouseover",O.interaction_enabled?function(Wt){var de,ae;_.transiting||(de=_.updateAngle(Wt))&&(ae=_.convertToArcData(de),_.expandArc(de.data.id),_.api.focus(de.data.id),_.toggleFocusLegend(de.data.id,!0),_.config.data_onmouseover(ae,this))}:null).on("mousemove",O.interaction_enabled?function(Wt){var ae,de=_.updateAngle(Wt);de&&(ae=_.convertToArcData(de),_.showTooltip([ae],this))}:null).on("mouseout",O.interaction_enabled?function(Wt){var de,ae;_.transiting||(de=_.updateAngle(Wt))&&(ae=_.convertToArcData(de),_.unexpandArc(de.data.id),_.api.revert(),_.revertLegend(),_.hideTooltip(),_.config.data_onmouseout(ae,this))}:null).on("click",O.interaction_enabled?function(Wt,de){var Ce,ae=_.updateAngle(Wt);ae&&(Ce=_.convertToArcData(ae),_.toggleShape&&_.toggleShape(this,Ce,de),_.config.data_onclick.call(_.api,Ce,this))}:null).each(function(){_.transiting=!0}).transition().duration(a).attrTween("d",function(Wt){var ae,de=_.updateAngle(Wt);return de?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),ae=E.interpolate(this._current,de),this._current=ae(0),function(Ce){if(null===_.config)return"M 0 0";var Ue=ae(Ce);return Ue.data=Wt.data,_.getArc(Ue,!0)}):function(){return"M 0 0"}}).attr("transform",d?"scale(1)":"").style("fill",function(Wt){return _.levelColor?_.levelColor(Wt.data.values.reduce(function(de,ae){return de+ae.value},0)):_.color(Wt.data.id)}).call(_.endall,function(){_.transiting=!1}),W.exit().transition().duration(l).style("opacity",0).remove(),j.selectAll("."+z.chartArc).select("text").style("opacity",0).attr("class",function(Wt){return _.isGaugeType(Wt.data)?z.gaugeValue:""}).text(_.textForArcLabel.bind(_)).attr("transform",_.transformForArcLabel.bind(_)).style("font-size",function(Wt){return _.isGaugeType(Wt.data)&&1===_.filterTargetsToShow(_.data.targets).length?Math.round(_.radius/5)+"px":""}).transition().duration(a).style("opacity",function(Wt){return _.isTargetToShow(Wt.data.id)&&_.isArcType(Wt.data)?1:0}),j.select("."+z.chartArcsTitle).style("opacity",_.hasType("donut")||Lt?1:0),Lt){var Ht=0,Ut=_.arcs.select("g."+z.chartArcsBackground).selectAll("path."+z.chartArcsBackground).data(_.data.targets);Ut.enter().append("path").attr("class",function(Wt,de){return z.chartArcsBackground+" "+z.chartArcsBackground+"-"+de}).merge(Ut).attr("d",function(Wt){if(_.hiddenTargetIds.indexOf(Wt.id)>=0)return"M 0 0";var de={data:[{value:O.gauge_max}],startAngle:O.gauge_startingAngle,endAngle:-1*O.gauge_startingAngle*(O.gauge_fullCircle?Math.PI:1),index:Ht++};return _.getArc(de,!0,!0)}),Ut.exit().remove(),_.arcs.select("."+z.chartArcsGaugeUnit).attr("dy",".75em").text(O.gauge_label_show?O.gauge_units:""),_.arcs.select("."+z.chartArcsGaugeMin).attr("dx",-1*(_.innerRadius+(_.radius-_.innerRadius)/(O.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(O.gauge_label_show?_.textForGaugeMinMax(O.gauge_min,!1):""),_.arcs.select("."+z.chartArcsGaugeMax).attr("dx",_.innerRadius+(_.radius-_.innerRadius)/(O.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(O.gauge_label_show?_.textForGaugeMinMax(O.gauge_max,!0):"")}},k.prototype.initGauge=function(){var a=this.arcs;this.hasType("gauge")&&(a.append("g").attr("class",z.chartArcsBackground),a.append("text").attr("class",z.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),a.append("text").attr("class",z.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),a.append("text").attr("class",z.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},k.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},k.prototype.addToCache=function(a,l){this.cache["$"+a]=l},k.prototype.getFromCache=function(a){return this.cache["$"+a]},k.prototype.resetCache=function(){var a=this;Object.keys(this.cache).filter(function(l){return/^\$/.test(l)}).forEach(function(l){delete a.cache[l]})},k.prototype.hasCaches=function(a){for(var l=0;l<a.length;l++)if(!(a[l]in this.cache))return!1;return!0},k.prototype.addCache=function(a,l){this.cache[a]=this.cloneTarget(l)},k.prototype.getCaches=function(a){var d,l=[];for(d=0;d<a.length;d++)a[d]in this.cache&&l.push(this.cloneTarget(this.cache[a[d]]));return l},k.prototype.categoryName=function(a){var l=this.config;return a<l.axis_x_categories.length?l.axis_x_categories[a]:a},k.prototype.generateTargetClass=function(a){return a||0===a?("-"+a).replace(/\s/g,"-"):""},k.prototype.generateClass=function(a,l){return" "+a+" "+a+this.generateTargetClass(l)},k.prototype.classText=function(a){return this.generateClass(z.text,a.index)},k.prototype.classTexts=function(a){return this.generateClass(z.texts,a.id)},k.prototype.classShape=function(a){return this.generateClass(z.shape,a.index)},k.prototype.classShapes=function(a){return this.generateClass(z.shapes,a.id)},k.prototype.classLine=function(a){return this.classShape(a)+this.generateClass(z.line,a.id)},k.prototype.classLines=function(a){return this.classShapes(a)+this.generateClass(z.lines,a.id)},k.prototype.classCircle=function(a){return this.classShape(a)+this.generateClass(z.circle,a.index)},k.prototype.classCircles=function(a){return this.classShapes(a)+this.generateClass(z.circles,a.id)},k.prototype.classBar=function(a){return this.classShape(a)+this.generateClass(z.bar,a.index)},k.prototype.classBars=function(a){return this.classShapes(a)+this.generateClass(z.bars,a.id)},k.prototype.classArc=function(a){return this.classShape(a.data)+this.generateClass(z.arc,a.data.id)},k.prototype.classArcs=function(a){return this.classShapes(a.data)+this.generateClass(z.arcs,a.data.id)},k.prototype.classArea=function(a){return this.classShape(a)+this.generateClass(z.area,a.id)},k.prototype.classAreas=function(a){return this.classShapes(a)+this.generateClass(z.areas,a.id)},k.prototype.classRegion=function(a,l){return this.generateClass(z.region,l)+" "+("class"in a?a.class:"")},k.prototype.classEvent=function(a){return this.generateClass(z.eventRect,a.index)},k.prototype.classTarget=function(a){var d=this.config.data_classes[a],_="";return d&&(_=" "+z.target+"-"+d),this.generateClass(z.target,a)+_},k.prototype.classFocus=function(a){return this.classFocused(a)+this.classDefocused(a)},k.prototype.classFocused=function(a){return" "+(this.focusedTargetIds.indexOf(a.id)>=0?z.focused:"")},k.prototype.classDefocused=function(a){return" "+(this.defocusedTargetIds.indexOf(a.id)>=0?z.defocused:"")},k.prototype.classChartText=function(a){return z.chartText+this.classTarget(a.id)},k.prototype.classChartLine=function(a){return z.chartLine+this.classTarget(a.id)},k.prototype.classChartBar=function(a){return z.chartBar+this.classTarget(a.id)},k.prototype.classChartArc=function(a){return z.chartArc+this.classTarget(a.data.id)},k.prototype.getTargetSelectorSuffix=function(a){var l=this.generateTargetClass(a);return window.CSS&&window.CSS.escape?window.CSS.escape(l):l.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},k.prototype.selectorTarget=function(a,l){return(l||"")+"."+z.target+this.getTargetSelectorSuffix(a)},k.prototype.selectorTargets=function(a,l){var d=this;return(a=a||[]).length?a.map(function(_){return d.selectorTarget(_,l)}):null},k.prototype.selectorLegend=function(a){return"."+z.legendItem+this.getTargetSelectorSuffix(a)},k.prototype.selectorLegends=function(a){var l=this;return a&&a.length?a.map(function(d){return l.selectorLegend(d)}):null},k.prototype.getClipPath=function(a){return"url("+(bt(9)?"":document.URL.split("#")[0])+"#"+a+")"},k.prototype.appendClip=function(a,l){return a.append("clipPath").attr("id",l).append("rect")},k.prototype.getAxisClipX=function(a){var l=Math.max(30,this.margin.left);return a?-(1+l):-(l-1)},k.prototype.getAxisClipY=function(a){return a?-20:-this.margin.top},k.prototype.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)},k.prototype.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)},k.prototype.getYAxisClipX=function(){var a=this;return a.config.axis_y_inner?-1:a.getAxisClipX(a.config.axis_rotated)},k.prototype.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)},k.prototype.getAxisClipWidth=function(a){var l=this,d=Math.max(30,l.margin.left),_=Math.max(30,l.margin.right);return a?l.width+2+d+_:l.margin.left+20},k.prototype.getAxisClipHeight=function(a){return(a?this.margin.bottom:this.margin.top+this.height)+20},k.prototype.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)},k.prototype.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)},k.prototype.getYAxisClipWidth=function(){var a=this;return a.getAxisClipWidth(a.config.axis_rotated)+(a.config.axis_y_inner?20:0)},k.prototype.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)},k.prototype.generateColor=function(){var l=this.config,d=this.d3,_=l.data_colors,E=X(l.color_pattern)?l.color_pattern:d.schemeCategory10,O=l.data_color,j=[];return function(W){var ot,ut=W.id||W.data&&W.data.id||W;return _[ut]instanceof Function?ot=_[ut](W):_[ut]?ot=_[ut]:(j.indexOf(ut)<0&&j.push(ut),ot=E[j.indexOf(ut)%E.length],_[ut]=ot),O instanceof Function?O(ot,W):ot}},k.prototype.generateLevelColor=function(){var l=this.config,d=l.color_pattern,_=l.color_threshold,E="value"===_.unit,O=_.values&&_.values.length?_.values:[],j=_.max||100;return X(_)&&X(d)?function(W){var ut,wt=d[d.length-1];for(ut=0;ut<O.length;ut++)if((E?W:100*W/j)<O[ut]){wt=d[ut];break}return wt}:null},k.prototype.getDefaultConfig=function(){var a={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(l){return l},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(l,d,_,E){return this.getTooltipContent?this.getTooltipContent(l,d,_,E):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(l){a[l]=this.additionalConfig[l]},this),a},k.prototype.additionalConfig={},k.prototype.loadConfig=function(a){var d,_,E,l=this.config;function O(){var j=_.shift();return j&&d&&"object"==typeof d&&j in d?(d=d[j],O()):j?void 0:d}Object.keys(l).forEach(function(j){d=a,_=j.split("_"),E=O(),J(E)&&(l[j]=E)})},k.prototype.convertUrlToData=function(a,l,d,_,E){var W,ut,O=this,j=l||"csv";"json"===j?(W=O.d3.json,ut=O.convertJsonToData):"tsv"===j?(W=O.d3.tsv,ut=O.convertXsvToData):(W=O.d3.csv,ut=O.convertXsvToData),W(a,d).then(function(ot){E.call(O,ut.call(O,ot,_))}).catch(function(ot){throw ot})},k.prototype.convertXsvToData=function(a){var l=a.columns;return 0===a.length?{keys:l,rows:[l.reduce(function(_,E){var O;return Object.assign(_,((O={})[E]=null,O))},{})]}:{keys:l,rows:[].concat(a)}},k.prototype.convertJsonToData=function(a,l){var E,O,d=this,_=[];return l?(l.x?(E=l.value.concat(l.x),d.config.data_x=l.x):E=l.value,_.push(E),a.forEach(function(j){var W=[];E.forEach(function(ut){var ot=d.findValueInJson(j,ut);q(ot)&&(ot=null),W.push(ot)}),_.push(W)}),O=d.convertRowsToData(_)):(Object.keys(a).forEach(function(j){_.push([j].concat(a[j]))}),O=d.convertColumnsToData(_)),O},k.prototype.findValueInJson=function(a,l){if(l in a)return a[l];for(var d=(l=(l=l.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),_=0;_<d.length;++_){var E=d[_];if(!(E in a))return;a=a[E]}return a},k.prototype.convertRowsToData=function(a){for(var l=[],d=a[0],_=1;_<a.length;_++){for(var E={},O=0;O<a[_].length;O++){if(q(a[_][O]))throw new Error("Source data is missing a component at ("+_+","+O+")!");E[d[O]]=a[_][O]}l.push(E)}return{keys:d,rows:l}},k.prototype.convertColumnsToData=function(a){for(var l=[],d=[],_=0;_<a.length;_++){for(var E=a[_][0],O=1;O<a[_].length;O++){if(q(l[O-1])&&(l[O-1]={}),q(a[_][O]))throw new Error("Source data is missing a component at ("+_+","+O+")!");l[O-1][E]=a[_][O]}d.push(E)}return{keys:d,rows:l}},k.prototype.convertDataToTargets=function(a,l){var E,O,j,W,ut,d=this,_=d.config;if(ht(a)?W=Object.keys(a[0]):(W=a.keys,a=a.rows),j=W.filter(d.isX,d),d.isStanfordGraphType()){if(ut=W.filter(d.isEpochs,d),O=W.filter(d.isNotXAndNotEpochs,d),1!==j.length||1!==ut.length||1!==O.length)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams")}else O=W.filter(d.isNotX,d);return O.forEach(function(ot){var wt=d.getXKey(ot);d.isCustomX()||d.isTimeSeries()?j.indexOf(wt)>=0?d.data.xs[ot]=(l&&d.data.xs[ot]?d.data.xs[ot]:[]).concat(a.map(function(Lt){return Lt[wt]}).filter(K).map(function(Lt,Ht){return d.generateTargetX(Lt,ot,Ht)})):_.data_x?d.data.xs[ot]=d.getOtherTargetXs():X(_.data_xs)&&(d.data.xs[ot]=d.getXValuesOfXKey(wt,d.data.targets)):d.data.xs[ot]=a.map(function(Lt,Ht){return Ht})}),O.forEach(function(ot){if(!d.data.xs[ot])throw new Error('x is not defined for id = "'+ot+'".')}),(E=O.map(function(ot,wt){var Lt=_.data_idConverter(ot);return{id:Lt,id_org:ot,values:a.map(function(Ht,Ut){var Ce,Ue,de=Ht[d.getXKey(ot)],ae=null===Ht[ot]||isNaN(Ht[ot])?null:+Ht[ot];return d.isCustomX()&&d.isCategorized()&&!q(de)?(0===wt&&0===Ut&&(_.axis_x_categories=[]),-1===(Ce=_.axis_x_categories.indexOf(de))&&(Ce=_.axis_x_categories.length,_.axis_x_categories.push(de))):Ce=d.generateTargetX(de,ot,Ut),(q(Ht[ot])||d.data.xs[ot].length<=Ut)&&(Ce=void 0),Ue={x:Ce,value:ae,id:Lt},d.isStanfordGraphType()&&(Ue.epochs=Ht[ut]),Ue}).filter(function(Ht){return J(Ht.x)})}})).forEach(function(ot){var wt;_.data_xSort&&(ot.values=ot.values.sort(function(Lt,Ht){return(Lt.x||0===Lt.x?Lt.x:1/0)-(Ht.x||0===Ht.x?Ht.x:1/0)})),wt=0,ot.values.forEach(function(Lt){Lt.index=wt++}),d.data.xs[ot.id].sort(function(Lt,Ht){return Lt-Ht})}),d.hasNegativeValue=d.hasNegativeValueInTargets(E),d.hasPositiveValue=d.hasPositiveValueInTargets(E),_.data_type&&d.setTargetType(d.mapToIds(E).filter(function(ot){return!(ot in _.data_types)}),_.data_type),E.forEach(function(ot){d.addCache(ot.id_org,ot)}),E},k.prototype.isEpochs=function(a){var d=this.config;return d.data_epochs&&a===d.data_epochs},k.prototype.isX=function(a){var d=this.config;return d.data_x&&a===d.data_x||X(d.data_xs)&&function(a,l){var d=!1;return Object.keys(a).forEach(function(_){a[_]===l&&(d=!0)}),d}(d.data_xs,a)},k.prototype.isNotX=function(a){return!this.isX(a)},k.prototype.isNotXAndNotEpochs=function(a){return!this.isX(a)&&!this.isEpochs(a)},k.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&this.config.data_groups.length>0},k.prototype.isAxisNormalized=function(a){var l=this;return!!l.isStackNormalized()&&l.data.targets.filter(function(d){return l.axis.getId(d.id)===a}).some(function(d){return l.isTargetNormalized(d.id)})},k.prototype.isTargetNormalized=function(a){return this.isStackNormalized()&&this.config.data_groups.some(function(d){return d.includes(a)})},k.prototype.getXKey=function(a){var d=this.config;return d.data_x?d.data_x:X(d.data_xs)?d.data_xs[a]:null},k.prototype.getTotalPerIndex=function(a){var l=this;if(!l.isStackNormalized())return null;var d=l.getFromCache("getTotalPerIndex");if(void 0!==d)return d[a];var _={y:[],y2:[]};return l.data.targets.filter(function(E){return l.isTargetNormalized(E.id)}).filter(function(E){return l.isTargetToShow(E.id)}).forEach(function(E){var O=_[l.axis.getId(E.id)];E.values.forEach(function(j,W){O[W]||(O[W]=0),O[W]+=$t(j.value)?j.value:0})}),l.addToCache("getTotalPerIndex",_),_[a]},k.prototype.getTotalDataSum=function(){var a=this,l=a.getFromCache("getTotalDataSum");if(void 0!==l)return l;var d=function(a){return Array.isArray(a)?[].concat.apply([],a):[]}(a.data.targets.filter(function(_){return a.isTargetToShow(_.id)}).map(function(_){return _.values})).map(function(_){return _.value}).reduce(function(_,E){return _+E},0);return a.addToCache("getTotalDataSum",d),d},k.prototype.getXValuesOfXKey=function(a,l){var _,d=this;return(l&&X(l)?d.mapToIds(l):[]).forEach(function(O){d.getXKey(O)===a&&(_=d.data.xs[O])}),_},k.prototype.getXValue=function(a,l){var d=this;return a in d.data.xs&&d.data.xs[a]&&K(d.data.xs[a][l])?d.data.xs[a][l]:l},k.prototype.getOtherTargetXs=function(){var l=Object.keys(this.data.xs);return l.length?this.data.xs[l[0]]:null},k.prototype.getOtherTargetX=function(a){var l=this.getOtherTargetXs();return l&&a<l.length?l[a]:null},k.prototype.addXs=function(a){var l=this;Object.keys(a).forEach(function(d){l.config.data_xs[d]=a[d]})},k.prototype.addName=function(a){var d;return a&&(a.name=void 0!==(d=this.config.data_names[a.id])?d:a.id),a},k.prototype.getValueOnIndex=function(a,l){var d=a.filter(function(_){return _.index===l});return d.length?d[0]:null},k.prototype.updateTargetX=function(a,l){var d=this;a.forEach(function(_){_.values.forEach(function(E,O){E.x=d.generateTargetX(l[O],_.id,O)}),d.data.xs[_.id]=l})},k.prototype.updateTargetXs=function(a,l){var d=this;a.forEach(function(_){l[_.id]&&d.updateTargetX([_],l[_.id])})},k.prototype.generateTargetX=function(a,l,d){var _=this;return _.isTimeSeries()?_.parseDate(a||_.getXValue(l,d)):_.isCustomX()&&!_.isCategorized()?K(a)?+a:_.getXValue(l,d):d},k.prototype.cloneTarget=function(a){return{id:a.id,id_org:a.id_org,values:a.values.map(function(l){return{x:l.x,value:l.value,id:l.id}})}},k.prototype.getMaxDataCount=function(){return this.d3.max(this.data.targets,function(l){return l.values.length})},k.prototype.mapToIds=function(a){return a.map(function(l){return l.id})},k.prototype.mapToTargetIds=function(a){return a?[].concat(a):this.mapToIds(this.data.targets)},k.prototype.hasTarget=function(a,l){var _,d=this.mapToIds(a);for(_=0;_<d.length;_++)if(d[_]===l)return!0;return!1},k.prototype.isTargetToShow=function(a){return this.hiddenTargetIds.indexOf(a)<0},k.prototype.isLegendToShow=function(a){return this.hiddenLegendIds.indexOf(a)<0},k.prototype.getTargetsToShow=function(){return this.filterTargetsToShow(this.data.targets)},k.prototype.filterTargetsToShow=function(a){var l=this;return a.filter(function(d){return l.isTargetToShow(d.id)})},k.prototype.getTargets=function(){return this.data.targets},k.prototype.mapTargetsToUniqueXs=function(a){var l=this,d=l.d3.set(l.d3.merge(a.map(function(_){return _.values.map(function(E){return+E.x})}))).values();return(d=l.isTimeSeries()?d.map(function(_){return new Date(+_)}):d.map(function(_){return+_})).sort(function(_,E){return _<E?-1:_>E?1:_>=E?0:NaN})},k.prototype.addHiddenTargetIds=function(a){a=a instanceof Array?a:new Array(a);for(var l=0;l<a.length;l++)this.hiddenTargetIds.indexOf(a[l])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(a[l]));this.resetCache()},k.prototype.removeHiddenTargetIds=function(a){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(l){return a.indexOf(l)<0}),this.resetCache()},k.prototype.addHiddenLegendIds=function(a){a=a instanceof Array?a:new Array(a);for(var l=0;l<a.length;l++)this.hiddenLegendIds.indexOf(a[l])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(a[l]))},k.prototype.removeHiddenLegendIds=function(a){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(l){return a.indexOf(l)<0})},k.prototype.getValuesAsIdKeyed=function(a){var l={};return a.forEach(function(d){l[d.id]=[],d.values.forEach(function(_){l[d.id].push(_.value)})}),l},k.prototype.checkValueInTargets=function(a,l){var _,E,O,d=Object.keys(a);for(_=0;_<d.length;_++)for(O=a[d[_]].values,E=0;E<O.length;E++)if(l(O[E].value))return!0;return!1},k.prototype.hasNegativeValueInTargets=function(a){return this.checkValueInTargets(a,function(l){return l<0})},k.prototype.hasPositiveValueInTargets=function(a){return this.checkValueInTargets(a,function(l){return l>0})},k.prototype.isOrderDesc=function(){var a=this.config;return"string"==typeof a.data_order&&"desc"===a.data_order.toLowerCase()},k.prototype.isOrderAsc=function(){var a=this.config;return"string"==typeof a.data_order&&"asc"===a.data_order.toLowerCase()},k.prototype.getOrderFunction=function(){var a=this,l=a.config,d=a.isOrderAsc(),_=a.isOrderDesc();if(d||_){var E=function(j,W){return j+Math.abs(W.value)};return function(j,W){var ut=j.values.reduce(E,0),ot=W.values.reduce(E,0);return d?ot-ut:ut-ot}}if(Tt(l.data_order))return l.data_order;if(ht(l.data_order)){var O=l.data_order;return function(j,W){return O.indexOf(j.id)-O.indexOf(W.id)}}},k.prototype.orderTargets=function(a){var l=this.getOrderFunction();return l&&a.sort(l),a},k.prototype.filterByIndex=function(a,l){return this.d3.merge(a.map(function(d){return d.values.filter(function(_){return _.index===l})}))},k.prototype.filterByX=function(a,l){return this.d3.merge(a.map(function(d){return d.values})).filter(function(d){return d.x-l==0})},k.prototype.filterRemoveNull=function(a){return a.filter(function(l){return K(l.value)})},k.prototype.filterByXDomain=function(a,l){return a.map(function(d){return{id:d.id,id_org:d.id_org,values:d.values.filter(function(_){return l[0]<=_.x&&_.x<=l[1]})}})},k.prototype.hasDataLabel=function(){var a=this.config;return!("boolean"!=typeof a.data_labels||!a.data_labels)||!("object"!=typeof a.data_labels||!X(a.data_labels))},k.prototype.getDataLabelLength=function(a,l,d){var _=this,E=[0,0];return _.selectChart.select("svg").selectAll(".dummy").data([a,l]).enter().append("text").text(function(j){return _.dataLabelFormat(j.id)(j)}).each(function(j,W){E[W]=1.3*Pt(this)[d]}).remove(),E},k.prototype.isNoneArc=function(a){return this.hasTarget(this.data.targets,a.id)},k.prototype.isArc=function(a){return"data"in a&&this.hasTarget(this.data.targets,a.data.id)},k.prototype.findClosestFromTargets=function(a,l){var d=this,_=a.map(function(E){return d.findClosest(E.values,l,d.config.tooltip_horizontal?d.horizontalDistance.bind(d):d.dist.bind(d),d.config.point_sensitivity)}).filter(function(E){return E});if(0!==_.length)return 1===_.length?_[0]:d.findClosest(_,l,d.dist.bind(d))},k.prototype.findClosestFromTargetsByX=function(a,l){var d,_;return a.forEach(function(E){E.values.forEach(function(O){var j=Math.abs(l-O.x);(void 0===_||j<_)&&(d=O,_=j)})}),d},k.prototype.findClosest=function(a,l,d,_){void 0===_&&(_=1/0);var O,E=this;return a.filter(function(j){return j&&E.isBarType(j.id)}).forEach(function(j){if(!O){var W=E.main.select("."+z.bars+E.getTargetSelectorSuffix(j.id)+" ."+z.bar+"-"+j.index).node();E.isWithinBar(l,W)&&(O=j)}}),a.filter(function(j){return j&&!E.isBarType(j.id)}).forEach(function(j){var W=d(j,l);W<_&&(_=W,O=j)}),O},k.prototype.dist=function(a,l){var d=this,_=d.config,E=_.axis_rotated?1:0,O=_.axis_rotated?0:1,j=d.circleY(a,a.index),W=d.x(a.x);return Math.sqrt(Math.pow(W-l[E],2)+Math.pow(j-l[O],2))},k.prototype.horizontalDistance=function(a,l){var E=this.config.axis_rotated?1:0,O=this.x(a.x);return Math.abs(O-l[E])},k.prototype.convertValuesToStep=function(a){var d,l=[].concat(a);if(!this.isCategorized())return a;for(d=a.length+1;0<d;d--)l[d]=l[d-1];return l[0]={x:l[0].x-1,value:l[0].value,id:l[0].id},l[a.length+1]={x:l[a.length].x+1,value:l[a.length].value,id:l[a.length].id},l},k.prototype.getRatio=function(a,l,d){void 0===d&&(d=!1);var _=this,E=_.api,O=0;if(l&&E.data.shown.call(E).length)if(O=l.ratio||l.value,"arc"===a)if(_.hasType("gauge"))O=(l.endAngle-l.startAngle)/(Math.PI*(_.config.gauge_fullCircle?2:1));else{var j=_.getTotalDataSum();O=l.value/j}else"index"===a&&(j=_.getTotalPerIndex(_.axis.getId(l.id)),l.ratio=$t(l.value)&&j&&j[l.index]>0?l.value/j[l.index]:0,O=l.ratio);return d&&O?100*O:O},k.prototype.updateDataAttributes=function(a,l){var E=this.config["data_"+a];return typeof l>"u"||(Object.keys(l).forEach(function(O){E[O]=l[O]}),this.redraw({withLegend:!0})),E},k.prototype.load=function(a,l){var d=this;a&&(l.filter&&(a=a.filter(l.filter)),(l.type||l.types)&&a.forEach(function(_){d.setTargetType(_.id,l.types&&l.types[_.id]?l.types[_.id]:l.type)}),d.data.targets.forEach(function(_){for(var E=0;E<a.length;E++)if(_.id===a[E].id){_.values=a[E].values,a.splice(E,1);break}}),d.data.targets=d.data.targets.concat(a)),d.updateTargets(d.data.targets),d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),l.done&&l.done()},k.prototype.loadFromArgs=function(a){var l=this;l.resetCache(),a.data?l.load(l.convertDataToTargets(a.data),a):a.url?l.convertUrlToData(a.url,a.mimeType,a.headers,a.keys,function(d){l.load(l.convertDataToTargets(d),a)}):l.load(a.json?l.convertDataToTargets(l.convertJsonToData(a.json,a.keys)):a.rows?l.convertDataToTargets(l.convertRowsToData(a.rows)):a.columns?l.convertDataToTargets(l.convertColumnsToData(a.columns)):null,a)},k.prototype.unload=function(a,l){var d=this;d.resetCache(),l||(l=function(){}),(a=a.filter(function(_){return d.hasTarget(d.data.targets,_)}))&&0!==a.length?(d.svg.selectAll(a.map(function(_){return d.selectorTarget(_)})).transition().style("opacity",0).remove().call(d.endall,l),a.forEach(function(_){d.withoutFadeIn[_]=!1,d.legend&&d.legend.selectAll("."+z.legendItem+d.getTargetSelectorSuffix(_)).remove(),d.data.targets=d.data.targets.filter(function(E){return E.id!==_})})):l()},k.prototype.getYDomainMin=function(a){var O,j,W,ut,ot,wt,l=this,d=l.config,_=l.mapToIds(a),E=l.getValuesAsIdKeyed(a);if(d.data_groups.length>0)for(wt=l.hasNegativeValueInTargets(a),O=0;O<d.data_groups.length;O++)if(0!==(ut=d.data_groups[O].filter(function(Lt){return _.indexOf(Lt)>=0})).length)for(W=ut[0],wt&&E[W]&&E[W].forEach(function(Lt,Ht){E[W][Ht]=Lt<0?Lt:0}),j=1;j<ut.length;j++)E[ot=ut[j]]&&E[ot].forEach(function(Lt,Ht){l.axis.getId(ot)===l.axis.getId(W)&&E[W]&&!(wt&&+Lt>0)&&(E[W][Ht]+=+Lt)});return l.d3.min(Object.keys(E).map(function(Lt){return l.d3.min(E[Lt])}))},k.prototype.getYDomainMax=function(a){var O,j,W,ut,ot,wt,l=this,d=l.config,_=l.mapToIds(a),E=l.getValuesAsIdKeyed(a);if(d.data_groups.length>0)for(wt=l.hasPositiveValueInTargets(a),O=0;O<d.data_groups.length;O++)if(0!==(ut=d.data_groups[O].filter(function(Lt){return _.indexOf(Lt)>=0})).length)for(W=ut[0],wt&&E[W]&&E[W].forEach(function(Lt,Ht){E[W][Ht]=Lt>0?Lt:0}),j=1;j<ut.length;j++)E[ot=ut[j]]&&E[ot].forEach(function(Lt,Ht){l.axis.getId(ot)===l.axis.getId(W)&&E[W]&&!(wt&&+Lt<0)&&(E[W][Ht]+=+Lt)});return l.d3.max(Object.keys(E).map(function(Lt){return l.d3.max(E[Lt])}))},k.prototype.getYDomain=function(a,l,d){var _=this,E=_.config;if(_.isAxisNormalized(l))return[0,100];var Lt,Ht,Ut,Wt,ae,Ce,Ue,nn,yn,on,O=a.filter(function(De){return _.axis.getId(De.id)===l}),j=d?_.filterByXDomain(O,d):O,W="y2"===l?E.axis_y2_min:E.axis_y_min,ut="y2"===l?E.axis_y2_max:E.axis_y_max,ot=_.getYDomainMin(j),wt=_.getYDomainMax(j),de="y2"===l?E.axis_y2_center:E.axis_y_center,dn=_.hasType("bar",j)&&E.bar_zerobased||_.hasType("area",j)&&E.area_zerobased,an="y2"===l?E.axis_y2_inverted:E.axis_y_inverted,He=_.hasDataLabel()&&E.axis_rotated,Nn=_.hasDataLabel()&&!E.axis_rotated;if(ot=K(W)?W:K(ut)?ot<ut?ot:ut-10:ot,wt=K(ut)?ut:K(W)?W<wt?wt:W+10:wt,0===j.length)return"y2"===l?_.y2.domain():_.y.domain();if(isNaN(ot)&&(ot=0),isNaN(wt)&&(wt=ot),ot===wt&&(ot<0?wt=0:ot=0),yn=ot>=0&&wt>=0,on=ot<=0&&wt<=0,(K(W)&&yn||K(ut)&&on)&&(dn=!1),dn&&(yn&&(ot=0),on&&(wt=0)),Ut=Wt=.1*(Ht=Math.abs(wt-ot)),typeof de<"u"&&(wt=de+(ae=Math.max(Math.abs(ot),Math.abs(wt))),ot=de-ae),He)Ce=_.getDataLabelLength(ot,wt,"width"),Ue=Rt(_.y.range()),Ut+=Ht*((nn=[Ce[0]/Ue,Ce[1]/Ue])[1]/(1-nn[0]-nn[1])),Wt+=Ht*(nn[0]/(1-nn[0]-nn[1]));else if(Nn){Ce=_.getDataLabelLength(ot,wt,"height");var Le=_.getY(E["axis_"+l+"_type"],[0,E.axis_rotated?_.width:_.height],[0,Ht]);Ut+=Le(Ce[1]),Wt+=Le(Ce[0])}return"y"===l&&X(E.axis_y_padding)&&(Ut=_.axis.getPadding(E.axis_y_padding,"top",Ut,Ht),Wt=_.axis.getPadding(E.axis_y_padding,"bottom",Wt,Ht)),"y2"===l&&X(E.axis_y2_padding)&&(Ut=_.axis.getPadding(E.axis_y2_padding,"top",Ut,Ht),Wt=_.axis.getPadding(E.axis_y2_padding,"bottom",Wt,Ht)),dn&&(yn&&(Wt=ot),on&&(Ut=-wt)),Lt=[ot-Wt,wt+Ut],an?Lt.reverse():Lt},k.prototype.getXDomainMin=function(a){var l=this,d=l.config;return J(d.axis_x_min)?l.isTimeSeries()?this.parseDate(d.axis_x_min):d.axis_x_min:l.d3.min(a,function(_){return l.d3.min(_.values,function(E){return E.x})})},k.prototype.getXDomainMax=function(a){var l=this,d=l.config;return J(d.axis_x_max)?l.isTimeSeries()?this.parseDate(d.axis_x_max):d.axis_x_max:l.d3.max(a,function(_){return l.d3.max(_.values,function(E){return E.x})})},k.prototype.getXDomainPadding=function(a){var E,O,j,W,l=this,d=l.config,_=a[1]-a[0];return O=l.isCategorized()?0:l.hasType("bar")?(E=l.getMaxDataCount())>1?_/(E-1)/2:.5:.01*_,"object"==typeof d.axis_x_padding&&X(d.axis_x_padding)?(j=K(d.axis_x_padding.left)?d.axis_x_padding.left:O,W=K(d.axis_x_padding.right)?d.axis_x_padding.right:O):j=W="number"==typeof d.axis_x_padding?d.axis_x_padding:O,{left:j,right:W}},k.prototype.getXDomain=function(a){var l=this,d=[l.getXDomainMin(a),l.getXDomainMax(a)],_=d[0],E=d[1],O=l.getXDomainPadding(d),j=0,W=0;return _-E==0&&!l.isCategorized()&&(l.isTimeSeries()?(_=new Date(.5*_.getTime()),E=new Date(1.5*E.getTime())):(_=0===_?1:.5*_,E=0===E?-1:1.5*E)),(_||0===_)&&(j=l.isTimeSeries()?new Date(_.getTime()-O.left):_-O.left),(E||0===E)&&(W=l.isTimeSeries()?new Date(E.getTime()+O.right):E+O.right),[j,W]},k.prototype.updateXDomain=function(a,l,d,_,E){var O=this,j=O.config;return d&&(O.x.domain(E||O.d3.extent(O.getXDomain(a))),O.orgXDomain=O.x.domain(),j.zoom_enabled&&O.zoom.update(),O.subX.domain(O.x.domain()),O.brush&&O.brush.updateScale(O.subX)),l&&O.x.domain(E||(!O.brush||O.brush.empty()?O.orgXDomain:O.brush.selectionAsValue())),_&&O.x.domain(O.trimXDomain(O.x.orgDomain())),O.x.domain()},k.prototype.trimXDomain=function(a){var l=this.getZoomDomain(),d=l[0],_=l[1];return a[0]<=d&&(a[1]=d-a[0]+ +a[1],a[0]=d),_<=a[1]&&(a[0]=+a[0]-(a[1]-_),a[1]=_),a},k.prototype.drag=function(a){var O,j,W,ut,ot,wt,Lt,Ht,l=this,d=l.config,_=l.main,E=l.d3;l.hasArcType()||d.data_selection_enabled&&d.data_selection_multiple&&(O=l.dragStart[0],j=l.dragStart[1],W=a[0],ut=a[1],ot=Math.min(O,W),wt=Math.max(O,W),Lt=d.data_selection_grouped?l.margin.top:Math.min(j,ut),Ht=d.data_selection_grouped?l.height:Math.max(j,ut),_.select("."+z.dragarea).attr("x",ot).attr("y",Lt).attr("width",wt-ot).attr("height",Ht-Lt),_.selectAll("."+z.shapes).selectAll("."+z.shape).each(function(Ut,Wt){if(d.data_selection_isselectable(Ut)){var Ue,nn,dn,He,de=E.select(this),ae=de.classed(z.SELECTED),Ce=de.classed(z.INCLUDED),an=!1;if(de.classed(z.circle))Ue=1*de.attr("cx"),nn=1*de.attr("cy"),dn=l.togglePoint,an=ot<Ue&&Ue<wt&&Lt<nn&&nn<Ht;else{if(!de.classed(z.bar))return;nn=(He=Ot(this)).y,dn=l.togglePath,an=!(wt<(Ue=He.x)||Ue+He.width<ot||Ht<nn||nn+He.height<Lt)}an^Ce&&(de.classed(z.INCLUDED,!Ce),de.classed(z.SELECTED,!ae),dn.call(l,!ae,de,Ut,Wt))}}))},k.prototype.dragstart=function(a){var l=this,d=l.config;l.hasArcType()||d.data_selection_enabled&&(l.dragStart=a,l.main.select("."+z.chart).append("rect").attr("class",z.dragarea).style("opacity",.1),l.dragging=!0)},k.prototype.dragend=function(){var a=this,l=a.config;a.hasArcType()||l.data_selection_enabled&&(a.main.select("."+z.dragarea).transition().duration(100).style("opacity",0).remove(),a.main.selectAll("."+z.shape).classed(z.INCLUDED,!1),a.dragging=!1)},k.prototype.getYFormat=function(a){var l=this,d=a&&!l.hasType("gauge")?l.defaultArcValueFormat:l.yFormat,_=a&&!l.hasType("gauge")?l.defaultArcValueFormat:l.y2Format;return function(E,O,j){return("y2"===l.axis.getId(j)?_:d).call(l,E,O)}},k.prototype.yFormat=function(a){var d=this.config;return(d.axis_y_tick_format?d.axis_y_tick_format:this.defaultValueFormat)(a)},k.prototype.y2Format=function(a){var d=this.config;return(d.axis_y2_tick_format?d.axis_y2_tick_format:this.defaultValueFormat)(a)},k.prototype.defaultValueFormat=function(a){return K(a)?+a:""},k.prototype.defaultArcValueFormat=function(a,l){return(100*l).toFixed(1)+"%"},k.prototype.dataLabelFormat=function(a){var d=this.config.data_labels,E=function(O){return K(O)?+O:""};return"function"==typeof d.format?d.format:"object"==typeof d.format?d.format[a]?!0===d.format[a]?E:d.format[a]:function(){return""}:E},k.prototype.initGrid=function(){var a=this,l=a.config,d=a.d3;a.grid=a.main.append("g").attr("clip-path",a.clipPathForGrid).attr("class",z.grid),l.grid_x_show&&a.grid.append("g").attr("class",z.xgrids),l.grid_y_show&&a.grid.append("g").attr("class",z.ygrids),l.grid_focus_show&&a.grid.append("g").attr("class",z.xgridFocus).append("line").attr("class",z.xgridFocus),a.xgrid=d.selectAll([]),l.grid_lines_front||a.initGridLines()},k.prototype.initGridLines=function(){var a=this,l=a.d3;a.gridLines=a.main.append("g").attr("clip-path",a.clipPathForGrid).attr("class",z.grid+" "+z.gridLines),a.gridLines.append("g").attr("class",z.xgridLines),a.gridLines.append("g").attr("class",z.ygridLines),a.xgridLines=l.selectAll([])},k.prototype.updateXGrid=function(a){var l=this,d=l.config,_=l.d3,E=l.generateGridData(d.grid_x_type,l.x),O=l.isCategorized()?l.xAxis.tickOffset():0;l.xgridAttr=d.axis_rotated?{x1:0,x2:l.width,y1:function(ut){return l.x(ut)-O},y2:function(ut){return l.x(ut)-O}}:{x1:function(ut){return l.x(ut)+O},x2:function(ut){return l.x(ut)+O},y1:0,y2:l.height},l.xgridAttr.opacity=function(){return+_.select(this).attr(d.axis_rotated?"y1":"x1")===(d.axis_rotated?l.height:0)?0:1};var j=l.main.select("."+z.xgrids).selectAll("."+z.xgrid).data(E),W=j.enter().append("line").attr("class",z.xgrid).attr("x1",l.xgridAttr.x1).attr("x2",l.xgridAttr.x2).attr("y1",l.xgridAttr.y1).attr("y2",l.xgridAttr.y2).style("opacity",0);l.xgrid=W.merge(j),a||l.xgrid.attr("x1",l.xgridAttr.x1).attr("x2",l.xgridAttr.x2).attr("y1",l.xgridAttr.y1).attr("y2",l.xgridAttr.y2).style("opacity",l.xgridAttr.opacity),j.exit().remove()},k.prototype.updateYGrid=function(){var a=this,l=a.config,d=a.yAxis.tickValues()||a.y.ticks(l.grid_y_ticks),_=a.main.select("."+z.ygrids).selectAll("."+z.ygrid).data(d),E=_.enter().append("line").attr("class",z.ygrid);a.ygrid=E.merge(_),a.ygrid.attr("x1",l.axis_rotated?a.y:0).attr("x2",l.axis_rotated?a.y:a.width).attr("y1",l.axis_rotated?0:a.y).attr("y2",l.axis_rotated?a.height:a.y),_.exit().remove(),a.smoothLines(a.ygrid,"grid")},k.prototype.gridTextAnchor=function(a){return a.position?a.position:"end"},k.prototype.gridTextDx=function(a){return"start"===a.position?4:"middle"===a.position?0:-4},k.prototype.xGridTextX=function(a){return"start"===a.position?-this.height:"middle"===a.position?-this.height/2:0},k.prototype.yGridTextX=function(a){return"start"===a.position?0:"middle"===a.position?this.width/2:this.width},k.prototype.updateGrid=function(a){var E,O,j,W,l=this,d=l.main,_=l.config,ut=l.xv.bind(l),ot=l.yv.bind(l),wt=l.xGridTextX.bind(l),Lt=l.yGridTextX.bind(l);l.grid.style("visibility",l.hasArcType()?"hidden":"visible"),d.select("line."+z.xgridFocus).style("visibility","hidden"),_.grid_x_show&&l.updateXGrid(),(O=(E=d.select("."+z.xgridLines).selectAll("."+z.xgridLine).data(_.grid_x_lines)).enter().append("g").attr("class",function(Ht){return z.xgridLine+(Ht.class?" "+Ht.class:"")})).append("line").attr("x1",_.axis_rotated?0:ut).attr("x2",_.axis_rotated?l.width:ut).attr("y1",_.axis_rotated?ut:0).attr("y2",_.axis_rotated?ut:l.height).style("opacity",0),O.append("text").attr("text-anchor",l.gridTextAnchor).attr("transform",_.axis_rotated?"":"rotate(-90)").attr("x",_.axis_rotated?Lt:wt).attr("y",ut).attr("dx",l.gridTextDx).attr("dy",-5).style("opacity",0),l.xgridLines=O.merge(E),E.exit().transition().duration(a).style("opacity",0).remove(),_.grid_y_show&&l.updateYGrid(),(W=(j=d.select("."+z.ygridLines).selectAll("."+z.ygridLine).data(_.grid_y_lines)).enter().append("g").attr("class",function(Ht){return z.ygridLine+(Ht.class?" "+Ht.class:"")})).append("line").attr("x1",_.axis_rotated?ot:0).attr("x2",_.axis_rotated?ot:l.width).attr("y1",_.axis_rotated?0:ot).attr("y2",_.axis_rotated?l.height:ot).style("opacity",0),W.append("text").attr("text-anchor",l.gridTextAnchor).attr("transform",_.axis_rotated?"rotate(-90)":"").attr("x",_.axis_rotated?wt:Lt).attr("y",ot).attr("dx",l.gridTextDx).attr("dy",-5).style("opacity",0),l.ygridLines=W.merge(j),l.ygridLines.select("line").transition().duration(a).attr("x1",_.axis_rotated?ot:0).attr("x2",_.axis_rotated?ot:l.width).attr("y1",_.axis_rotated?0:ot).attr("y2",_.axis_rotated?l.height:ot).style("opacity",1),l.ygridLines.select("text").transition().duration(a).attr("x",_.axis_rotated?l.xGridTextX.bind(l):l.yGridTextX.bind(l)).attr("y",ot).text(function(Ht){return Ht.text}).style("opacity",1),j.exit().transition().duration(a).style("opacity",0).remove()},k.prototype.redrawGrid=function(a,l){var d=this,_=d.config,E=d.xv.bind(d),O=d.xgridLines.select("line"),j=d.xgridLines.select("text");return[(a?O.transition(l):O).attr("x1",_.axis_rotated?0:E).attr("x2",_.axis_rotated?d.width:E).attr("y1",_.axis_rotated?E:0).attr("y2",_.axis_rotated?E:d.height).style("opacity",1),(a?j.transition(l):j).attr("x",_.axis_rotated?d.yGridTextX.bind(d):d.xGridTextX.bind(d)).attr("y",E).text(function(W){return W.text}).style("opacity",1)]},k.prototype.showXGridFocus=function(a){var l=this,d=l.config,_=a.filter(function(j){return j&&K(j.value)}),E=l.main.selectAll("line."+z.xgridFocus),O=l.xx.bind(l);d.tooltip_show&&(l.hasType("stanford")||l.hasArcType()||(E.style("visibility","visible").data([_[0]]).attr(d.axis_rotated?"y1":"x1",O).attr(d.axis_rotated?"y2":"x2",O),l.smoothLines(E,"grid")))},k.prototype.hideXGridFocus=function(){this.main.select("line."+z.xgridFocus).style("visibility","hidden")},k.prototype.updateXgridFocus=function(){var a=this,l=a.config;a.main.select("line."+z.xgridFocus).attr("x1",l.axis_rotated?0:-10).attr("x2",l.axis_rotated?a.width:-10).attr("y1",l.axis_rotated?-10:0).attr("y2",l.axis_rotated?-10:a.height)},k.prototype.generateGridData=function(a,l){var E,O,j,W,_=[],ut=this.main.select("."+z.axisX).selectAll(".tick").size();if("year"===a)for(O=(E=this.getXDomain())[0].getFullYear(),j=E[1].getFullYear(),W=O;W<=j;W++)_.push(new Date(W+"-01-01 00:00:00"));else(_=l.ticks(10)).length>ut&&(_=_.filter(function(ot){return(""+ot).indexOf(".")<0}));return _},k.prototype.getGridFilterToRemove=function(a){return a?function(l){var d=!1;return[].concat(a).forEach(function(_){("value"in _&&l.value===_.value||"class"in _&&l.class===_.class)&&(d=!0)}),d}:function(){return!0}},k.prototype.removeGridLines=function(a,l){var d=this,_=d.config,E=d.getGridFilterToRemove(a),O=function(ut){return!E(ut)},W=l?z.xgridLine:z.ygridLine;d.main.select("."+(l?z.xgridLines:z.ygridLines)).selectAll("."+W).filter(E).transition().duration(_.transition_duration).style("opacity",0).remove(),l?_.grid_x_lines=_.grid_x_lines.filter(O):_.grid_y_lines=_.grid_y_lines.filter(O)},k.prototype.initEventRect=function(){var a=this,l=a.config;a.main.select("."+z.chart).append("g").attr("class",z.eventRects).style("fill-opacity",0),a.eventRect=a.main.select("."+z.eventRects).append("rect").attr("class",z.eventRect),l.zoom_enabled&&a.zoom&&(a.eventRect.call(a.zoom).on("dblclick.zoom",null),l.zoom_initialRange&&a.eventRect.transition().duration(0).call(a.zoom.transform,a.zoomTransform(l.zoom_initialRange)))},k.prototype.redrawEventRect=function(){var a=this,l=a.d3,d=a.config;function _(){a.svg.select("."+z.eventRect).style("cursor",null),a.hideXGridFocus(),a.hideTooltip(),a.unexpandCircles(),a.unexpandBars()}var E=function(j,W){return W&&(a.isBarType(W.id)||a.dist(W,j)<d.point_sensitivity)},O=function(j){return j?a.addName(Object.assign({},j)):null};a.main.select("."+z.eventRects).style("cursor",d.zoom_enabled?d.axis_rotated?"ns-resize":"ew-resize":null),a.eventRect.attr("x",0).attr("y",0).attr("width",a.width).attr("height",a.height).on("mouseout",d.interaction_enabled?function(){d&&(a.hasArcType()||(a.mouseover&&(d.data_onmouseout.call(a.api,a.mouseover),a.mouseover=void 0),_()))}:null).on("mousemove",d.interaction_enabled?function(){if(!a.dragging){var j=a.getTargetsToShow();if(!a.hasArcType(j)){var Lt,W=l.mouse(this),ut=O(a.findClosestFromTargets(j,W)),ot=E(W,ut);if(a.mouseover&&(!ut||ut.id!==a.mouseover.id||ut.index!==a.mouseover.index)&&(d.data_onmouseout.call(a.api,a.mouseover),a.mouseover=void 0),ut&&!a.mouseover&&(d.data_onmouseover.call(a.api,ut),a.mouseover=ut),a.svg.select("."+z.eventRect).style("cursor",ot?"pointer":null),!d.tooltip_grouped||a.hasType("stanford",j))ut&&(Lt=[ut]);else{var Ht;(Ht=ut||a.findClosestFromTargetsByX(j,a.x.invert(d.axis_rotated?W[1]:W[0])))&&(Lt=a.filterByX(j,Ht.x))}if(!Lt||0===Lt.length)return _();Lt=Lt.map(O),a.showTooltip(Lt,this),d.point_focus_expand_enabled&&(a.unexpandCircles(),Lt.forEach(function(Wt){a.expandCircles(Wt.index,Wt.id,!1)})),a.unexpandBars(),Lt.forEach(function(Wt){a.expandBars(Wt.index,Wt.id,!1)}),a.showXGridFocus(Lt)}}}:null).on("click",d.interaction_enabled?function(){var j=a.getTargetsToShow();if(!a.hasArcType(j)){var W=l.mouse(this),ut=O(a.findClosestFromTargets(j,W));if(E(W,ut)&&((!d.data_selection_grouped||a.isStanfordType(ut)?[ut]:a.filterByX(j,ut.x)).forEach(function(Lt){a.main.selectAll("."+z.shapes+a.getTargetSelectorSuffix(Lt.id)).selectAll("."+z.shape+"-"+Lt.index).each(function(){(d.data_selection_grouped||a.isWithinShape(this,Lt))&&a.toggleShape(this,Lt,Lt.index)})}),ut)){var wt=a.main.selectAll("."+z.shapes+a.getTargetSelectorSuffix(ut.id)).select("."+z.shape+"-"+ut.index);d.data_onclick.call(a.api,ut,wt.node())}}}:null).call(d.interaction_enabled&&d.data_selection_draggable&&a.drag?l.drag().on("drag",function(){a.drag(l.mouse(this))}).on("start",function(){a.dragstart(l.mouse(this))}).on("end",function(){a.dragend()}):function(){})},k.prototype.getMousePosition=function(a){return[this.x(a.x),this.getYScale(a.id)(a.value)]},k.prototype.dispatchEvent=function(a,l){var E=this.main.select("."+z.eventRect).node(),O=E.getBoundingClientRect(),j=O.left+(l?l[0]:0),W=O.top+(l?l[1]:0),ut=document.createEvent("MouseEvents");ut.initMouseEvent(a,!0,!0,window,0,j,W,j,W,!1,!1,!1,!1,0,null),E.dispatchEvent(ut)},k.prototype.initLegend=function(){var a=this;if(a.legendItemTextBox={},a.legendHasRendered=!1,a.legend=a.svg.append("g").attr("transform",a.getTranslate("legend")),!a.config.legend_show)return a.legend.style("visibility","hidden"),void(a.hiddenLegendIds=a.mapToIds(a.data.targets));a.updateLegendWithDefaults()},k.prototype.updateLegendWithDefaults=function(){var a=this;a.updateLegend(a.mapToIds(a.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},k.prototype.updateSizeForLegend=function(a,l){var d=this,_=d.config,E={top:d.isLegendTop?d.getCurrentPaddingTop()+_.legend_inset_y+5.5:d.currentHeight-a-d.getCurrentPaddingBottom()-_.legend_inset_y,left:d.isLegendLeft?d.getCurrentPaddingLeft()+_.legend_inset_x+.5:d.currentWidth-l-d.getCurrentPaddingRight()-_.legend_inset_x+.5};d.margin3={top:d.isLegendRight?0:d.isLegendInset?E.top:d.currentHeight-a,right:NaN,bottom:0,left:d.isLegendRight?d.currentWidth-l:d.isLegendInset?E.left:0}},k.prototype.transformLegend=function(a){var l=this;(a?l.legend.transition():l.legend).attr("transform",l.getTranslate("legend"))},k.prototype.updateLegendStep=function(a){this.legendStep=a},k.prototype.updateLegendItemWidth=function(a){this.legendItemWidth=a},k.prototype.updateLegendItemHeight=function(a){this.legendItemHeight=a},k.prototype.getLegendWidth=function(){var a=this;return a.config.legend_show?a.isLegendRight||a.isLegendInset?a.legendItemWidth*(a.legendStep+1):a.currentWidth:0},k.prototype.getLegendHeight=function(){var a=this,l=0;return a.config.legend_show&&(l=a.isLegendRight?a.currentHeight:Math.max(20,a.legendItemHeight)*(a.legendStep+1)),l},k.prototype.opacityForLegend=function(a){return a.classed(z.legendItemHidden)?null:1},k.prototype.opacityForUnfocusedLegend=function(a){return a.classed(z.legendItemHidden)?null:.3},k.prototype.toggleFocusLegend=function(a,l){var d=this;a=d.mapToTargetIds(a),d.legend.selectAll("."+z.legendItem).filter(function(_){return a.indexOf(_)>=0}).classed(z.legendItemFocused,l).transition().duration(100).style("opacity",function(){return(l?d.opacityForLegend:d.opacityForUnfocusedLegend).call(d,d.d3.select(this))})},k.prototype.revertLegend=function(){var a=this,l=a.d3;a.legend.selectAll("."+z.legendItem).classed(z.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return a.opacityForLegend(l.select(this))})},k.prototype.showLegend=function(a){var l=this,d=l.config;d.legend_show||(d.legend_show=!0,l.legend.style("visibility","visible"),l.legendHasRendered||l.updateLegendWithDefaults()),l.removeHiddenLegendIds(a),l.legend.selectAll(l.selectorLegends(a)).style("visibility","visible").transition().style("opacity",function(){return l.opacityForLegend(l.d3.select(this))})},k.prototype.hideLegend=function(a){var l=this,d=l.config;d.legend_show&&vt(a)&&(d.legend_show=!1,l.legend.style("visibility","hidden")),l.addHiddenLegendIds(a),l.legend.selectAll(l.selectorLegends(a)).style("opacity",0).style("visibility","hidden")},k.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},k.prototype.updateLegend=function(a,l,d){var O,j,W,ut,ot,wt,Lt,Ht,Ut,yn,le,bn,Sn,cn,Gn,In,_=this,E=_.config,Wt=4,de=10,ae=0,Ce=0,Ue=10,nn=E.legend_item_tile_width+5,on=0,dn={},an={},He={},Nn=[0],Le={},De=0;function Jn(_e,We,Dr){var qr,en,Gr=0===Dr,Pr=Dr===a.length-1,lr=function dr(_e,We){return _.legendItemTextBox[We]||(_.legendItemTextBox[We]=_.getTextRect(_e.textContent,z.legendItem,_e)),_.legendItemTextBox[We]}(_e,We),ir=lr.width+nn+(!Pr||_.isLegendRight||_.isLegendInset?de:0)+E.legend_padding,Vr=lr.height+Wt,Gi=_.isLegendRight||_.isLegendInset?Vr:ir,ui=_.isLegendRight||_.isLegendInset?_.getLegendHeight():_.getLegendWidth();function to(Yr,Xr){Xr||(qr=(ui-on-Gi)/2)<Ue&&(qr=(ui-Gi)/2,on=0,De++),Le[Yr]=De,Nn[De]=_.isLegendInset?10:qr,dn[Yr]=on,on+=Gi}Gr&&(on=0,De=0,ae=0,Ce=0),!E.legend_show||_.isLegendToShow(We)?(an[We]=ir,He[We]=Vr,(!ae||ir>=ae)&&(ae=ir),(!Ce||Vr>=Ce)&&(Ce=Vr),en=_.isLegendRight||_.isLegendInset?Ce:ae,E.legend_equally?(Object.keys(an).forEach(function(Yr){an[Yr]=ae}),Object.keys(He).forEach(function(Yr){He[Yr]=Ce}),(qr=(ui-en*a.length)/2)<Ue?(on=0,De=0,a.forEach(function(Yr){to(Yr)})):to(We,!0)):to(We)):an[We]=He[We]=Le[We]=dn[We]=0}a=a.filter(function(_e){return!J(E.data_names[_e])||null!==E.data_names[_e]}),le=gt(l=l||{},"withTransition",!0),bn=gt(l,"withTransitionForTransform",!0),_.isLegendInset&&_.updateLegendStep(De=E.legend_inset_step?E.legend_inset_step:a.length),_.isLegendRight?(O=function(_e){return ae*Le[_e]},ut=function(_e){return Nn[Le[_e]]+dn[_e]}):_.isLegendInset?(O=function(_e){return ae*Le[_e]+10},ut=function(_e){return Nn[Le[_e]]+dn[_e]}):(O=function(_e){return Nn[Le[_e]]+dn[_e]},ut=function(_e){return Ce*Le[_e]}),j=function(_e,We){return O(_e,We)+4+E.legend_item_tile_width},ot=function(_e,We){return ut(_e,We)+9},W=function(_e,We){return O(_e,We)},wt=function(_e,We){return ut(_e,We)-5},Lt=function(_e,We){return O(_e,We)-2},Ht=function(_e,We){return O(_e,We)-2+E.legend_item_tile_width},Ut=function(_e,We){return ut(_e,We)+4},(yn=_.legend.selectAll("."+z.legendItem).data(a).enter().append("g").attr("class",function(_e){return _.generateClass(z.legendItem,_e)}).style("visibility",function(_e){return _.isLegendToShow(_e)?"visible":"hidden"}).style("cursor",function(){return E.interaction_enabled?"pointer":"auto"}).on("click",E.interaction_enabled?function(_e){E.legend_item_onclick?E.legend_item_onclick.call(_,_e):_.d3.event.altKey?(_.api.hide(),_.api.show(_e)):(_.api.toggle(_e),_.isTargetToShow(_e)?_.api.focus(_e):_.api.revert())}:null).on("mouseover",E.interaction_enabled?function(_e){E.legend_item_onmouseover?E.legend_item_onmouseover.call(_,_e):(_.d3.select(this).classed(z.legendItemFocused,!0),!_.transiting&&_.isTargetToShow(_e)&&_.api.focus(_e))}:null).on("mouseout",E.interaction_enabled?function(_e){E.legend_item_onmouseout?E.legend_item_onmouseout.call(_,_e):(_.d3.select(this).classed(z.legendItemFocused,!1),_.api.revert())}:null)).append("text").text(function(_e){return J(E.data_names[_e])?E.data_names[_e]:_e}).each(function(_e,We){Jn(this,_e,We)}).style("pointer-events","none").attr("x",_.isLegendRight||_.isLegendInset?j:-200).attr("y",_.isLegendRight||_.isLegendInset?-200:ot),yn.append("rect").attr("class",z.legendItemEvent).style("fill-opacity",0).attr("x",_.isLegendRight||_.isLegendInset?W:-200).attr("y",_.isLegendRight||_.isLegendInset?-200:wt),yn.append("line").attr("class",z.legendItemTile).style("stroke",_.color).style("pointer-events","none").attr("x1",_.isLegendRight||_.isLegendInset?Lt:-200).attr("y1",_.isLegendRight||_.isLegendInset?-200:Ut).attr("x2",_.isLegendRight||_.isLegendInset?Ht:-200).attr("y2",_.isLegendRight||_.isLegendInset?-200:Ut).attr("stroke-width",E.legend_item_tile_height),In=_.legend.select("."+z.legendBackground+" rect"),_.isLegendInset&&ae>0&&0===In.size()&&(In=_.legend.insert("g","."+z.legendItem).attr("class",z.legendBackground).append("rect")),Sn=_.legend.selectAll("text").data(a).text(function(_e){return J(E.data_names[_e])?E.data_names[_e]:_e}).each(function(_e,We){Jn(this,_e,We)}),(le?Sn.transition():Sn).attr("x",j).attr("y",ot),cn=_.legend.selectAll("rect."+z.legendItemEvent).data(a),(le?cn.transition():cn).attr("width",function(_e){return an[_e]}).attr("height",function(_e){return He[_e]}).attr("x",W).attr("y",wt),Gn=_.legend.selectAll("line."+z.legendItemTile).data(a),(le?Gn.transition():Gn).style("stroke",_.levelColor?function(_e){return _.levelColor(_.cache[_e].values.reduce(function(We,Dr){return We+Dr.value},0))}:_.color).attr("x1",Lt).attr("y1",Ut).attr("x2",Ht).attr("y2",Ut),In&&(le?In.transition():In).attr("height",_.getLegendHeight()-12).attr("width",ae*(De+1)+10),_.legend.selectAll("."+z.legendItem).classed(z.legendItemHidden,function(_e){return!_.isTargetToShow(_e)}),_.updateLegendItemWidth(ae),_.updateLegendItemHeight(Ce),_.updateLegendStep(De),_.updateSizes(),_.updateScales(),_.updateSvgSize(),_.transformAll(bn,d),_.legendHasRendered=!0},k.prototype.initRegion=function(){var a=this;a.region=a.main.append("g").attr("clip-path",a.clipPath).attr("class",z.regions)},k.prototype.updateRegion=function(a){var l=this,d=l.config;l.region.style("visibility",l.hasArcType()?"hidden":"visible");var _=l.main.select("."+z.regions).selectAll("."+z.region).data(d.regions),E=_.enter().append("g");E.append("rect").attr("x",l.regionX.bind(l)).attr("y",l.regionY.bind(l)).attr("width",l.regionWidth.bind(l)).attr("height",l.regionHeight.bind(l)).style("fill-opacity",function(O){return K(O.opacity)?O.opacity:.1}),E.append("text").text(l.labelRegion.bind(l)),l.mainRegion=E.merge(_).attr("class",l.classRegion.bind(l)),_.exit().transition().duration(a).style("opacity",0).remove()},k.prototype.redrawRegion=function(a,l){var d=this,_=d.mainRegion,E=d.mainRegion.selectAll("text");return[(a?_.transition(l):_).attr("x",d.regionX.bind(d)).attr("y",d.regionY.bind(d)).attr("width",d.regionWidth.bind(d)).attr("height",d.regionHeight.bind(d)).style("fill-opacity",function(O){return K(O.opacity)?O.opacity:.1}),(a?E.transition(l):E).attr("x",d.labelOffsetX.bind(d)).attr("y",d.labelOffsetY.bind(d)).attr("transform",d.labelTransform.bind(d)).attr("style","text-anchor: left;")]},k.prototype.regionX=function(a){var l=this,d=l.config;return"y"===a.axis||"y2"===a.axis?d.axis_rotated&&"start"in a?("y"===a.axis?l.y:l.y2)(a.start):0:d.axis_rotated?0:"start"in a?l.x(l.isTimeSeries()?l.parseDate(a.start):a.start):0},k.prototype.regionY=function(a){var l=this,d=l.config;return"y"===a.axis||"y2"===a.axis?d.axis_rotated?0:"end"in a?("y"===a.axis?l.y:l.y2)(a.end):0:d.axis_rotated&&"start"in a?l.x(l.isTimeSeries()?l.parseDate(a.start):a.start):0},k.prototype.regionWidth=function(a){var E,l=this,d=l.config,_=l.regionX(a);return(E="y"===a.axis||"y2"===a.axis?d.axis_rotated&&"end"in a?("y"===a.axis?l.y:l.y2)(a.end):l.width:d.axis_rotated?l.width:"end"in a?l.x(l.isTimeSeries()?l.parseDate(a.end):a.end):l.width)<_?0:E-_},k.prototype.regionHeight=function(a){var E,l=this,d=l.config,_=this.regionY(a);return(E="y"===a.axis||"y2"===a.axis?d.axis_rotated?l.height:"start"in a?("y"===a.axis?l.y:l.y2)(a.start):l.height:d.axis_rotated&&"end"in a?l.x(l.isTimeSeries()?l.parseDate(a.end):a.end):l.height)<_?0:E-_},k.prototype.isRegionOnX=function(a){return!a.axis||"x"===a.axis},k.prototype.labelRegion=function(a){return"label"in a?a.label:""},k.prototype.labelTransform=function(a){return"vertical"in a&&a.vertical?"rotate(90)":""},k.prototype.labelOffsetX=function(a){var l="paddingX"in a?a.paddingX:3,d="paddingY"in a?a.paddingY:3;return"vertical"in a&&a.vertical?this.regionY(a)+d:this.regionX(a)+l},k.prototype.labelOffsetY=function(a){var l="paddingX"in a?a.paddingX:3,d="paddingY"in a?a.paddingY:3;return"vertical"in a&&a.vertical?-(this.regionX(a)+l):this.regionY(a)+10+d},k.prototype.getScale=function(a,l,d){return(d?this.d3.scaleTime():this.d3.scaleLinear()).range([a,l])},k.prototype.getX=function(a,l,d,_){var W,E=this,O=E.getScale(a,l,E.isTimeSeries()),j=d?O.domain(d):O;for(W in E.isCategorized()?(_=_||function(){return 0},O=function(ut,ot){var wt=j(ut)+_(ut);return ot?wt:Math.ceil(wt)}):O=function(ut,ot){var wt=j(ut);return ot?wt:Math.ceil(wt)},j)O[W]=j[W];return O.orgDomain=function(){return j.domain()},E.isCategorized()&&(O.domain=function(ut){return arguments.length?(j.domain(ut),O):[(ut=this.orgDomain())[0],ut[1]+1]}),O},k.prototype.getY=function(a,l,d){var _;if("timeseries"===a||"time"===a)_=this.d3.scaleTime();else if("log"===a)_=ne(this.d3);else{if("linear"!==a&&void 0!==a)throw new Error('Invalid Y axis type: "'+a+'"');_=this.d3.scaleLinear()}return l&&_.domain(l),d&&_.range(d),_},k.prototype.getYScale=function(a){return"y2"===this.axis.getId(a)?this.y2:this.y},k.prototype.getSubYScale=function(a){return"y2"===this.axis.getId(a)?this.subY2:this.subY},k.prototype.updateScales=function(){var a=this,l=a.config,d=!a.x;a.xMin=l.axis_rotated?1:0,a.xMax=l.axis_rotated?a.height:a.width,a.yMin=l.axis_rotated?0:a.height,a.yMax=l.axis_rotated?a.width:1,a.subXMin=a.xMin,a.subXMax=a.xMax,a.subYMin=l.axis_rotated?0:a.height2,a.subYMax=l.axis_rotated?a.width2:1,a.x=a.getX(a.xMin,a.xMax,d?void 0:a.x.orgDomain(),function(){return a.xAxis.tickOffset()}),a.y=a.getY(l.axis_y_type,d?l.axis_y_default:a.y.domain(),[a.yMin,a.yMax]),a.y2=a.getY(l.axis_y2_type,d?l.axis_y2_default:a.y2.domain(),[a.yMin,a.yMax]),a.subX=a.getX(a.xMin,a.xMax,a.orgXDomain,function(_){return _%1?0:a.subXAxis.tickOffset()}),a.subY=a.getY(l.axis_y_type,d?l.axis_y_default:a.subY.domain(),[a.subYMin,a.subYMax]),a.subY2=a.getY(l.axis_y2_type,d?l.axis_y2_default:a.subY2.domain(),[a.subYMin,a.subYMax]),a.xAxisTickFormat=a.axis.getXAxisTickFormat(),a.xAxisTickValues=a.axis.getXAxisTickValues(),a.yAxisTickValues=a.axis.getYAxisTickValues(),a.y2AxisTickValues=a.axis.getY2AxisTickValues(),a.xAxis=a.axis.getXAxis(a.x,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,l.axis_x_tick_outer),a.subXAxis=a.axis.getXAxis(a.subX,a.subXOrient,a.xAxisTickFormat,a.xAxisTickValues,l.axis_x_tick_outer),a.yAxis=a.axis.getYAxis("y",a.y,a.yOrient,a.yAxisTickValues,l.axis_y_tick_outer),a.y2Axis=a.axis.getYAxis("y2",a.y2,a.y2Orient,a.y2AxisTickValues,l.axis_y2_tick_outer),d||a.brush&&a.brush.updateScale(a.subX),a.updateArc&&a.updateArc()},k.prototype.selectPoint=function(a,l,d){var _=this,E=_.config,O=(E.axis_rotated?_.circleY:_.circleX).bind(_),j=(E.axis_rotated?_.circleX:_.circleY).bind(_),W=_.pointSelectR.bind(_);E.data_onselected.call(_.api,l,a.node()),_.main.select("."+z.selectedCircles+_.getTargetSelectorSuffix(l.id)).selectAll("."+z.selectedCircle+"-"+d).data([l]).enter().append("circle").attr("class",function(){return _.generateClass(z.selectedCircle,d)}).attr("cx",O).attr("cy",j).attr("stroke",function(){return _.color(l)}).attr("r",function(ut){return 1.4*_.pointSelectR(ut)}).transition().duration(100).attr("r",W)},k.prototype.unselectPoint=function(a,l,d){var _=this;_.config.data_onunselected.call(_.api,l,a.node()),_.main.select("."+z.selectedCircles+_.getTargetSelectorSuffix(l.id)).selectAll("."+z.selectedCircle+"-"+d).transition().duration(100).attr("r",0).remove()},k.prototype.togglePoint=function(a,l,d,_){a?this.selectPoint(l,d,_):this.unselectPoint(l,d,_)},k.prototype.selectPath=function(a,l){var d=this;d.config.data_onselected.call(d,l,a.node()),d.config.interaction_brighten&&a.transition().duration(100).style("fill",function(){return d.d3.rgb(d.color(l)).brighter(.75)})},k.prototype.unselectPath=function(a,l){var d=this;d.config.data_onunselected.call(d,l,a.node()),d.config.interaction_brighten&&a.transition().duration(100).style("fill",function(){return d.color(l)})},k.prototype.togglePath=function(a,l,d,_){a?this.selectPath(l,d,_):this.unselectPath(l,d,_)},k.prototype.getToggle=function(a,l){var _,d=this;return"circle"===a.nodeName?_=d.isStepType(l)?function(){}:d.togglePoint:"path"===a.nodeName&&(_=d.togglePath),_},k.prototype.toggleShape=function(a,l,d){var _=this,E=_.d3,O=_.config,j=E.select(a),W=j.classed(z.SELECTED),ut=_.getToggle(a,l).bind(_);O.data_selection_enabled&&O.data_selection_isselectable(l)&&(O.data_selection_multiple||_.main.selectAll("."+z.shapes+(O.data_selection_grouped?_.getTargetSelectorSuffix(l.id):"")).selectAll("."+z.shape).each(function(ot,wt){var Lt=E.select(this);Lt.classed(z.SELECTED)&&ut(!1,Lt.classed(z.SELECTED,!1),ot,wt)}),j.classed(z.SELECTED,!W),ut(!W,j,l,d))},k.prototype.initBar=function(){this.main.select("."+z.chart).append("g").attr("class",z.chartBars)},k.prototype.updateTargetsForBar=function(a){var l=this,d=l.config,O=l.classChartBar.bind(l),j=l.classBars.bind(l),W=l.classFocus.bind(l);l.main.select("."+z.chartBars).selectAll("."+z.chartBar).data(a).attr("class",function(ut){return O(ut)+W(ut)}).enter().append("g").attr("class",O).style("pointer-events","none").append("g").attr("class",j).style("cursor",function(ut){return d.data_selection_isselectable(ut)?"pointer":null})},k.prototype.updateBar=function(a){var l=this,d=l.barData.bind(l),_=l.classBar.bind(l),E=l.initialOpacity.bind(l),O=function(ut){return l.color(ut.id)},j=l.main.selectAll("."+z.bars).selectAll("."+z.bar).data(d),W=j.enter().append("path").attr("class",_).style("stroke",O).style("fill",O);l.mainBar=W.merge(j).style("opacity",E),j.exit().transition().duration(a).style("opacity",0)},k.prototype.redrawBar=function(a,l,d){var _=this;return[(l?this.mainBar.transition(d):this.mainBar).attr("d",a).style("stroke",this.color).style("fill",this.color).style("opacity",function(E){return _.isTargetToShow(E.id)?1:0})]},k.prototype.getBarW=function(a,l){var _=this.config,E="number"==typeof _.bar_width?_.bar_width:l?a.tickInterval()*_.bar_width_ratio/l:0;return _.bar_width_max&&E>_.bar_width_max?_.bar_width_max:E},k.prototype.getBars=function(a,l){var d=this;return(l?d.main.selectAll("."+z.bars+d.getTargetSelectorSuffix(l)):d.main).selectAll("."+z.bar+(K(a)?"-"+a:""))},k.prototype.expandBars=function(a,l,d){d&&this.unexpandBars(),this.getBars(a,l).classed(z.EXPANDED,!0)},k.prototype.unexpandBars=function(a){this.getBars(a).classed(z.EXPANDED,!1)},k.prototype.generateDrawBar=function(a,l){var _=this.config,E=this.generateGetBarPoints(a,l);return function(O,j){var W=E(O,j),ut=_.axis_rotated?1:0,ot=_.axis_rotated?0:1;return"M "+W[0][ut]+","+W[0][ot]+" L"+W[1][ut]+","+W[1][ot]+" L"+W[2][ut]+","+W[2][ot]+" L"+W[3][ut]+","+W[3][ot]+" z"}},k.prototype.generateGetBarPoints=function(a,l){var d=this,E=a.__max__+1,O=d.getBarW(l?d.subXAxis:d.xAxis,E),j=d.getShapeX(O,E,a,!!l),W=d.getShapeY(!!l),ut=d.getShapeOffset(d.isBarType,a,!!l),ot=O*(d.config.bar_space/2),wt=l?d.getSubYScale:d.getYScale;return function(Lt,Ht){var Ut=wt.call(d,Lt.id)(0),Wt=ut(Lt,Ht)||Ut,de=j(Lt),ae=W(Lt);return d.config.axis_rotated&&(0<Lt.value&&ae<Ut||Lt.value<0&&Ut<ae)&&(ae=Ut),[[de+ot,Wt],[de+ot,ae-=Ut-Wt],[de+O-ot,ae],[de+O-ot,Wt]]}},k.prototype.isWithinBar=function(a,l){return function(a,l,d){return void 0===d&&(d=0),l.x-d<a[0]&&a[0]<l.x+l.width+d&&l.y-d<a[1]&&a[1]<l.y+l.height+d}(a,Pt(l),2)},k.prototype.getShapeIndices=function(a){var O,j,l=this,d=l.config,_={},E=0;return l.filterTargetsToShow(l.data.targets.filter(a,l)).forEach(function(W){for(O=0;O<d.data_groups.length;O++)if(!(d.data_groups[O].indexOf(W.id)<0))for(j=0;j<d.data_groups[O].length;j++)if(d.data_groups[O][j]in _){_[W.id]=_[d.data_groups[O][j]];break}q(_[W.id])&&(_[W.id]=E++)}),_.__max__=E-1,_},k.prototype.getShapeX=function(a,l,d,_){var O=_?this.subX:this.x;return function(j){var W=j.id in d?d[j.id]:0;return j.x||0===j.x?O(j.x)-a*(l/2-W):0}},k.prototype.getShapeY=function(a){var l=this;return function(d){return(a?l.getSubYScale(d.id):l.getYScale(d.id))(l.isTargetNormalized(d.id)?l.getRatio("index",d,!0):d.value)}},k.prototype.getShapeOffset=function(a,l,d){var _=this,E=_.orderTargets(_.filterTargetsToShow(_.data.targets.filter(a,_))),O=E.map(function(j){return j.id});return function(j,W){var ut=d?_.getSubYScale(j.id):_.getYScale(j.id),ot=ut(0),wt=ot;return E.forEach(function(Lt){var Ht=_.isStepType(j)?_.convertValuesToStep(Lt.values):Lt.values,Ut=_.isTargetNormalized(j.id),Wt=Ht.map(function(de){return Ut?_.getRatio("index",de,!0):de.value});Lt.id===j.id||l[Lt.id]!==l[j.id]||O.indexOf(Lt.id)<O.indexOf(j.id)&&((q(Ht[W])||+Ht[W].x!=+j.x)&&(W=-1,Ht.forEach(function(de,ae){(de.x.constructor===Date?+de.x:de.x)===(j.x.constructor===Date?+j.x:j.x)&&(W=ae)})),W in Ht&&Ht[W].value*j.value>=0&&(wt+=ut(Wt[W])-ot))}),wt}},k.prototype.isWithinShape=function(a,l){var E,d=this,_=d.d3.select(a);return d.isTargetToShow(l.id)?"circle"===a.nodeName?E=d.isStepType(l)?d.isWithinStep(a,d.getYScale(l.id)(l.value)):d.isWithinCircle(a,1.5*d.pointSelectR(l)):"path"===a.nodeName&&(E=!_.classed(z.bar)||d.isWithinBar(d.d3.mouse(a),a)):E=!1,E},k.prototype.getInterpolate=function(a){var l=this,d=l.d3,_={linear:d.curveLinear,"linear-closed":d.curveLinearClosed,basis:d.curveBasis,"basis-open":d.curveBasisOpen,"basis-closed":d.curveBasisClosed,bundle:d.curveBundle,cardinal:d.curveCardinal,"cardinal-open":d.curveCardinalOpen,"cardinal-closed":d.curveCardinalClosed,monotone:d.curveMonotoneX,step:d.curveStep,"step-before":d.curveStepBefore,"step-after":d.curveStepAfter};return l.isSplineType(a)?_[l.config.spline_interpolation_type]||_.cardinal:l.isStepType(a)?_[l.config.line_step_type]:_.linear},k.prototype.initLine=function(){this.main.select("."+z.chart).append("g").attr("class",z.chartLines)},k.prototype.updateTargetsForLine=function(a){var E,l=this,d=l.config,O=l.classChartLine.bind(l),j=l.classLines.bind(l),W=l.classAreas.bind(l),ut=l.classCircles.bind(l),ot=l.classFocus.bind(l);(E=l.main.select("."+z.chartLines).selectAll("."+z.chartLine).data(a).attr("class",function(wt){return O(wt)+ot(wt)}).enter().append("g").attr("class",O).style("opacity",0).style("pointer-events","none")).append("g").attr("class",j),E.append("g").attr("class",W),E.append("g").attr("class",function(wt){return l.generateClass(z.selectedCircles,wt.id)}),E.append("g").attr("class",ut).style("cursor",function(wt){return d.data_selection_isselectable(wt)?"pointer":null}),a.forEach(function(wt){l.main.selectAll("."+z.selectedCircles+l.getTargetSelectorSuffix(wt.id)).selectAll("."+z.selectedCircle).each(function(Lt){Lt.value=wt.values[Lt.index].value})})},k.prototype.updateLine=function(a){var l=this,d=l.main.selectAll("."+z.lines).selectAll("."+z.line).data(l.lineData.bind(l)),_=d.enter().append("path").attr("class",l.classLine.bind(l)).style("stroke",l.color);l.mainLine=_.merge(d).style("opacity",l.initialOpacity.bind(l)).style("shape-rendering",function(E){return l.isStepType(E)?"crispEdges":""}).attr("transform",null),d.exit().transition().duration(a).style("opacity",0)},k.prototype.redrawLine=function(a,l,d){return[(l?this.mainLine.transition(d):this.mainLine).attr("d",a).style("stroke",this.color).style("opacity",1)]},k.prototype.generateDrawLine=function(a,l){var d=this,_=d.config,E=d.d3.line(),O=d.generateGetLinePoints(a,l),j=l?d.getSubYScale:d.getYScale,W=function(ot){return(l?d.subxx:d.xx).call(d,ot)},ut=function(ot,wt){return _.data_groups.length>0?O(ot,wt)[0][1]:j.call(d,ot.id)(ot.value)};return E=_.axis_rotated?E.x(ut).y(W):E.x(W).y(ut),_.line_connectNull||(E=E.defined(function(ot){return null!=ot.value})),function(ot){var de,wt=_.line_connectNull?d.filterRemoveNull(ot.values):ot.values,Lt=l?d.subX:d.x,Ht=j.call(d,ot.id),Ut=0,Wt=0;return d.isLineType(ot)?_.data_regions[ot.id]?de=d.lineWithRegions(wt,Lt,Ht,_.data_regions[ot.id]):(d.isStepType(ot)&&(wt=d.convertValuesToStep(wt)),de=E.curve(d.getInterpolate(ot))(wt)):(wt[0]&&(Ut=Lt(wt[0].x),Wt=Ht(wt[0].value)),de=_.axis_rotated?"M "+Wt+" "+Ut:"M "+Ut+" "+Wt),de||"M 0 0"}},k.prototype.generateGetLinePoints=function(a,l){var d=this,_=d.config,O=d.getShapeX(0,a.__max__+1,a,!!l),j=d.getShapeY(!!l),W=d.getShapeOffset(d.isLineType,a,!!l),ut=l?d.getSubYScale:d.getYScale;return function(ot,wt){var Lt=ut.call(d,ot.id)(0),Ht=W(ot,wt)||Lt,Ut=O(ot),Wt=j(ot);return _.axis_rotated&&(0<ot.value&&Wt<Lt||ot.value<0&&Lt<Wt)&&(Wt=Lt),[[Ut,Wt-(Lt-Ht)],[Ut,Wt-(Lt-Ht)],[Ut,Wt-(Lt-Ht)],[Ut,Wt-(Lt-Ht)]]}},k.prototype.lineWithRegions=function(a,l,d,_){var W,ut,wt,Lt,Ht,Ut,Wt,ae,Ce,nn,yn,E=this,O=E.config,ot="M",Ue=E.isCategorized()?.5:0,on=[];function dn(He,Nn){var Le;for(Le=0;Le<Nn.length;Le++)if(Nn[Le].start<He&&He<=Nn[Le].end)return!0;return!1}if(J(_))for(W=0;W<_.length;W++)on[W]={},on[W].start=q(_[W].start)?a[0].x:E.isTimeSeries()?E.parseDate(_[W].start):_[W].start,on[W].end=q(_[W].end)?a[a.length-1].x:E.isTimeSeries()?E.parseDate(_[W].end):_[W].end;function an(He){return"M"+He[0][0]+" "+He[0][1]+" "+He[1][0]+" "+He[1][1]}for(nn=O.axis_rotated?function(He){return d(He.value)}:function(He){return l(He.x)},yn=O.axis_rotated?function(He){return l(He.x)}:function(He){return d(He.value)},wt=E.isTimeSeries()?function(He,Nn,Le,De){var le=He.x.getTime(),bn=Nn.x-He.x,Sn=new Date(le+bn*Le),cn=new Date(le+bn*(Le+De));return an(O.axis_rotated?[[d(Ht(Le)),l(Sn)],[d(Ht(Le+De)),l(cn)]]:[[l(Sn),d(Ht(Le))],[l(cn),d(Ht(Le+De))]])}:function(He,Nn,Le,De){return an(O.axis_rotated?[[d(Ht(Le),!0),l(Lt(Le))],[d(Ht(Le+De),!0),l(Lt(Le+De))]]:[[l(Lt(Le),!0),d(Ht(Le))],[l(Lt(Le+De),!0),d(Ht(Le+De))]])},W=0;W<a.length;W++)if(q(on)||!dn(a[W].x,on))ot+=" "+nn(a[W])+" "+yn(a[W]);else for(Lt=E.getScale(a[W-1].x+Ue,a[W].x+Ue,E.isTimeSeries()),Ht=E.getScale(a[W-1].value,a[W].value),Ut=l(a[W].x)-l(a[W-1].x),Wt=d(a[W].value)-d(a[W-1].value),Ce=2*(ae=2/Math.sqrt(Math.pow(Ut,2)+Math.pow(Wt,2))),ut=ae;ut<=1;ut+=Ce)ot+=wt(a[W-1],a[W],ut,ae);return ot},k.prototype.updateArea=function(a){var l=this,d=l.d3,_=l.main.selectAll("."+z.areas).selectAll("."+z.area).data(l.lineData.bind(l)),E=_.enter().append("path").attr("class",l.classArea.bind(l)).style("fill",l.color).style("opacity",function(){return l.orgAreaOpacity=+d.select(this).style("opacity"),0});l.mainArea=E.merge(_).style("opacity",l.orgAreaOpacity),_.exit().transition().duration(a).style("opacity",0)},k.prototype.redrawArea=function(a,l,d){return[(l?this.mainArea.transition(d):this.mainArea).attr("d",a).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},k.prototype.generateDrawArea=function(a,l){var d=this,_=d.config,E=d.d3.area(),O=d.generateGetAreaPoints(a,l),j=l?d.getSubYScale:d.getYScale,W=function(wt){return(l?d.subxx:d.xx).call(d,wt)},ut=function(wt,Lt){return _.data_groups.length>0?O(wt,Lt)[0][1]:j.call(d,wt.id)(d.getAreaBaseValue(wt.id))},ot=function(wt,Lt){return _.data_groups.length>0?O(wt,Lt)[1][1]:j.call(d,wt.id)(wt.value)};return E=_.axis_rotated?E.x0(ut).x1(ot).y(W):E.x(W).y0(_.area_above?0:ut).y1(ot),_.line_connectNull||(E=E.defined(function(wt){return null!==wt.value})),function(wt){var Wt,Lt=_.line_connectNull?d.filterRemoveNull(wt.values):wt.values,Ht=0,Ut=0;return d.isAreaType(wt)?(d.isStepType(wt)&&(Lt=d.convertValuesToStep(Lt)),Wt=E.curve(d.getInterpolate(wt))(Lt)):(Lt[0]&&(Ht=d.x(Lt[0].x),Ut=d.getYScale(wt.id)(Lt[0].value)),Wt=_.axis_rotated?"M "+Ut+" "+Ht:"M "+Ht+" "+Ut),Wt||"M 0 0"}},k.prototype.getAreaBaseValue=function(){return 0},k.prototype.generateGetAreaPoints=function(a,l){var d=this,_=d.config,O=d.getShapeX(0,a.__max__+1,a,!!l),j=d.getShapeY(!!l),W=d.getShapeOffset(d.isAreaType,a,!!l),ut=l?d.getSubYScale:d.getYScale;return function(ot,wt){var Lt=ut.call(d,ot.id)(0),Ht=W(ot,wt)||Lt,Ut=O(ot),Wt=j(ot);return _.axis_rotated&&(0<ot.value&&Wt<Lt||ot.value<0&&Lt<Wt)&&(Wt=Lt),[[Ut,Ht],[Ut,Wt-(Lt-Ht)],[Ut,Wt-(Lt-Ht)],[Ut,Ht]]}},k.prototype.updateCircle=function(a,l){var d=this,_=d.main.selectAll("."+z.circles).selectAll("."+z.circle).data(d.lineOrScatterOrStanfordData.bind(d)),E=_.enter().append("circle").attr("shape-rendering",d.isStanfordGraphType()?"crispEdges":"").attr("class",d.classCircle.bind(d)).attr("cx",a).attr("cy",l).attr("r",d.pointR.bind(d)).style("color",d.isStanfordGraphType()?d.getStanfordPointColor.bind(d):d.color);d.mainCircle=E.merge(_).style("opacity",d.isStanfordGraphType()?1:d.initialOpacityForCircle.bind(d)),_.exit().style("opacity",0)},k.prototype.redrawCircle=function(a,l,d,_){var E=this,O=E.main.selectAll("."+z.selectedCircle);return[(d?E.mainCircle.transition(_):E.mainCircle).style("opacity",this.opacityForCircle.bind(E)).style("color",E.isStanfordGraphType()?E.getStanfordPointColor.bind(E):E.color).attr("cx",a).attr("cy",l),(d?O.transition(_):O).attr("cx",a).attr("cy",l)]},k.prototype.circleX=function(a){return a.x||0===a.x?this.x(a.x):null},k.prototype.updateCircleY=function(){var l,d,a=this;a.config.data_groups.length>0?(l=a.getShapeIndices(a.isLineType),d=a.generateGetLinePoints(l),a.circleY=function(_,E){return d(_,E)[0][1]}):a.circleY=function(_){return a.getYScale(_.id)(_.value)}},k.prototype.getCircles=function(a,l){var d=this;return(l?d.main.selectAll("."+z.circles+d.getTargetSelectorSuffix(l)):d.main).selectAll("."+z.circle+(K(a)?"-"+a:""))},k.prototype.expandCircles=function(a,l,d){var _=this,E=_.pointExpandedR.bind(_);d&&_.unexpandCircles(),_.getCircles(a,l).classed(z.EXPANDED,!0).attr("r",E)},k.prototype.unexpandCircles=function(a){var l=this,d=l.pointR.bind(l);l.getCircles(a).filter(function(){return l.d3.select(this).classed(z.EXPANDED)}).classed(z.EXPANDED,!1).attr("r",d)},k.prototype.pointR=function(a){var d=this.config;return this.isStepType(a)?0:Tt(d.point_r)?d.point_r(a):d.point_r},k.prototype.pointExpandedR=function(a){var l=this,d=l.config;return d.point_focus_expand_enabled?Tt(d.point_focus_expand_r)?d.point_focus_expand_r(a):d.point_focus_expand_r?d.point_focus_expand_r:1.75*l.pointR(a):l.pointR(a)},k.prototype.pointSelectR=function(a){var d=this.config;return Tt(d.point_select_r)?d.point_select_r(a):d.point_select_r?d.point_select_r:4*this.pointR(a)},k.prototype.isWithinCircle=function(a,l){var d=this.d3,_=d.mouse(a),E=d.select(a),O=+E.attr("cx"),j=+E.attr("cy");return Math.sqrt(Math.pow(O-_[0],2)+Math.pow(j-_[1],2))<l},k.prototype.isWithinStep=function(a,l){return Math.abs(l-this.d3.mouse(a)[1])<30},k.prototype.getCurrentWidth=function(){var l=this.config;return l.size_width?l.size_width:this.getParentWidth()},k.prototype.getCurrentHeight=function(){var a=this,l=a.config,d=l.size_height?l.size_height:a.getParentHeight();return d>0?d:320/(a.hasType("gauge")&&!l.gauge_fullCircle?2:1)},k.prototype.getCurrentPaddingTop=function(){var a=this,l=a.config,d=K(l.padding_top)?l.padding_top:0;return a.title&&a.title.node()&&(d+=a.getTitlePadding()),d},k.prototype.getCurrentPaddingBottom=function(){var a=this.config;return K(a.padding_bottom)?a.padding_bottom:0},k.prototype.getCurrentPaddingLeft=function(a){var l=this,d=l.config;return K(d.padding_left)?d.padding_left:d.axis_rotated?!d.axis_x_show||d.axis_x_inner?1:Math.max(Mt(l.getAxisWidthByAxisId("x",a)),40):!d.axis_y_show||d.axis_y_inner?l.axis.getYAxisLabelPosition().isOuter?30:1:Mt(l.getAxisWidthByAxisId("y",a))},k.prototype.getCurrentPaddingRight=function(){var a=this,l=a.config,d=0,E=a.isLegendRight?a.getLegendWidth()+20:0;return d=K(l.padding_right)?l.padding_right+1:l.axis_rotated?10+E:!l.axis_y2_show||l.axis_y2_inner?2+E+(a.axis.getY2AxisLabelPosition().isOuter?20:0):Mt(a.getAxisWidthByAxisId("y2"))+E,a.colorScale&&a.colorScale.node()&&(d+=a.getColorScalePadding()),d},k.prototype.getParentRectValue=function(a){for(var d,l=this.selectChart.node();l&&"BODY"!==l.tagName;){try{d=l.getBoundingClientRect()[a]}catch{"width"===a&&(d=l.offsetWidth)}if(d)break;l=l.parentNode}return d},k.prototype.getParentWidth=function(){return this.getParentRectValue("width")},k.prototype.getParentHeight=function(){var a=this.selectChart.style("height");return a.indexOf("px")>0?+a.replace("px",""):0},k.prototype.getSvgLeft=function(a){var l=this,d=l.config,_=d.axis_rotated||!d.axis_rotated&&!d.axis_y_inner,O=l.main.select("."+(d.axis_rotated?z.axisX:z.axisY)).node(),j=O&&_?O.getBoundingClientRect():{right:0},W=l.selectChart.node().getBoundingClientRect(),ut=l.hasArcType(),ot=j.right-W.left-(ut?0:l.getCurrentPaddingLeft(a));return ot>0?ot:0},k.prototype.getAxisWidthByAxisId=function(a,l){var _=this.axis.getLabelPositionById(a);return this.axis.getMaxTickWidth(a,l)+(_.isInner?20:40)},k.prototype.getHorizontalAxisHeight=function(a,l){var d=this,_=d.config,E=30;return"x"!==a||(J(l)&&l?_.subchart_axis_x_show:_.axis_x_show)?"x"===a&&_.axis_x_height?_.axis_x_height:"y"!==a||_.axis_y_show?"y2"!==a||_.axis_y2_show?("x"===a&&!_.axis_rotated&&_.axis_x_tick_rotate&&(E=30+d.axis.getMaxTickWidth(a)*Math.cos(Math.PI*(90-Math.abs(_.axis_x_tick_rotate))/180)),"y"===a&&_.axis_rotated&&_.axis_y_tick_rotate&&(E=30+d.axis.getMaxTickWidth(a)*Math.cos(Math.PI*(90-Math.abs(_.axis_y_tick_rotate))/180)),E+(d.axis.getLabelPositionById(a).isInner?0:10)+("y2"===a?-10:0)):d.rotated_padding_top:!_.legend_show||d.isLegendRight||d.isLegendInset?1:10:8},k.prototype.initBrush=function(a){var l=this,d=l.d3;return l.brush=(l.config.axis_rotated?d.brushY():d.brushX()).on("brush",function(){var _=d.event.sourceEvent;_&&"zoom"===_.type||l.redrawForBrush()}).on("end",function(){var _=d.event.sourceEvent;_&&"zoom"===_.type||l.brush.empty()&&_&&"end"!==_.type&&l.brush.clear()}),l.brush.updateExtent=function(){var _=this.scale.range();return this.extent(l.config.axis_rotated?[[0,_[0]],[l.width2,_[1]]]:[[_[0],0],[_[1],l.height2]]),this},l.brush.updateScale=function(_){return this.scale=_,this},l.brush.update=function(_){this.updateScale(_||l.subX).updateExtent(),l.context.select("."+z.brush).call(this)},l.brush.clear=function(){l.context.select("."+z.brush).call(l.brush.move,null)},l.brush.selection=function(){return d.brushSelection(l.context.select("."+z.brush).node())},l.brush.selectionAsValue=function(_,E){var O,j;return _?(l.context&&(O=[this.scale(_[0]),this.scale(_[1])],j=l.context.select("."+z.brush),E&&(j=j.transition()),l.brush.move(j,O)),[]):(O=l.brush.selection()||[0,0],[this.scale.invert(O[0]),this.scale.invert(O[1])])},l.brush.empty=function(){var _=l.brush.selection();return!_||_[0]===_[1]},l.brush.updateScale(a)},k.prototype.initSubchart=function(){var a=this,l=a.config,d=a.context=a.svg.append("g").attr("transform",a.getTranslate("context"));d.style("visibility","visible"),d.append("g").attr("clip-path",a.clipPathForSubchart).attr("class",z.chart),d.select("."+z.chart).append("g").attr("class",z.chartBars),d.select("."+z.chart).append("g").attr("class",z.chartLines),d.append("g").attr("clip-path",a.clipPath).attr("class",z.brush),a.axes.subx=d.append("g").attr("class",z.axisX).attr("transform",a.getTranslate("subx")).attr("clip-path",l.axis_rotated?"":a.clipPathForXAxis).style("visibility",l.subchart_axis_x_show?"visible":"hidden")},k.prototype.initSubchartBrush=function(){var a=this;a.initBrush(a.subX).updateExtent(),a.context.select("."+z.brush).call(a.brush)},k.prototype.updateTargetsForSubchart=function(a){var E,O,j,W,l=this,d=l.context,_=l.config,ut=l.classChartBar.bind(l),ot=l.classBars.bind(l),wt=l.classChartLine.bind(l),Lt=l.classLines.bind(l),Ht=l.classAreas.bind(l);(j=(W=d.select("."+z.chartBars).selectAll("."+z.chartBar).data(a)).enter().append("g").style("opacity",0)).merge(W).attr("class",ut),j.append("g").attr("class",ot),(E=(O=d.select("."+z.chartLines).selectAll("."+z.chartLine).data(a)).enter().append("g").style("opacity",0)).merge(O).attr("class",wt),E.append("g").attr("class",Lt),E.append("g").attr("class",Ht),d.selectAll("."+z.brush+" rect").attr(_.axis_rotated?"width":"height",_.axis_rotated?l.width2:l.height2)},k.prototype.updateBarForSubchart=function(a){var l=this,d=l.context.selectAll("."+z.bars).selectAll("."+z.bar).data(l.barData.bind(l)),_=d.enter().append("path").attr("class",l.classBar.bind(l)).style("stroke","none").style("fill",l.color);d.exit().transition().duration(a).style("opacity",0).remove(),l.contextBar=_.merge(d).style("opacity",l.initialOpacity.bind(l))},k.prototype.redrawBarForSubchart=function(a,l,d){(l?this.contextBar.transition(Math.random().toString()).duration(d):this.contextBar).attr("d",a).style("opacity",1)},k.prototype.updateLineForSubchart=function(a){var l=this,d=l.context.selectAll("."+z.lines).selectAll("."+z.line).data(l.lineData.bind(l)),_=d.enter().append("path").attr("class",l.classLine.bind(l)).style("stroke",l.color);d.exit().transition().duration(a).style("opacity",0).remove(),l.contextLine=_.merge(d).style("opacity",l.initialOpacity.bind(l))},k.prototype.redrawLineForSubchart=function(a,l,d){(l?this.contextLine.transition(Math.random().toString()).duration(d):this.contextLine).attr("d",a).style("opacity",1)},k.prototype.updateAreaForSubchart=function(a){var l=this,d=l.d3,_=l.context.selectAll("."+z.areas).selectAll("."+z.area).data(l.lineData.bind(l)),E=_.enter().append("path").attr("class",l.classArea.bind(l)).style("fill",l.color).style("opacity",function(){return l.orgAreaOpacity=+d.select(this).style("opacity"),0});_.exit().transition().duration(a).style("opacity",0).remove(),l.contextArea=E.merge(_).style("opacity",0)},k.prototype.redrawAreaForSubchart=function(a,l,d){(l?this.contextArea.transition(Math.random().toString()).duration(d):this.contextArea).attr("d",a).style("fill",this.color).style("opacity",this.orgAreaOpacity)},k.prototype.redrawSubchart=function(a,l,d,_,E,O,j){var ot,wt,Lt,W=this,ut=W.d3;ut.event&&"zoom"===ut.event.type&&W.brush.selectionAsValue(W.x.orgDomain()),a&&(W.brush.empty()||W.brush.selectionAsValue(W.x.orgDomain()),ot=W.generateDrawArea(E,!0),wt=W.generateDrawBar(O,!0),Lt=W.generateDrawLine(j,!0),W.updateBarForSubchart(d),W.updateLineForSubchart(d),W.updateAreaForSubchart(d),W.redrawBarForSubchart(wt,d,d),W.redrawLineForSubchart(Lt,d,d),W.redrawAreaForSubchart(ot,d,d))},k.prototype.redrawForBrush=function(){var _,a=this,l=a.x,d=a.d3;a.redraw({withTransition:!1,withY:a.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),_=d.event.selection||a.brush.scale.range(),a.main.select("."+z.eventRect).call(a.zoom.transform,d.zoomIdentity.scale(a.width/(_[1]-_[0])).translate(-_[0],0)),a.config.subchart_onbrush.call(a.api,l.orgDomain())},k.prototype.transformContext=function(a,l){var _,d=this;l&&l.axisSubX?_=l.axisSubX:(_=d.context.select("."+z.axisX),a&&(_=_.transition())),d.context.attr("transform",d.getTranslate("context")),_.attr("transform",d.getTranslate("subx"))},k.prototype.getDefaultSelection=function(){var a=this,l=a.config,d=Tt(l.axis_x_selection)?l.axis_x_selection(a.getXDomain(a.data.targets)):l.axis_x_selection;return a.isTimeSeries()&&(d=[a.parseDate(d[0]),a.parseDate(d[1])]),d},k.prototype.removeSubchart=function(){var a=this;a.brush=null,a.context.remove(),a.context=null},k.prototype.initText=function(){var a=this;a.main.select("."+z.chart).append("g").attr("class",z.chartTexts),a.mainText=a.d3.selectAll([])},k.prototype.updateTargetsForText=function(a){var l=this,d=l.classChartText.bind(l),_=l.classTexts.bind(l),E=l.classFocus.bind(l),O=l.main.select("."+z.chartTexts).selectAll("."+z.chartText).data(a),j=O.enter().append("g").attr("class",d).style("opacity",0).style("pointer-events","none");j.append("g").attr("class",_),j.merge(O).attr("class",function(W){return d(W)+E(W)})},k.prototype.updateText=function(a,l,d){var _=this,E=_.config,O=_.barOrLineData.bind(_),j=_.classText.bind(_),W=_.main.selectAll("."+z.texts).selectAll("."+z.text).data(O),ut=W.enter().append("text").attr("class",j).attr("text-anchor",function(ot){return E.axis_rotated?ot.value<0?"end":"start":"middle"}).style("stroke","none").attr("x",a).attr("y",l).style("fill",function(ot){return _.color(ot)}).style("fill-opacity",0);_.mainText=ut.merge(W).text(function(ot,wt,Lt){return _.dataLabelFormat(ot.id)(ot.value,ot.id,wt,Lt)}),W.exit().transition().duration(d).style("fill-opacity",0).remove()},k.prototype.redrawText=function(a,l,d,_,E){return[(_?this.mainText.transition(E):this.mainText).attr("x",a).attr("y",l).style("fill",this.color).style("fill-opacity",d?0:this.opacityForText.bind(this))]},k.prototype.getTextRect=function(a,l,d){var j,_=this.d3.select("body").append("div").classed("c3",!0),E=_.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),O=this.d3.select(d).style("font");return E.selectAll(".dummy").data([a]).enter().append("text").classed(l||"",!0).style("font",O).text(a).each(function(){j=Pt(this)}),_.remove(),j},k.prototype.generateXYForText=function(a,l,d,_){var E=this,O=E.generateGetAreaPoints(a,!1),j=E.generateGetBarPoints(l,!1),W=E.generateGetLinePoints(d,!1),ut=_?E.getXForText:E.getYForText;return function(ot,wt){var Lt=E.isAreaType(ot)?O:E.isBarType(ot)?j:W;return ut.call(E,Lt(ot,wt),ot,this)}},k.prototype.getXForText=function(a,l,d){var O,j,_=this,E=Pt(d);return _.config.axis_rotated?(j=_.isBarType(l)?4:6,O=a[2][1]+j*(l.value<0?-1:1)):O=_.hasType("bar")?(a[2][0]+a[0][0])/2:a[0][0],null===l.value&&(O>_.width?O=_.width-E.width:O<0&&(O=4)),O},k.prototype.getYForText=function(a,l,d){var O,_=this,E=Pt(d);return _.config.axis_rotated?O=(a[0][0]+a[2][0]+.6*E.height)/2:(O=a[2][1],l.value<0||0===l.value&&!_.hasPositiveValue?(O+=E.height,_.isBarType(l)&&_.isSafari()?O-=3:!_.isBarType(l)&&_.isChrome()&&(O+=3)):O+=_.isBarType(l)?-3:-6),null===l.value&&!_.config.axis_rotated&&(O<E.height?O=E.height:O>this.height&&(O=this.height-4)),O},k.prototype.initTitle=function(){var a=this;a.title=a.svg.append("text").text(a.config.title_text).attr("class",a.CLASS.title)},k.prototype.redrawTitle=function(){var a=this;a.title.attr("x",a.xForTitle.bind(a)).attr("y",a.yForTitle.bind(a))},k.prototype.xForTitle=function(){var a=this,l=a.config,d=l.title_position||"left";return d.indexOf("right")>=0?a.currentWidth-a.getTextRect(a.title.node().textContent,a.CLASS.title,a.title.node()).width-l.title_padding.right:d.indexOf("center")>=0?Math.max((a.currentWidth-a.getTextRect(a.title.node().textContent,a.CLASS.title,a.title.node()).width)/2,0):l.title_padding.left},k.prototype.yForTitle=function(){var a=this;return a.config.title_padding.top+a.getTextRect(a.title.node().textContent,a.CLASS.title,a.title.node()).height},k.prototype.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom},k.prototype.drawColorScale=function(){var E,j,W,ut,ot,wt,Lt,a=this,l=a.d3,d=a.config,_=a.data.targets[0];if(E=isNaN(d.stanford_scaleWidth)?20:d.stanford_scaleWidth,5<0||E<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");W=l.range(d.stanford_padding.bottom,Lt=a.height-d.stanford_padding.bottom-d.stanford_padding.top,5),wt=l.scaleSequential(_.colors).domain([W[W.length-1],W[0]]),a.colorScale&&a.colorScale.remove(),a.colorScale=a.svg.append("g").attr("width",50).attr("height",Lt).attr("class",z.colorScale),a.colorScale.append("g").attr("transform","translate(0, "+d.stanford_padding.top+")").selectAll("bars").data(W).enter().append("rect").attr("y",function(Ht,Ut){return 5*Ut}).attr("x",0).attr("width",E).attr("height",5).attr("fill",function(Ht){return wt(Ht)}),ot=l.scaleLog().domain([_.minEpochs,_.maxEpochs]).range([W[0]+d.stanford_padding.top+W[W.length-1]+5-1,W[0]+d.stanford_padding.top]),ut=l.axisRight(ot),"pow10"===d.stanford_scaleFormat?ut.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):Tt(d.stanford_scaleFormat)?ut.tickFormat(d.stanford_scaleFormat):ut.tickFormat(l.format("d")),Tt(d.stanford_scaleValues)&&ut.tickValues(d.stanford_scaleValues(_.minEpochs,_.maxEpochs)),j=a.colorScale.append("g").attr("class","legend axis").attr("transform","translate("+E+",0)").call(ut),"pow10"===d.stanford_scaleFormat&&j.selectAll(".tick text").text(null).filter(oe).text(10).append("tspan").attr("dy","-.7em").text(function(Ht){return Math.round(Math.log(Ht)/Math.LN10)}),a.colorScale.attr("transform","translate("+(a.currentWidth-a.xForColorScale())+", 0)")},k.prototype.xForColorScale=function(){return this.config.stanford_padding.right+Pt(this.colorScale.node()).width},k.prototype.getColorScalePadding=function(){return this.xForColorScale()+this.config.stanford_padding.left+20},k.prototype.isStanfordGraphType=function(){return"stanford"===this.config.data_type},k.prototype.initStanfordData=function(){var E,O,j,a=this,l=a.d3,d=a.config,_=a.data.targets[0];if(_.values.sort(Ft),E=_.values.map(function(W){return W.epochs}),(j=isNaN(d.stanford_scaleMin)?l.min(E):d.stanford_scaleMin)>(O=isNaN(d.stanford_scaleMax)?l.max(E):d.stanford_scaleMax))throw Error("Number of minEpochs has to be smaller than maxEpochs");_.colors=Tt(d.stanford_colors)?d.stanford_colors:l.interpolateHslLong(l.hsl(250,1,.5),l.hsl(0,1,.5)),_.colorscale=l.scaleSequentialLog(_.colors).domain([j,O]),_.minEpochs=j,_.maxEpochs=O},k.prototype.getStanfordPointColor=function(a){return this.data.targets[0].colorscale(a.epochs)},k.prototype.getCentroid=function(a){var E,O,j,W,ut,l=ge(a),d=0,_=0;for(E=0,O=a.length-1;E<a.length;O=E,E+=1)d+=((W=a[E]).x+(ut=a[O]).x)*(j=W.x*ut.y-ut.x*W.y),_+=(W.y+ut.y)*j;return{x:d/(j=6*l),y:_/j}},k.prototype.getStanfordTooltipTitle=function(a){var d=this.axis.getLabelText("x"),_=this.axis.getLabelText("y");return"\n      <tr><th>"+(d?V(d):"x")+"</th><th class='value'>"+a.x+"</th></tr>\n      <tr><th>"+(_?V(_):"y")+"</th><th class='value'>"+a.value+"</th></tr>\n    "},k.prototype.countEpochsInRegion=function(a){var _,E,d=this.data.targets[0];return _=d.values.reduce(function(O,j){return O+Number(j.epochs)},0),{value:E=d.values.reduce(function(O,j){return ce(j,a)?O+Number(j.epochs):O},0),percentage:0!==E?(E/_*100).toFixed(1):0}};var ge=function(a){var d,_,E,O,l=0;for(d=0,_=a.length-1;d<a.length;_=d,d+=1)l+=(E=a[d]).x*(O=a[_]).y,l-=E.y*O.x;return l/2},ce=function(a,l){for(var d,_,E,W=a.x,ut=a.value,ot=!1,wt=0,Lt=l.length-1;wt<l.length;Lt=wt++)d=l[wt].x,(_=l[wt].y)>ut!=(E=l[Lt].y)>ut&&W<(l[Lt].x-d)*(ut-_)/(E-_)+d&&(ot=!ot);return ot},Ft=function(a,l){return a.epochs<l.epochs?-1:a.epochs>l.epochs?1:0};return k.prototype.initStanfordElements=function(){var a=this;a.stanfordElements=a.main.select("."+z.chart).append("g").attr("class",z.stanfordElements),a.stanfordElements.append("g").attr("class",z.stanfordLines),a.stanfordElements.append("g").attr("class",z.stanfordTexts),a.stanfordElements.append("g").attr("class",z.stanfordRegions)},k.prototype.updateStanfordElements=function(a){var E,O,j,W,ut,ot,l=this,d=l.main,_=l.config,wt=l.xvCustom.bind(l),Lt=l.yvCustom.bind(l),Ht=l.countEpochsInRegion.bind(l);(O=(E=d.select("."+z.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+z.stanfordLine).data(_.stanford_lines)).enter().append("g").attr("class",function(Ut){return z.stanfordLine+(Ut.class?" "+Ut.class:"")})).append("line").attr("x1",function(Ut){return _.axis_rotated?Lt(Ut,"value_y1"):wt(Ut,"value_x1")}).attr("x2",function(Ut){return _.axis_rotated?Lt(Ut,"value_y2"):wt(Ut,"value_x2")}).attr("y1",function(Ut){return _.axis_rotated?wt(Ut,"value_x1"):Lt(Ut,"value_y1")}).attr("y2",function(Ut){return _.axis_rotated?wt(Ut,"value_x2"):Lt(Ut,"value_y2")}).style("opacity",0),l.stanfordLines=O.merge(E),l.stanfordLines.select("line").transition().duration(a).attr("x1",function(Ut){return _.axis_rotated?Lt(Ut,"value_y1"):wt(Ut,"value_x1")}).attr("x2",function(Ut){return _.axis_rotated?Lt(Ut,"value_y2"):wt(Ut,"value_x2")}).attr("y1",function(Ut){return _.axis_rotated?wt(Ut,"value_x1"):Lt(Ut,"value_y1")}).attr("y2",function(Ut){return _.axis_rotated?wt(Ut,"value_x2"):Lt(Ut,"value_y2")}).style("opacity",1),E.exit().transition().duration(a).style("opacity",0).remove(),(ot=(ut=d.select("."+z.stanfordTexts).selectAll("."+z.stanfordText).data(_.stanford_texts)).enter().append("g").attr("class",function(Ut){return z.stanfordText+(Ut.class?" "+Ut.class:"")})).append("text").attr("x",function(Ut){return _.axis_rotated?Lt(Ut,"y"):wt(Ut,"x")}).attr("y",function(Ut){return _.axis_rotated?wt(Ut,"x"):Lt(Ut,"y")}).style("opacity",0),l.stanfordTexts=ot.merge(ut),l.stanfordTexts.select("text").transition().duration(a).attr("x",function(Ut){return _.axis_rotated?Lt(Ut,"y"):wt(Ut,"x")}).attr("y",function(Ut){return _.axis_rotated?wt(Ut,"x"):Lt(Ut,"y")}).text(function(Ut){return Ut.content}).style("opacity",1),ut.exit().transition().duration(a).style("opacity",0).remove(),(W=(j=d.select("."+z.stanfordRegions).selectAll("."+z.stanfordRegion).data(_.stanford_regions)).enter().append("g").attr("class",function(Ut){return z.stanfordRegion+(Ut.class?" "+Ut.class:"")})).append("polygon").attr("points",function(Ut){return Ut.points.map(function(Wt){return[_.axis_rotated?Lt(Wt,"y"):wt(Wt,"x"),_.axis_rotated?wt(Wt,"x"):Lt(Wt,"y")].join(",")}).join(" ")}).style("opacity",0),W.append("text").attr("x",function(Ut){return l.getCentroid(Ut.points).x}).attr("y",function(Ut){return l.getCentroid(Ut.points).y}).style("opacity",0),l.stanfordRegions=W.merge(j),l.stanfordRegions.select("polygon").transition().duration(a).attr("points",function(Ut){return Ut.points.map(function(Wt){return[_.axis_rotated?Lt(Wt,"y"):wt(Wt,"x"),_.axis_rotated?wt(Wt,"x"):Lt(Wt,"y")].join(",")}).join(" ")}).style("opacity",function(Ut){return Ut.opacity?Ut.opacity:.2}),l.stanfordRegions.select("text").transition().duration(a).attr("x",function(Ut){return _.axis_rotated?Lt(l.getCentroid(Ut.points),"y"):wt(l.getCentroid(Ut.points),"x")}).attr("y",function(Ut){return _.axis_rotated?wt(l.getCentroid(Ut.points),"x"):Lt(l.getCentroid(Ut.points),"y")}).text(function(Ut){var Wt,de,ae;return Ut.text?(l.isStanfordGraphType()&&(Wt=(ae=Ht(Ut.points)).value,de=ae.percentage),Ut.text(Wt,de)):""}).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),j.exit().transition().duration(a).style("opacity",0).remove()},k.prototype.initTooltip=function(){var d,a=this,l=a.config;if(a.tooltip=a.selectChart.style("position","relative").append("div").attr("class",z.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),l.tooltip_init_show){if(a.isTimeSeries()&&nt(l.tooltip_init_x)){for(l.tooltip_init_x=a.parseDate(l.tooltip_init_x),d=0;d<a.data.targets[0].values.length&&a.data.targets[0].values[d].x-l.tooltip_init_x!=0;d++);l.tooltip_init_x=d}a.tooltip.html(l.tooltip_contents.call(a,a.data.targets.map(function(_){return a.addName(_.values[l.tooltip_init_x])}),a.axis.getXAxisTickFormat(),a.getYFormat(a.hasArcType()),a.color)),a.tooltip.style("top",l.tooltip_init_position.top).style("left",l.tooltip_init_position.left).style("display","block")}},k.prototype.getTooltipSortFunction=function(){var a=this,l=a.config;if(0!==l.data_groups.length&&void 0===l.tooltip_order){var O=a.orderTargets(a.data.targets).map(function(j){return j.id});return(a.isOrderAsc()||a.isOrderDesc())&&(O=O.reverse()),function(j,W){return O.indexOf(j.id)-O.indexOf(W.id)}}var d=l.tooltip_order;void 0===d&&(d=l.data_order);var _=function(j){return j?j.value:null};if(nt(d)&&"asc"===d.toLowerCase())return function(j,W){return _(j)-_(W)};if(nt(d)&&"desc"===d.toLowerCase())return function(j,W){return _(W)-_(j)};if(Tt(d)){var E=d;return void 0===l.tooltip_order&&(E=function(j,W){return d(j?{id:j.id,values:[j]}:null,W?{id:W.id,values:[W]}:null)}),E}return ht(d)?function(j,W){return d.indexOf(j.id)-d.indexOf(W.id)}:void 0},k.prototype.getTooltipContent=function(a,l,d,_){var ut,ot,wt,Lt,Ht,Ut,E=this,O=E.config,j=O.tooltip_format_title||l,W=O.tooltip_format_name||function(ae){return ae},Wt=O.tooltip_format_value;Wt||(Wt=E.isTargetNormalized(a.id)?function(ae,Ce){return(100*Ce).toFixed(2)+"%"}:d);var de=this.getTooltipSortFunction();for(de&&a.sort(de),ot=0;ot<a.length;ot++)if(a[ot]&&(a[ot].value||0===a[ot].value)){if(E.isStanfordGraphType())ut||(wt=E.getStanfordTooltipTitle(a[ot]),ut="<table class='"+E.CLASS.tooltip+"'>"+wt),Ut=E.getStanfordPointColor(a[ot]),Ht=V(O.data_epochs),Lt=a[ot].epochs;else if(ut||(wt=V(j?j(a[ot].x,a[ot].index):a[ot].x),ut="<table class='"+E.CLASS.tooltip+"'>"+(wt||0===wt?"<tr><th colspan='2'>"+wt+"</th></tr>":"")),void 0!==(Lt=V(Wt(a[ot].value,a[ot].ratio,a[ot].id,a[ot].index,a)))){if(null===a[ot].name)continue;Ht=V(W(a[ot].name,a[ot].ratio,a[ot].id,a[ot].index)),Ut=E.levelColor?E.levelColor(a[ot].value):_(a[ot].id)}void 0!==Lt&&(ut+="<tr class='"+E.CLASS.tooltipName+"-"+E.getTargetSelectorSuffix(a[ot].id)+"'>",ut+="<td class='name'><span style='background-color:"+Ut+"'></span>"+Ht+"</td>",ut+="<td class='value'>"+Lt+"</td>",ut+="</tr>")}return ut+"</table>"},k.prototype.tooltipPosition=function(a,l,d,_){var W,ut,ot,wt,Lt,E=this,O=E.config,j=E.d3,Ht=E.hasArcType(),Ut=j.mouse(_);return Ht?(ut=(E.width-(E.isLegendRight?E.getLegendWidth():0))/2+Ut[0],wt=(E.hasType("gauge")?E.height:E.height/2)+Ut[1]+20):(W=E.getSvgLeft(!0),O.axis_rotated?(ot=(ut=W+Ut[0]+100)+l,Lt=E.currentWidth-E.getCurrentPaddingRight(),wt=E.x(a[0].x)+20):(ot=(ut=W+E.getCurrentPaddingLeft(!0)+E.x(a[0].x)+20)+l,Lt=W+E.currentWidth-E.getCurrentPaddingRight(),wt=Ut[1]+15),ot>Lt&&(ut-=ot-Lt+20),wt+d>E.currentHeight&&(wt-=d+30)),wt<0&&(wt=0),{top:wt,left:ut}},k.prototype.showTooltip=function(a,l){var E,O,j,d=this,_=d.config,W=d.hasArcType(),ut=a.filter(function(wt){return wt&&K(wt.value)}),ot=_.tooltip_position||k.prototype.tooltipPosition;0!==ut.length&&_.tooltip_show?(d.tooltip.html(_.tooltip_contents.call(d,a,d.axis.getXAxisTickFormat(),d.getYFormat(W),d.color)).style("display","block"),E=d.tooltip.property("offsetWidth"),O=d.tooltip.property("offsetHeight"),j=ot.call(this,ut,E,O,l),d.tooltip.style("top",j.top+"px").style("left",j.left+"px")):d.hideTooltip()},k.prototype.hideTooltip=function(){this.tooltip.style("display","none")},k.prototype.setTargetType=function(a,l){var d=this,_=d.config;d.mapToTargetIds(a).forEach(function(E){d.withoutFadeIn[E]=l===_.data_types[E],_.data_types[E]=l}),a||(_.data_type=l)},k.prototype.hasType=function(a,l){var d=this,_=d.config.data_types,E=!1;return(l=l||d.data.targets)&&l.length?l.forEach(function(O){var j=_[O.id];(j&&j.indexOf(a)>=0||!j&&"line"===a)&&(E=!0)}):Object.keys(_).length?Object.keys(_).forEach(function(O){_[O]===a&&(E=!0)}):E=d.config.data_type===a,E},k.prototype.hasArcType=function(a){return this.hasType("pie",a)||this.hasType("donut",a)||this.hasType("gauge",a)},k.prototype.isLineType=function(a){var l=this.config,d=nt(a)?a:a.id;return!l.data_types[d]||["line","spline","area","area-spline","step","area-step"].indexOf(l.data_types[d])>=0},k.prototype.isStepType=function(a){var l=nt(a)?a:a.id;return["step","area-step"].indexOf(this.config.data_types[l])>=0},k.prototype.isSplineType=function(a){var l=nt(a)?a:a.id;return["spline","area-spline"].indexOf(this.config.data_types[l])>=0},k.prototype.isAreaType=function(a){var l=nt(a)?a:a.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[l])>=0},k.prototype.isBarType=function(a){var l=nt(a)?a:a.id;return"bar"===this.config.data_types[l]},k.prototype.isScatterType=function(a){var l=nt(a)?a:a.id;return"scatter"===this.config.data_types[l]},k.prototype.isStanfordType=function(a){var l=nt(a)?a:a.id;return"stanford"===this.config.data_types[l]},k.prototype.isPieType=function(a){var l=nt(a)?a:a.id;return"pie"===this.config.data_types[l]},k.prototype.isGaugeType=function(a){var l=nt(a)?a:a.id;return"gauge"===this.config.data_types[l]},k.prototype.isDonutType=function(a){var l=nt(a)?a:a.id;return"donut"===this.config.data_types[l]},k.prototype.isArcType=function(a){return this.isPieType(a)||this.isDonutType(a)||this.isGaugeType(a)},k.prototype.lineData=function(a){return this.isLineType(a)?[a]:[]},k.prototype.arcData=function(a){return this.isArcType(a.data)?[a]:[]},k.prototype.barData=function(a){return this.isBarType(a)?a.values:[]},k.prototype.lineOrScatterOrStanfordData=function(a){return this.isLineType(a)||this.isScatterType(a)||this.isStanfordType(a)?a.values:[]},k.prototype.barOrLineData=function(a){return this.isBarType(a)||this.isLineType(a)?a.values:[]},k.prototype.isSafari=function(){var a=window.navigator.userAgent;return a.indexOf("Safari")>=0&&a.indexOf("Chrome")<0},k.prototype.isChrome=function(){return window.navigator.userAgent.indexOf("Chrome")>=0},k.prototype.initZoom=function(){var _,a=this,l=a.d3,d=a.config;return a.zoom=l.zoom().on("start",function(){if("scroll"===d.zoom_type){var E=l.event.sourceEvent;E&&"brush"===E.type||(_=E,d.zoom_onzoomstart.call(a.api,E))}}).on("zoom",function(){if("scroll"===d.zoom_type){var E=l.event.sourceEvent;E&&"brush"===E.type||(a.redrawForZoom(),d.zoom_onzoom.call(a.api,a.x.orgDomain()))}}).on("end",function(){if("scroll"===d.zoom_type){var E=l.event.sourceEvent;E&&"brush"===E.type||E&&_.clientX===E.clientX&&_.clientY===E.clientY||d.zoom_onzoomend.call(a.api,a.x.orgDomain())}}),a.zoom.updateDomain=function(){return l.event&&l.event.transform&&a.x.domain(d.axis_rotated&&"scroll"===d.zoom_type&&"mousemove"===l.event.sourceEvent.type?l.event.transform.rescaleY(a.subX).domain():l.event.transform.rescaleX(a.subX).domain()),this},a.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[a.width,a.height]]).extent([[0,0],[a.width,a.height]]),this},a.zoom.update=function(){return this.updateExtent().updateDomain()},a.zoom.updateExtent()},k.prototype.zoomTransform=function(a){var l=this,d=[l.x(a[0]),l.x(a[1])];return l.d3.zoomIdentity.scale(l.width/(d[1]-d[0])).translate(-d[0],0)},k.prototype.initDragZoom=function(){var a=this,l=a.d3,d=a.config,_=a.context=a.svg,E=a.margin.left+20.5,O=a.margin.top+.5;if("drag"===d.zoom_type&&d.zoom_enabled){var j=function(ut){return ut&&ut.map(function(ot){return a.x.invert(ot)})},W=a.dragZoomBrush=l.brushX().on("start",function(){a.api.unzoom(),a.svg.select("."+z.dragZoom).classed("disabled",!1),d.zoom_onzoomstart.call(a.api,l.event.sourceEvent)}).on("brush",function(){d.zoom_onzoom.call(a.api,j(l.event.selection))}).on("end",function(){if(null!=l.event.selection){var ut=j(l.event.selection);d.zoom_disableDefaultBehavior||a.api.zoom(ut),a.svg.select("."+z.dragZoom).classed("disabled",!0),d.zoom_onzoomend.call(a.api,ut)}});_.append("g").classed(z.dragZoom,!0).attr("clip-path",a.clipPath).attr("transform","translate("+E+","+O+")").call(W)}},k.prototype.getZoomDomain=function(){var a=this,l=a.config,d=a.d3;return[d.min([a.orgXDomain[0],l.zoom_x_min]),d.max([a.orgXDomain[1],l.zoom_x_max])]},k.prototype.redrawForZoom=function(){var a=this,l=a.d3,d=a.config,_=a.zoom,E=a.x;d.zoom_enabled&&0!==a.filterTargetsToShow(a.data.targets).length&&(_.update(),!d.zoom_disableDefaultBehavior&&(a.isCategorized()&&E.orgDomain()[0]===a.orgXDomain[0]&&E.domain([a.orgXDomain[0]-1e-10,E.orgDomain()[1]]),a.redraw({withTransition:!1,withY:d.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),l.event.sourceEvent&&"mousemove"===l.event.sourceEvent.type&&(a.cancelClick=!0)))},qt}()},6229:(Oe,kt,_t)=>{"use strict";_t.r(kt),_t.d(kt,{FormatSpecifier:()=>Ya,active:()=>Sm,arc:()=>Ub,area:()=>ty,areaRadial:()=>RT,ascending:()=>K,autoType:()=>y2,axisBottom:()=>ir,axisLeft:()=>Vr,axisRight:()=>lr,axisTop:()=>Pr,bisect:()=>bt,bisectLeft:()=>ct,bisectRight:()=>$,bisector:()=>X,blob:()=>_1,brush:()=>Zn,brushSelection:()=>En,brushX:()=>jn,brushY:()=>cr,buffer:()=>tc,chord:()=>Cm,clientPoint:()=>fi,cluster:()=>wl,color:()=>ia,contourDensity:()=>pA,contours:()=>Ql,create:()=>AT,creator:()=>Hn,cross:()=>yt,csv:()=>Hp,csvFormat:()=>i1,csvFormatBody:()=>Rm,csvFormatRow:()=>a1,csvFormatRows:()=>o1,csvFormatValue:()=>s1,csvParse:()=>d2,csvParseRows:()=>p2,cubehelix:()=>_s,curveBasis:()=>tS,curveBasisClosed:()=>VT,curveBasisOpen:()=>nS,curveBundle:()=>eD,curveCardinal:()=>BT,curveCardinalClosed:()=>nD,curveCardinalOpen:()=>$T,curveCatmullRom:()=>rD,curveCatmullRomClosed:()=>iD,curveCatmullRomOpen:()=>UT,curveLinear:()=>jd,curveLinearClosed:()=>oD,curveMonotoneX:()=>YT,curveMonotoneY:()=>da,curveNatural:()=>XT,curveStep:()=>sS,curveStepAfter:()=>hy,curveStepBefore:()=>ZT,customEvent:()=>ni,descending:()=>Nt,deviation:()=>oe,dispatch:()=>Xr,drag:()=>n1,dragDisable:()=>fs,dragEnable:()=>$o,dsv:()=>_A,dsvFormat:()=>Lm,easeBack:()=>m1,easeBackIn:()=>D2,easeBackInOut:()=>m1,easeBackOut:()=>P2,easeBounce:()=>Jl,easeBounceIn:()=>E2,easeBounceInOut:()=>A2,easeBounceOut:()=>Jl,easeCircle:()=>Gp,easeCircleIn:()=>M2,easeCircleInOut:()=>Gp,easeCircleOut:()=>Vm,easeCubic:()=>oi,easeCubicIn:()=>wm,easeCubicInOut:()=>oi,easeCubicOut:()=>Zi,easeElastic:()=>jp,easeElasticIn:()=>v1,easeElasticInOut:()=>I2,easeElasticOut:()=>jp,easeExp:()=>p1,easeExpIn:()=>S2,easeExpInOut:()=>p1,easeExpOut:()=>d1,easeLinear:()=>w2,easePoly:()=>nf,easePolyIn:()=>Nm,easePolyInOut:()=>nf,easePolyOut:()=>Mo,easeQuad:()=>$p,easeQuadIn:()=>x2,easeQuadInOut:()=>$p,easeQuadOut:()=>ca,easeSin:()=>h1,easeSinIn:()=>b2,easeSinInOut:()=>h1,easeSinOut:()=>f1,entries:()=>fA,event:()=>ke,extent:()=>ge,forceCenter:()=>T1,forceCollide:()=>L1,forceLink:()=>G2,forceManyBody:()=>wA,forceRadial:()=>xA,forceSimulation:()=>H2,forceX:()=>bA,forceY:()=>SA,format:()=>Zm,formatDefaultLocale:()=>N1,formatLocale:()=>Qp,formatPrefix:()=>Kp,formatSpecifier:()=>ec,geoAlbers:()=>Cw,geoAlbersUsa:()=>Ew,geoArea:()=>eM,geoAzimuthalEqualArea:()=>AA,geoAzimuthalEqualAreaRaw:()=>Ug,geoAzimuthalEquidistant:()=>DM,geoAzimuthalEquidistantRaw:()=>Pf,geoBounds:()=>iM,geoCentroid:()=>Pn,geoCircle:()=>CA,geoClipAntimeridian:()=>bg,geoClipCircle:()=>ew,geoClipExtent:()=>dM,geoClipRectangle:()=>sd,geoConicConformal:()=>Do,geoConicConformalRaw:()=>If,geoConicEqualArea:()=>zg,geoConicEqualAreaRaw:()=>Mw,geoConicEquidistant:()=>Iv,geoConicEquidistantRaw:()=>La,geoContains:()=>vv,geoDistance:()=>pv,geoEqualEarth:()=>Rf,geoEqualEarthRaw:()=>_l,geoEquirectangular:()=>jg,geoEquirectangularRaw:()=>Ms,geoGnomonic:()=>Pw,geoGnomonicRaw:()=>yl,geoGraticule:()=>ld,geoGraticule10:()=>sw,geoIdentity:()=>Iw,geoInterpolate:()=>_v,geoLength:()=>gM,geoMercator:()=>Pv,geoMercatorRaw:()=>yd,geoNaturalEarth1:()=>Lw,geoNaturalEarth1Raw:()=>Hg,geoOrthographic:()=>Rw,geoOrthographicRaw:()=>Wg,geoPath:()=>vw,geoProjection:()=>Zs,geoProjectionMutator:()=>Av,geoRotation:()=>uv,geoStereographic:()=>Ow,geoStereographicRaw:()=>qg,geoStream:()=>ws,geoTransform:()=>_w,geoTransverseMercator:()=>PM,geoTransverseMercatorRaw:()=>Yg,gray:()=>$h,hcl:()=>Ip,hierarchy:()=>Kg,histogram:()=>Lt,hsl:()=>gu,html:()=>Wp,image:()=>b1,interpolate:()=>ao,interpolateArray:()=>Gs,interpolateBasis:()=>ri,interpolateBasisClosed:()=>Ei,interpolateBlues:()=>$A,interpolateBrBG:()=>yb,interpolateBuGn:()=>Cb,interpolateBuPu:()=>Eb,interpolateCividis:()=>UA,interpolateCool:()=>Rb,interpolateCubehelix:()=>dx,interpolateCubehelixDefault:()=>jA,interpolateCubehelixLong:()=>Cd,interpolateDate:()=>mu,interpolateDiscrete:()=>WM,interpolateGnBu:()=>Ab,interpolateGreens:()=>Pb,interpolateGreys:()=>zA,interpolateHcl:()=>zv,interpolateHclLong:()=>hx,interpolateHsl:()=>XM,interpolateHslLong:()=>fx,interpolateHue:()=>qM,interpolateInferno:()=>qA,interpolateLab:()=>u0,interpolateMagma:()=>ET,interpolateNumber:()=>Nr,interpolateNumberArray:()=>Yi,interpolateObject:()=>gn,interpolateOrRd:()=>_T,interpolateOranges:()=>GA,interpolatePRGn:()=>fT,interpolatePiYG:()=>$_,interpolatePlasma:()=>Si,interpolatePuBu:()=>kA,interpolatePuBuGn:()=>NA,interpolatePuOr:()=>dT,interpolatePuRd:()=>FA,interpolatePurples:()=>CT,interpolateRainbow:()=>HA,interpolateRdBu:()=>gT,interpolateRdGy:()=>mT,interpolateRdPu:()=>VA,interpolateRdYlBu:()=>xb,interpolateRdYlGn:()=>Sb,interpolateReds:()=>ku,interpolateRgb:()=>Re,interpolateRgbBasis:()=>_r,interpolateRgbBasisClosed:()=>ii,interpolateRound:()=>ax,interpolateSinebow:()=>WA,interpolateSpectral:()=>vT,interpolateString:()=>ci,interpolateTransformCss:()=>lo,interpolateTransformSvg:()=>vu,interpolateTurbo:()=>As,interpolateViridis:()=>Y_,interpolateWarm:()=>TT,interpolateYlGn:()=>E0,interpolateYlGnBu:()=>BA,interpolateYlOrBr:()=>A0,interpolateYlOrRd:()=>zd,interpolateZoom:()=>Bv,interrupt:()=>uo,interval:()=>nE,isoFormat:()=>aD,isoParse:()=>eE,json:()=>M1,keys:()=>KS,lab:()=>Dp,lch:()=>hA,line:()=>R0,lineRadial:()=>LT,linkHorizontal:()=>QA,linkRadial:()=>JA,linkVertical:()=>KA,local:()=>kb,map:()=>ll,matcher:()=>as,max:()=>de,mean:()=>ae,median:()=>Ce,merge:()=>Ue,min:()=>nn,mouse:()=>Sa,namespace:()=>Fo,namespaces:()=>Fa,nest:()=>Hy,now:()=>Ma,pack:()=>zM,packEnclose:()=>Jg,packSiblings:()=>fc,pairs:()=>pt,partition:()=>GM,path:()=>Hl,permute:()=>yn,pie:()=>Yb,piecewise:()=>px,pointRadial:()=>N0,polygonArea:()=>mx,polygonCentroid:()=>vx,polygonContains:()=>JM,polygonHull:()=>KM,polygonLength:()=>tC,precisionFixed:()=>k1,precisionPrefix:()=>F1,precisionRound:()=>V1,quadtree:()=>Qh,quantile:()=>Ht,quantize:()=>gx,radialArea:()=>RT,radialLine:()=>LT,randomBates:()=>rC,randomExponential:()=>iC,randomIrwinHall:()=>wx,randomLogNormal:()=>nC,randomNormal:()=>yx,randomUniform:()=>eC,range:()=>_,rgb:()=>zo,ribbon:()=>Qc,scaleBand:()=>h0,scaleDiverging:()=>O_,scaleDivergingLog:()=>C0,scaleDivergingPow:()=>N_,scaleDivergingSqrt:()=>k_,scaleDivergingSymlog:()=>eh,scaleIdentity:()=>qv,scaleImplicit:()=>c0,scaleLinear:()=>Wv,scaleLog:()=>fC,scaleOrdinal:()=>f0,scalePoint:()=>bx,scalePow:()=>t_,scaleQuantile:()=>Gf,scaleQuantize:()=>Ex,scaleSequential:()=>pb,scaleSequentialLog:()=>Io,scaleSequentialPow:()=>L_,scaleSequentialQuantile:()=>sT,scaleSequentialSqrt:()=>aT,scaleSequentialSymlog:()=>Sc,scaleSqrt:()=>hC,scaleSymlog:()=>Qv,scaleThreshold:()=>Ax,scaleTime:()=>oT,scaleUtc:()=>db,scan:()=>on,schemeAccent:()=>uT,schemeBlues:()=>W_,schemeBrBG:()=>_b,schemeBuGn:()=>Mb,schemeBuPu:()=>Tb,schemeCategory10:()=>gb,schemeDark2:()=>lT,schemeGnBu:()=>U_,schemeGreens:()=>D0,schemeGreys:()=>q_,schemeOrRd:()=>j_,schemeOranges:()=>Lb,schemePRGn:()=>Mc,schemePaired:()=>cT,schemePastel1:()=>F_,schemePastel2:()=>mb,schemePiYG:()=>B_,schemePuBu:()=>H_,schemePuBuGn:()=>Db,schemePuOr:()=>hT,schemePuRd:()=>yT,schemePurples:()=>MT,schemeRdBu:()=>pT,schemeRdGy:()=>wb,schemeRdPu:()=>wT,schemeRdYlBu:()=>z_,schemeRdYlGn:()=>bb,schemeReds:()=>Ib,schemeSet1:()=>vb,schemeSet2:()=>T0,schemeSet3:()=>V_,schemeSpectral:()=>G_,schemeTableau10:()=>OA,schemeYlGn:()=>bT,schemeYlGnBu:()=>xT,schemeYlOrBr:()=>ST,schemeYlOrRd:()=>$d,select:()=>_i,selectAll:()=>Q_,selection:()=>io,selector:()=>No,selectorAll:()=>Jo,set:()=>cA,shuffle:()=>dn,stack:()=>uS,stackOffsetDiverging:()=>QT,stackOffsetExpand:()=>lS,stackOffsetNone:()=>Ec,stackOffsetSilhouette:()=>dy,stackOffsetWiggle:()=>KT,stackOrderAppearance:()=>cS,stackOrderAscending:()=>hS,stackOrderDescending:()=>ga,stackOrderInsideOut:()=>Ri,stackOrderNone:()=>pa,stackOrderReverse:()=>Mi,stratify:()=>Vf,style:()=>Cr,sum:()=>an,svg:()=>qp,symbol:()=>FT,symbolCircle:()=>ry,symbolCross:()=>Xd,symbolDiamond:()=>iy,symbolSquare:()=>k0,symbolStar:()=>Kb,symbolTriangle:()=>Qd,symbolWye:()=>uy,symbols:()=>kT,text:()=>Xh,thresholdFreedmanDiaconis:()=>Ut,thresholdScott:()=>Wt,thresholdSturges:()=>wt,tickFormat:()=>Po,tickIncrement:()=>ut,tickStep:()=>ot,ticks:()=>W,timeDay:()=>y0,timeDays:()=>xC,timeFormat:()=>Kf,timeFormatDefaultLocale:()=>S_,timeFormatLocale:()=>Ux,timeFriday:()=>mC,timeFridays:()=>Pd,timeHour:()=>Lx,timeHours:()=>Rx,timeInterval:()=>Li,timeMillisecond:()=>w0,timeMilliseconds:()=>o_,timeMinute:()=>Nx,timeMinutes:()=>Id,timeMonday:()=>Dd,timeMondays:()=>_0,timeMonth:()=>Hf,timeMonths:()=>pC,timeParse:()=>ns,timeSaturday:()=>vC,timeSaturdays:()=>wC,timeSecond:()=>Ld,timeSeconds:()=>Fx,timeSunday:()=>Wf,timeSundays:()=>i_,timeThursday:()=>qf,timeThursdays:()=>Px,timeTuesday:()=>Dx,timeTuesdays:()=>_C,timeWednesday:()=>gC,timeWednesdays:()=>yC,timeWeek:()=>Wf,timeWeeks:()=>i_,timeYear:()=>xl,timeYears:()=>dC,timeout:()=>m,timer:()=>Fi,timerFlush:()=>Fl,touch:()=>sa,touches:()=>Fb,transition:()=>Lh,transpose:()=>He,tree:()=>eu,treemap:()=>Ts,treemapBinary:()=>ix,treemapDice:()=>Ff,treemapResquarify:()=>HM,treemapSlice:()=>s0,treemapSliceDice:()=>ox,treemapSquarify:()=>es,tsv:()=>R2,tsvFormat:()=>m2,tsvFormatBody:()=>l1,tsvFormatRow:()=>v2,tsvFormatRows:()=>Om,tsvFormatValue:()=>_2,tsvParse:()=>u1,tsvParseRows:()=>g2,utcDay:()=>b0,utcDays:()=>AC,utcFormat:()=>S0,utcFriday:()=>Vx,utcFridays:()=>TC,utcHour:()=>lb,utcHours:()=>cb,utcMillisecond:()=>w0,utcMilliseconds:()=>o_,utcMinute:()=>fb,utcMinutes:()=>hb,utcMonday:()=>Od,utcMondays:()=>SC,utcMonth:()=>A_,utcMonths:()=>D_,utcParse:()=>b_,utcSaturday:()=>Bx,utcSaturdays:()=>EC,utcSecond:()=>Ld,utcSeconds:()=>Fx,utcSunday:()=>yc,utcSundays:()=>x0,utcThursday:()=>wc,utcThursdays:()=>CC,utcTuesday:()=>a_,utcTuesdays:()=>$x,utcWednesday:()=>s_,utcWednesdays:()=>MC,utcWeek:()=>yc,utcWeeks:()=>x0,utcYear:()=>bl,utcYears:()=>Gx,values:()=>wn,variance:()=>ne,version:()=>xt,voronoi:()=>vy,window:()=>tr,xml:()=>C1,zip:()=>Le,zoom:()=>dE,zoomIdentity:()=>rp,zoomTransform:()=>vS});var xt="5.16.0";function K(r,o){return r<o?-1:r>o?1:r>=o?0:NaN}function X(r){return 1===r.length&&(r=function V(r){return function(o,c){return K(r(o),c)}}(r)),{left:function(o,c,h,g){for(null==h&&(h=0),null==g&&(g=o.length);h<g;){var y=h+g>>>1;r(o[y],c)<0?h=y+1:g=y}return h},right:function(o,c,h,g){for(null==h&&(h=0),null==g&&(g=o.length);h<g;){var y=h+g>>>1;r(o[y],c)>0?g=y:h=y+1}return h}}}var Z=X(K),$=Z.right,ct=Z.left;const bt=$;function pt(r,o){null==o&&(o=z);for(var c=0,h=r.length-1,g=r[0],y=new Array(h<0?0:h);c<h;)y[c]=o(g,g=r[++c]);return y}function z(r,o){return[r,o]}function yt(r,o,c){var x,b,T,A,h=r.length,g=o.length,y=new Array(h*g);for(null==c&&(c=z),x=T=0;x<h;++x)for(A=r[x],b=0;b<g;++b,++T)y[T]=c(A,o[b]);return y}function Nt(r,o){return o<r?-1:o>r?1:o>=r?0:NaN}function qt(r){return null===r?NaN:+r}function ne(r,o){var x,b,c=r.length,h=0,g=-1,y=0,T=0;if(null==o)for(;++g<c;)isNaN(x=qt(r[g]))||(T+=(b=x-y)*(x-(y+=b/++h)));else for(;++g<c;)isNaN(x=qt(o(r[g],g,r)))||(T+=(b=x-y)*(x-(y+=b/++h)));if(h>1)return T/(h-1)}function oe(r,o){var c=ne(r,o);return c&&Math.sqrt(c)}function ge(r,o){var g,y,x,c=r.length,h=-1;if(null==o){for(;++h<c;)if(null!=(g=r[h])&&g>=g)for(y=x=g;++h<c;)null!=(g=r[h])&&(y>g&&(y=g),x<g&&(x=g))}else for(;++h<c;)if(null!=(g=o(r[h],h,r))&&g>=g)for(y=x=g;++h<c;)null!=(g=o(r[h],h,r))&&(y>g&&(y=g),x<g&&(x=g));return[y,x]}var ce=Array.prototype,Ft=ce.slice,a=ce.map;function l(r){return function(){return r}}function d(r){return r}function _(r,o,c){r=+r,o=+o,c=(g=arguments.length)<2?(o=r,r=0,1):g<3?1:+c;for(var h=-1,g=0|Math.max(0,Math.ceil((o-r)/c)),y=new Array(g);++h<g;)y[h]=r+h*c;return y}var E=Math.sqrt(50),O=Math.sqrt(10),j=Math.sqrt(2);function W(r,o,c){var h,y,x,b,g=-1;if(c=+c,(r=+r)==(o=+o)&&c>0)return[r];if((h=o<r)&&(y=r,r=o,o=y),0===(b=ut(r,o,c))||!isFinite(b))return[];if(b>0)for(r=Math.ceil(r/b),o=Math.floor(o/b),x=new Array(y=Math.ceil(o-r+1));++g<y;)x[g]=(r+g)*b;else for(r=Math.floor(r*b),o=Math.ceil(o*b),x=new Array(y=Math.ceil(r-o+1));++g<y;)x[g]=(r-g)/b;return h&&x.reverse(),x}function ut(r,o,c){var h=(o-r)/Math.max(0,c),g=Math.floor(Math.log(h)/Math.LN10),y=h/Math.pow(10,g);return g>=0?(y>=E?10:y>=O?5:y>=j?2:1)*Math.pow(10,g):-Math.pow(10,-g)/(y>=E?10:y>=O?5:y>=j?2:1)}function ot(r,o,c){var h=Math.abs(o-r)/Math.max(0,c),g=Math.pow(10,Math.floor(Math.log(h)/Math.LN10)),y=h/g;return y>=E?g*=10:y>=O?g*=5:y>=j&&(g*=2),o<r?-g:g}function wt(r){return Math.ceil(Math.log(r.length)/Math.LN2)+1}function Lt(){var r=d,o=ge,c=wt;function h(g){var y,b,x=g.length,T=new Array(x);for(y=0;y<x;++y)T[y]=r(g[y],y,g);var A=o(T),I=A[0],F=A[1],N=c(T,I,F);Array.isArray(N)||(N=ot(I,F,N),N=_(Math.ceil(I/N)*N,F,N));for(var Y=N.length;N[0]<=I;)N.shift(),--Y;for(;N[Y-1]>F;)N.pop(),--Y;var rt,it=new Array(Y+1);for(y=0;y<=Y;++y)(rt=it[y]=[]).x0=y>0?N[y-1]:I,rt.x1=y<Y?N[y]:F;for(y=0;y<x;++y)I<=(b=T[y])&&b<=F&&it[bt(N,b,0,Y)].push(g[y]);return it}return h.value=function(g){return arguments.length?(r="function"==typeof g?g:l(g),h):r},h.domain=function(g){return arguments.length?(o="function"==typeof g?g:l([g[0],g[1]]),h):o},h.thresholds=function(g){return arguments.length?(c="function"==typeof g?g:Array.isArray(g)?l(Ft.call(g)):l(g),h):c},h}function Ht(r,o,c){if(null==c&&(c=qt),h=r.length){if((o=+o)<=0||h<2)return+c(r[0],0,r);if(o>=1)return+c(r[h-1],h-1,r);var h,g=(h-1)*o,y=Math.floor(g),x=+c(r[y],y,r);return x+(+c(r[y+1],y+1,r)-x)*(g-y)}}function Ut(r,o,c){return r=a.call(r,qt).sort(K),Math.ceil((c-o)/(2*(Ht(r,.75)-Ht(r,.25))*Math.pow(r.length,-1/3)))}function Wt(r,o,c){return Math.ceil((c-o)/(3.5*oe(r)*Math.pow(r.length,-1/3)))}function de(r,o){var g,y,c=r.length,h=-1;if(null==o){for(;++h<c;)if(null!=(g=r[h])&&g>=g)for(y=g;++h<c;)null!=(g=r[h])&&g>y&&(y=g)}else for(;++h<c;)if(null!=(g=o(r[h],h,r))&&g>=g)for(y=g;++h<c;)null!=(g=o(r[h],h,r))&&g>y&&(y=g);return y}function ae(r,o){var y,c=r.length,h=c,g=-1,x=0;if(null==o)for(;++g<c;)isNaN(y=qt(r[g]))?--h:x+=y;else for(;++g<c;)isNaN(y=qt(o(r[g],g,r)))?--h:x+=y;if(h)return x/h}function Ce(r,o){var g,c=r.length,h=-1,y=[];if(null==o)for(;++h<c;)isNaN(g=qt(r[h]))||y.push(g);else for(;++h<c;)isNaN(g=qt(o(r[h],h,r)))||y.push(g);return Ht(y.sort(K),.5)}function Ue(r){for(var c,y,x,o=r.length,h=-1,g=0;++h<o;)g+=r[h].length;for(y=new Array(g);--o>=0;)for(c=(x=r[o]).length;--c>=0;)y[--g]=x[c];return y}function nn(r,o){var g,y,c=r.length,h=-1;if(null==o){for(;++h<c;)if(null!=(g=r[h])&&g>=g)for(y=g;++h<c;)null!=(g=r[h])&&y>g&&(y=g)}else for(;++h<c;)if(null!=(g=o(r[h],h,r))&&g>=g)for(y=g;++h<c;)null!=(g=o(r[h],h,r))&&y>g&&(y=g);return y}function yn(r,o){for(var c=o.length,h=new Array(c);c--;)h[c]=r[o[c]];return h}function on(r,o){if(c=r.length){var c,y,h=0,g=0,x=r[g];for(null==o&&(o=K);++h<c;)(o(y=r[h],x)<0||0!==o(x,x))&&(x=y,g=h);if(0===o(x,x))return g}}function dn(r,o,c){for(var g,y,h=(c??r.length)-(o=null==o?0:+o);h;)y=Math.random()*h--|0,g=r[h+o],r[h+o]=r[y+o],r[y+o]=g;return r}function an(r,o){var g,c=r.length,h=-1,y=0;if(null==o)for(;++h<c;)(g=+r[h])&&(y+=g);else for(;++h<c;)(g=+o(r[h],h,r))&&(y+=g);return y}function He(r){if(!(y=r.length))return[];for(var o=-1,c=nn(r,Nn),h=new Array(c);++o<c;)for(var y,g=-1,x=h[o]=new Array(y);++g<y;)x[g]=r[g][o];return h}function Nn(r){return r.length}function Le(){return He(arguments)}var De=Array.prototype.slice;function le(r){return r}var bn=1,Sn=2,cn=3,Gn=4,In=1e-6;function dr(r){return"translate("+(r+.5)+",0)"}function Jn(r){return"translate(0,"+(r+.5)+")"}function _e(r){return function(o){return+r(o)}}function We(r){var o=Math.max(0,r.bandwidth()-1)/2;return r.round()&&(o=Math.round(o)),function(c){return+r(c)+o}}function Dr(){return!this.__axis}function Gr(r,o){var c=[],h=null,g=null,y=6,x=6,b=3,T=r===bn||r===Gn?-1:1,A=r===Gn||r===Sn?"x":"y",I=r===bn||r===cn?dr:Jn;function F(N){var Y=h??(o.ticks?o.ticks.apply(o,c):o.domain()),it=g??(o.tickFormat?o.tickFormat.apply(o,c):le),rt=Math.max(y,0)+b,at=o.range(),lt=+at[0]+.5,At=+at[at.length-1]+.5,dt=(o.bandwidth?We:_e)(o.copy()),St=N.selection?N.selection():N,jt=St.selectAll(".domain").data([null]),Kt=St.selectAll(".tick").data(Y,o).order(),Xt=Kt.exit(),ve=Kt.enter().append("g").attr("class","tick"),se=Kt.select("line"),pe=Kt.select("text");jt=jt.merge(jt.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Kt=Kt.merge(ve),se=se.merge(ve.append("line").attr("stroke","currentColor").attr(A+"2",T*y)),pe=pe.merge(ve.append("text").attr("fill","currentColor").attr(A,T*rt).attr("dy",r===bn?"0em":r===cn?"0.71em":"0.32em")),N!==St&&(jt=jt.transition(N),Kt=Kt.transition(N),se=se.transition(N),pe=pe.transition(N),Xt=Xt.transition(N).attr("opacity",In).attr("transform",function(ie){return isFinite(ie=dt(ie))?I(ie):this.getAttribute("transform")}),ve.attr("opacity",In).attr("transform",function(ie){var It=this.parentNode.__axis;return I(It&&isFinite(It=It(ie))?It:dt(ie))})),Xt.remove(),jt.attr("d",r===Gn||r==Sn?x?"M"+T*x+","+lt+"H0.5V"+At+"H"+T*x:"M0.5,"+lt+"V"+At:x?"M"+lt+","+T*x+"V0.5H"+At+"V"+T*x:"M"+lt+",0.5H"+At),Kt.attr("opacity",1).attr("transform",function(ie){return I(dt(ie))}),se.attr(A+"2",T*y),pe.attr(A,T*rt).text(it),St.filter(Dr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",r===Sn?"start":r===Gn?"end":"middle"),St.each(function(){this.__axis=dt})}return F.scale=function(N){return arguments.length?(o=N,F):o},F.ticks=function(){return c=De.call(arguments),F},F.tickArguments=function(N){return arguments.length?(c=null==N?[]:De.call(N),F):c.slice()},F.tickValues=function(N){return arguments.length?(h=null==N?null:De.call(N),F):h&&h.slice()},F.tickFormat=function(N){return arguments.length?(g=N,F):g},F.tickSize=function(N){return arguments.length?(y=x=+N,F):y},F.tickSizeInner=function(N){return arguments.length?(y=+N,F):y},F.tickSizeOuter=function(N){return arguments.length?(x=+N,F):x},F.tickPadding=function(N){return arguments.length?(b=+N,F):b},F}function Pr(r){return Gr(bn,r)}function lr(r){return Gr(Sn,r)}function ir(r){return Gr(cn,r)}function Vr(r){return Gr(Gn,r)}var Gi={value:function(){}};function ui(){for(var h,r=0,o=arguments.length,c={};r<o;++r){if(!(h=arguments[r]+"")||h in c||/[\s.]/.test(h))throw new Error("illegal type: "+h);c[h]=[]}return new qr(c)}function qr(r){this._=r}function to(r,o){for(var g,c=0,h=r.length;c<h;++c)if((g=r[c]).name===o)return g.value}function Yr(r,o,c){for(var h=0,g=r.length;h<g;++h)if(r[h].name===o){r[h]=Gi,r=r.slice(0,h).concat(r.slice(h+1));break}return null!=c&&r.push({name:o,value:c}),r}qr.prototype=ui.prototype={constructor:qr,on:function(r,o){var g,c=this._,h=function en(r,o){return r.trim().split(/^|\s+/).map(function(c){var h="",g=c.indexOf(".");if(g>=0&&(h=c.slice(g+1),c=c.slice(0,g)),c&&!o.hasOwnProperty(c))throw new Error("unknown type: "+c);return{type:c,name:h}})}(r+"",c),y=-1,x=h.length;if(!(arguments.length<2)){if(null!=o&&"function"!=typeof o)throw new Error("invalid callback: "+o);for(;++y<x;)if(g=(r=h[y]).type)c[g]=Yr(c[g],r.name,o);else if(null==o)for(g in c)c[g]=Yr(c[g],r.name,null);return this}for(;++y<x;)if((g=(r=h[y]).type)&&(g=to(c[g],r.name)))return g},copy:function(){var r={},o=this._;for(var c in o)r[c]=o[c].slice();return new qr(r)},call:function(r,o){if((g=arguments.length-2)>0)for(var g,y,c=new Array(g),h=0;h<g;++h)c[h]=arguments[h+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(h=0,g=(y=this._[r]).length;h<g;++h)y[h].value.apply(o,c)},apply:function(r,o,c){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var h=this._[r],g=0,y=h.length;g<y;++g)h[g].value.apply(o,c)}};const Xr=ui;function Zr(){}function No(r){return null==r?Zr:function(){return this.querySelector(r)}}function Na(){return[]}function Jo(r){return null==r?Na:function(){return this.querySelectorAll(r)}}function as(r){return function(){return this.matches(r)}}function zu(r){return new Array(r.length)}function eo(r,o){this.ownerDocument=r.ownerDocument,this.namespaceURI=r.namespaceURI,this._next=null,this._parent=r,this.__data__=o}eo.prototype={constructor:eo,appendChild:function(r){return this._parent.insertBefore(r,this._next)},insertBefore:function(r,o){return this._parent.insertBefore(r,o)},querySelector:function(r){return this._parent.querySelector(r)},querySelectorAll:function(r){return this._parent.querySelectorAll(r)}};var su="$";function ko(r,o,c,h,g,y){for(var b,x=0,T=o.length,A=y.length;x<A;++x)(b=o[x])?(b.__data__=y[x],h[x]=b):c[x]=new eo(r,y[x]);for(;x<T;++x)(b=o[x])&&(g[x]=b)}function gh(r,o,c,h,g,y,x){var b,T,Y,A={},I=o.length,F=y.length,N=new Array(I);for(b=0;b<I;++b)(T=o[b])&&(N[b]=Y=su+x.call(T,T.__data__,b,o),Y in A?g[b]=T:A[Y]=T);for(b=0;b<F;++b)(T=A[Y=su+x.call(r,y[b],b,y)])?(h[b]=T,T.__data__=y[b],A[Y]=null):c[b]=new eo(r,y[b]);for(b=0;b<I;++b)(T=o[b])&&A[N[b]]===T&&(g[b]=T)}function uu(r,o){return r<o?-1:r>o?1:r>=o?0:NaN}var us="http://www.w3.org/1999/xhtml";const Fa={svg:"http://www.w3.org/2000/svg",xhtml:us,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Fo(r){var o=r+="",c=o.indexOf(":");return c>=0&&"xmlns"!==(o=r.slice(0,c))&&(r=r.slice(c+1)),Fa.hasOwnProperty(o)?{space:Fa[o],local:r}:r}function Gu(r){return function(){this.removeAttribute(r)}}function Mn(r){return function(){this.removeAttributeNS(r.space,r.local)}}function Ir(r,o){return function(){this.setAttribute(r,o)}}function Lr(r,o){return function(){this.setAttributeNS(r.space,r.local,o)}}function lu(r,o){return function(){var c=o.apply(this,arguments);null==c?this.removeAttribute(r):this.setAttribute(r,c)}}function po(r,o){return function(){var c=o.apply(this,arguments);null==c?this.removeAttributeNS(r.space,r.local):this.setAttributeNS(r.space,r.local,c)}}function tr(r){return r.ownerDocument&&r.ownerDocument.defaultView||r.document&&r||r.defaultView}function ta(r){return function(){this.style.removeProperty(r)}}function pn(r,o,c){return function(){this.style.setProperty(r,o,c)}}function Ni(r,o,c){return function(){var h=o.apply(this,arguments);null==h?this.style.removeProperty(r):this.style.setProperty(r,h,c)}}function Cr(r,o){return r.style.getPropertyValue(o)||tr(r).getComputedStyle(r,null).getPropertyValue(o)}function Qe(r){return function(){delete this[r]}}function Vo(r,o){return function(){this[r]=o}}function cu(r,o){return function(){var c=o.apply(this,arguments);null==c?delete this[r]:this[r]=c}}function Vs(r){return r.trim().split(/^|\s+/)}function Ie(r){return r.classList||new _a(r)}function _a(r){this._node=r,this._names=Vs(r.getAttribute("class")||"")}function sn(r,o){for(var c=Ie(r),h=-1,g=o.length;++h<g;)c.add(o[h])}function or(r,o){for(var c=Ie(r),h=-1,g=o.length;++h<g;)c.remove(o[h])}function fu(r){return function(){sn(this,r)}}function hp(r){return function(){or(this,r)}}function kn(r,o){return function(){(o.apply(this,arguments)?sn:or)(this,r)}}function Xn(){this.textContent=""}function vh(r){return function(){this.textContent=r}}function Uu(r){return function(){var o=r.apply(this,arguments);this.textContent=o??""}}function ea(){this.innerHTML=""}function Bs(r){return function(){this.innerHTML=r}}function ls(r){return function(){var o=r.apply(this,arguments);this.innerHTML=o??""}}function Bo(){this.nextSibling&&this.parentNode.appendChild(this)}function kc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Vc(r){return function(){var o=this.ownerDocument,c=this.namespaceURI;return c===us&&o.documentElement.namespaceURI===us?o.createElement(r):o.createElementNS(c,r)}}function ji(r){return function(){return this.ownerDocument.createElementNS(r.space,r.local)}}function Hn(r){var o=Fo(r);return(o.local?ji:Vc)(o)}function Nl(){return null}function un(){var r=this.parentNode;r&&r.removeChild(this)}function wa(){var r=this.cloneNode(!1),o=this.parentNode;return o?o.insertBefore(r,this.nextSibling):r}function vi(){var r=this.cloneNode(!0),o=this.parentNode;return o?o.insertBefore(r,this.nextSibling):r}_a.prototype={add:function(r){this._names.indexOf(r)<0&&(this._names.push(r),this._node.setAttribute("class",this._names.join(" ")))},remove:function(r){var o=this._names.indexOf(r);o>=0&&(this._names.splice(o,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(r){return this._names.indexOf(r)>=0}};var $c={},ke=null;function qu(r,o,c){return r=$s(r,o,c),function(h){var g=h.relatedTarget;(!g||g!==this&&!(8&g.compareDocumentPosition(this)))&&r.call(this,h)}}function $s(r,o,c){return function(h){var g=ke;ke=h;try{r.call(this,this.__data__,o,c)}finally{ke=g}}}function qe(r){return function(){var o=this.__on;if(o){for(var y,c=0,h=-1,g=o.length;c<g;++c)y=o[c],r.type&&y.type!==r.type||y.name!==r.name?o[++h]=y:this.removeEventListener(y.type,y.listener,y.capture);++h?o.length=h:delete this.__on}}}function go(r,o,c){var h=$c.hasOwnProperty(r.type)?qu:$s;return function(g,y,x){var T,b=this.__on,A=h(o,y,x);if(b)for(var I=0,F=b.length;I<F;++I)if((T=b[I]).type===r.type&&T.name===r.name)return this.removeEventListener(T.type,T.listener,T.capture),this.addEventListener(T.type,T.listener=A,T.capture=c),void(T.value=o);this.addEventListener(r.type,A,c),T={type:r.type,name:r.name,value:o,listener:A,capture:c},b?b.push(T):this.__on=[T]}}function ni(r,o,c,h){var g=ke;r.sourceEvent=ke,ke=r;try{return o.apply(c,h)}finally{ke=g}}function Xu(r,o,c){var h=tr(r),g=h.CustomEvent;"function"==typeof g?g=new g(o,c):(g=h.document.createEvent("Event"),c?(g.initEvent(o,c.bubbles,c.cancelable),g.detail=c.detail):g.initEvent(o,!1,!1)),r.dispatchEvent(g)}function zc(r,o){return function(){return Xu(this,r,o)}}function sr(r,o){return function(){return Xu(this,r,o.apply(this,arguments))}}typeof document<"u"&&("onmouseenter"in document.documentElement||($c={mouseenter:"mouseover",mouseleave:"mouseout"}));var kl=[null];function Hi(r,o){this._groups=r,this._parents=o}function zs(){return new Hi([[document.documentElement]],kl)}Hi.prototype=zs.prototype={constructor:Hi,select:function os(r){"function"!=typeof r&&(r=No(r));for(var o=this._groups,c=o.length,h=new Array(c),g=0;g<c;++g)for(var T,A,y=o[g],x=y.length,b=h[g]=new Array(x),I=0;I<x;++I)(T=y[I])&&(A=r.call(T,T.__data__,I,y))&&("__data__"in T&&(A.__data__=T.__data__),b[I]=A);return new Hi(h,this._parents)},selectAll:function ei(r){"function"!=typeof r&&(r=Jo(r));for(var o=this._groups,c=o.length,h=[],g=[],y=0;y<c;++y)for(var T,x=o[y],b=x.length,A=0;A<b;++A)(T=x[A])&&(h.push(r.call(T,T.__data__,A,x)),g.push(T));return new Hi(h,g)},filter:function va(r){"function"!=typeof r&&(r=as(r));for(var o=this._groups,c=o.length,h=new Array(c),g=0;g<c;++g)for(var T,y=o[g],x=y.length,b=h[g]=[],A=0;A<x;++A)(T=y[A])&&r.call(T,T.__data__,A,y)&&b.push(T);return new Hi(h,this._parents)},data:function Br(r,o){if(!r)return Y=new Array(this.size()),A=-1,this.each(function(Kt){Y[++A]=Kt}),Y;var c=o?gh:ko,h=this._parents,g=this._groups;"function"!=typeof r&&(r=function ss(r){return function(){return r}}(r));for(var y=g.length,x=new Array(y),b=new Array(y),T=new Array(y),A=0;A<y;++A){var I=h[A],F=g[A],N=F.length,Y=r.call(I,I&&I.__data__,A,h),it=Y.length,rt=b[A]=new Array(it),at=x[A]=new Array(it);c(I,F,rt,at,T[A]=new Array(N),Y,o);for(var St,jt,At=0,dt=0;At<it;++At)if(St=rt[At]){for(At>=dt&&(dt=At+1);!(jt=at[dt])&&++dt<it;);St._next=jt||null}}return(x=new Hi(x,h))._enter=b,x._exit=T,x},enter:function Il(){return new Hi(this._enter||this._groups.map(zu),this._parents)},exit:function no(){return new Hi(this._exit||this._groups.map(zu),this._parents)},join:function ro(r,o,c){var h=this.enter(),g=this,y=this.exit();return h="function"==typeof r?r(h):h.append(r+""),null!=o&&(g=o(g)),null==c?y.remove():c(y),h&&g?h.merge(g).order():g},merge:function Ns(r){for(var o=this._groups,c=r._groups,h=o.length,y=Math.min(h,c.length),x=new Array(h),b=0;b<y;++b)for(var N,T=o[b],A=c[b],I=T.length,F=x[b]=new Array(I),Y=0;Y<I;++Y)(N=T[Y]||A[Y])&&(F[Y]=N);for(;b<h;++b)x[b]=o[b];return new Hi(x,this._parents)},order:function Nc(){for(var r=this._groups,o=-1,c=r.length;++o<c;)for(var x,h=r[o],g=h.length-1,y=h[g];--g>=0;)(x=h[g])&&(y&&4^x.compareDocumentPosition(y)&&y.parentNode.insertBefore(x,y),y=x);return this},sort:function mh(r){function o(F,N){return F&&N?r(F.__data__,N.__data__):!F-!N}r||(r=uu);for(var c=this._groups,h=c.length,g=new Array(h),y=0;y<h;++y){for(var A,x=c[y],b=x.length,T=g[y]=new Array(b),I=0;I<b;++I)(A=x[I])&&(T[I]=A);T.sort(o)}return new Hi(g,this._parents).order()},call:function ka(){var r=arguments[0];return arguments[0]=this,r.apply(null,arguments),this},nodes:function ks(){var r=new Array(this.size()),o=-1;return this.each(function(){r[++o]=this}),r},node:function Ll(){for(var r=this._groups,o=0,c=r.length;o<c;++o)for(var h=r[o],g=0,y=h.length;g<y;++g){var x=h[g];if(x)return x}return null},size:function Fs(){var r=0;return this.each(function(){++r}),r},empty:function Yn(){return!this.node()},each:function Mr(r){for(var o=this._groups,c=0,h=o.length;c<h;++c)for(var b,g=o[c],y=0,x=g.length;y<x;++y)(b=g[y])&&r.call(b,b.__data__,y,g);return this},attr:function Oi(r,o){var c=Fo(r);if(arguments.length<2){var h=this.node();return c.local?h.getAttributeNS(c.space,c.local):h.getAttribute(c)}return this.each((null==o?c.local?Mn:Gu:"function"==typeof o?c.local?po:lu:c.local?Lr:Ir)(c,o))},style:function li(r,o,c){return arguments.length>1?this.each((null==o?ta:"function"==typeof o?Ni:pn)(r,o,c??"")):Cr(this.node(),r)},property:function Rl(r,o){return arguments.length>1?this.each((null==o?Qe:"function"==typeof o?cu:Vo)(r,o)):this.node()[r]},classed:function Ui(r,o){var c=Vs(r+"");if(arguments.length<2){for(var h=Ie(this.node()),g=-1,y=c.length;++g<y;)if(!h.contains(c[g]))return!1;return!0}return this.each(("function"==typeof o?kn:o?fu:hp)(c,o))},text:function Ol(r){return arguments.length?this.each(null==r?Xn:("function"==typeof r?Uu:vh)(r)):this.node().textContent},html:function ju(r){return arguments.length?this.each(null==r?ea:("function"==typeof r?ls:Bs)(r)):this.node().innerHTML},raise:function ya(){return this.each(Bo)},lower:function Fc(){return this.each(kc)},append:function Bc(r){var o="function"==typeof r?r:Hn(r);return this.select(function(){return this.appendChild(o.apply(this,arguments))})},insert:function dp(r,o){var c="function"==typeof r?r:Hn(r),h=null==o?Nl:"function"==typeof o?o:No(o);return this.select(function(){return this.insertBefore(c.apply(this,arguments),h.apply(this,arguments)||null)})},remove:function ar(){return this.each(un)},clone:function hu(r){return this.select(r?vi:wa)},datum:function Hu(r){return arguments.length?this.property("__data__",r):this.node().__data__},on:function _h(r,o,c){var g,x,h=function Yu(r){return r.trim().split(/^|\s+/).map(function(o){var c="",h=o.indexOf(".");return h>=0&&(c=o.slice(h+1),o=o.slice(0,h)),{type:o,name:c}})}(r+""),y=h.length;if(!(arguments.length<2)){for(b=o?go:qe,null==c&&(c=!1),g=0;g<y;++g)this.each(b(h[g],o,c));return this}var b=this.node().__on;if(b)for(var I,T=0,A=b.length;T<A;++T)for(g=0,I=b[T];g<y;++g)if((x=h[g]).type===I.type&&x.name===I.name)return I.value},dispatch:function yh(r,o){return this.each(("function"==typeof o?sr:zc)(r,o))}};const io=zs;function _i(r){return"string"==typeof r?new Hi([[document.querySelector(r)]],[document.documentElement]):new Hi([[r]],kl)}function Zu(){ke.stopImmediatePropagation()}function cs(){ke.preventDefault(),ke.stopImmediatePropagation()}function fs(r){var o=r.document.documentElement,c=_i(r).on("dragstart.drag",cs,!0);"onselectstart"in o?c.on("selectstart.drag",cs,!0):(o.__noselect=o.style.MozUserSelect,o.style.MozUserSelect="none")}function $o(r,o){var c=r.document.documentElement,h=_i(r).on("dragstart.drag",null);o&&(h.on("click.drag",cs,!0),setTimeout(function(){h.on("click.drag",null)},0)),"onselectstart"in c?h.on("selectstart.drag",null):(c.style.MozUserSelect=c.__noselect,delete c.__noselect)}function mo(r,o,c){r.prototype=o.prototype=c,c.constructor=r}function Wi(r,o){var c=Object.create(r.prototype);for(var h in o)c[h]=o[h];return c}function Ci(){}var hs=1/.7,An="\\s*([+-]?\\d+)\\s*",na="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",qi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ds=/^#([0-9a-f]{3,8})$/,wh=new RegExp("^rgb\\("+[An,An,An]+"\\)$"),xh=new RegExp("^rgb\\("+[qi,qi,qi]+"\\)$"),Gc=new RegExp("^rgba\\("+[An,An,An,na]+"\\)$"),xa=new RegExp("^rgba\\("+[qi,qi,qi,na]+"\\)$"),Qr=new RegExp("^hsl\\("+[na,qi,qi]+"\\)$"),ki=new RegExp("^hsla\\("+[na,qi,qi,na]+"\\)$"),ra={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Fn(){return this.rgb().formatHex()}function ba(){return this.rgb().formatRgb()}function ia(r){var o,c;return r=(r+"").trim().toLowerCase(),(o=ds.exec(r))?(c=o[1].length,o=parseInt(o[1],16),6===c?ps(o):3===c?new xr(o>>8&15|o>>4&240,o>>4&15|240&o,(15&o)<<4|15&o,1):8===c?oo(o>>24&255,o>>16&255,o>>8&255,(255&o)/255):4===c?oo(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|240&o,((15&o)<<4|15&o)/255):null):(o=wh.exec(r))?new xr(o[1],o[2],o[3],1):(o=xh.exec(r))?new xr(255*o[1]/100,255*o[2]/100,255*o[3]/100,1):(o=Gc.exec(r))?oo(o[1],o[2],o[3],o[4]):(o=xa.exec(r))?oo(255*o[1]/100,255*o[2]/100,255*o[3]/100,o[4]):(o=Qr.exec(r))?Va(o[1],o[2]/100,o[3]/100,1):(o=ki.exec(r))?Va(o[1],o[2]/100,o[3]/100,o[4]):ra.hasOwnProperty(r)?ps(ra[r]):"transparent"===r?new xr(NaN,NaN,NaN,0):null}function ps(r){return new xr(r>>16&255,r>>8&255,255&r,1)}function oo(r,o,c,h){return h<=0&&(r=o=c=NaN),new xr(r,o,c,h)}function oa(r){return r instanceof Ci||(r=ia(r)),r?new xr((r=r.rgb()).r,r.g,r.b,r.opacity):new xr}function zo(r,o,c,h){return 1===arguments.length?oa(r):new xr(r,o,c,h??1)}function xr(r,o,c,h){this.r=+r,this.g=+o,this.b=+c,this.opacity=+h}function du(){return"#"+pu(this.r)+pu(this.g)+pu(this.b)}function Uc(){var r=this.opacity;return(1===(r=isNaN(r)?1:Math.max(0,Math.min(1,r)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===r?")":", "+r+")")}function pu(r){return((r=Math.max(0,Math.min(255,Math.round(r)||0)))<16?"0":"")+r.toString(16)}function Va(r,o,c,h){return h<=0?r=o=c=NaN:c<=0||c>=1?r=o=NaN:o<=0&&(r=NaN),new pr(r,o,c,h)}function aa(r){if(r instanceof pr)return new pr(r.h,r.s,r.l,r.opacity);if(r instanceof Ci||(r=ia(r)),!r)return new pr;if(r instanceof pr)return r;var o=(r=r.rgb()).r/255,c=r.g/255,h=r.b/255,g=Math.min(o,c,h),y=Math.max(o,c,h),x=NaN,b=y-g,T=(y+g)/2;return b?(x=o===y?(c-h)/b+6*(c<h):c===y?(h-o)/b+2:(o-c)/b+4,b/=T<.5?y+g:2-y-g,x*=60):b=T>0&&T<1?0:x,new pr(x,b,T,r.opacity)}function gu(r,o,c,h){return 1===arguments.length?aa(r):new pr(r,o,c,h??1)}function pr(r,o,c,h){this.h=+r,this.s=+o,this.l=+c,this.opacity=+h}function Ti(r,o,c){return 255*(r<60?o+(c-o)*r/60:r<180?c:r<240?o+(c-o)*(240-r)/60:o)}function Ln(r,o,c,h,g){var y=r*r,x=y*r;return((1-3*r+3*y-x)*o+(4-6*y+3*x)*c+(1+3*r+3*y-3*x)*h+x*g)/6}function ri(r){var o=r.length-1;return function(c){var h=c<=0?c=0:c>=1?(c=1,o-1):Math.floor(c*o),g=r[h],y=r[h+1];return Ln((c-h/o)*o,h>0?r[h-1]:2*g-y,g,y,h<o-1?r[h+2]:2*y-g)}}function Ei(r){var o=r.length;return function(c){var h=Math.floor(((c%=1)<0?++c:c)*o);return Ln((c-h/o)*o,r[(h+o-1)%o],r[h%o],r[(h+1)%o],r[(h+2)%o])}}function Go(r){return function(){return r}}function yi(r,o){return function(c){return r+c*o}}function Ba(r,o){var c=o-r;return c?yi(r,c>180||c<-180?c-360*Math.round(c/360):c):Go(isNaN(r)?o:r)}function er(r,o){var c=o-r;return c?yi(r,c):Go(isNaN(r)?o:r)}mo(Ci,ia,{copy:function(r){return Object.assign(new this.constructor,this,r)},displayable:function(){return this.rgb().displayable()},hex:Fn,formatHex:Fn,formatHsl:function Qu(){return aa(this).formatHsl()},formatRgb:ba,toString:ba}),mo(xr,zo,Wi(Ci,{brighter:function(r){return r=null==r?hs:Math.pow(hs,r),new xr(this.r*r,this.g*r,this.b*r,this.opacity)},darker:function(r){return r=null==r?.7:Math.pow(.7,r),new xr(this.r*r,this.g*r,this.b*r,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:du,formatHex:du,formatRgb:Uc,toString:Uc})),mo(pr,gu,Wi(Ci,{brighter:function(r){return r=null==r?hs:Math.pow(hs,r),new pr(this.h,this.s,this.l*r,this.opacity)},darker:function(r){return r=null==r?.7:Math.pow(.7,r),new pr(this.h,this.s,this.l*r,this.opacity)},rgb:function(){var r=this.h%360+360*(this.h<0),o=isNaN(r)||isNaN(this.s)?0:this.s,c=this.l,h=c+(c<.5?c:1-c)*o,g=2*c-h;return new xr(Ti(r>=240?r-240:r+120,g,h),Ti(r,g,h),Ti(r<120?r+240:r-120,g,h),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var r=this.opacity;return(1===(r=isNaN(r)?1:Math.max(0,Math.min(1,r)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===r?")":", "+r+")")}}));const Re=function r(o){var c=function Rr(r){return 1==(r=+r)?er:function(o,c){return c-o?function Ku(r,o,c){return r=Math.pow(r,c),o=Math.pow(o,c)-r,c=1/c,function(h){return Math.pow(r+h*o,c)}}(o,c,r):Go(isNaN(o)?c:o)}}(o);function h(g,y){var x=c((g=zo(g)).r,(y=zo(y)).r),b=c(g.g,y.g),T=c(g.b,y.b),A=er(g.opacity,y.opacity);return function(I){return g.r=x(I),g.g=b(I),g.b=T(I),g.opacity=A(I),g+""}}return h.gamma=r,h}(1);function fn(r){return function(o){var x,b,c=o.length,h=new Array(c),g=new Array(c),y=new Array(c);for(x=0;x<c;++x)b=zo(o[x]),h[x]=b.r||0,g[x]=b.g||0,y[x]=b.b||0;return h=r(h),g=r(g),y=r(y),b.opacity=1,function(T){return b.r=h(T),b.g=g(T),b.b=y(T),b+""}}}var _r=fn(ri),ii=fn(Ei);function Yi(r,o){o||(o=[]);var g,c=r?Math.min(o.length,r.length):0,h=o.slice();return function(y){for(g=0;g<c;++g)h[g]=r[g]*(1-y)+o[g]*y;return h}}function Ur(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function Gs(r,o){return(Ur(o)?Yi:Or)(r,o)}function Or(r,o){var x,c=o?o.length:0,h=r?Math.min(c,r.length):0,g=new Array(h),y=new Array(c);for(x=0;x<h;++x)g[x]=ao(r[x],o[x]);for(;x<c;++x)y[x]=o[x];return function(b){for(x=0;x<h;++x)y[x]=g[x](b);return y}}function mu(r,o){var c=new Date;return r=+r,o=+o,function(h){return c.setTime(r*(1-h)+o*h),c}}function Nr(r,o){return r=+r,o=+o,function(c){return r*(1-c)+o*c}}function gn(r,o){var g,c={},h={};for(g in(null===r||"object"!=typeof r)&&(r={}),(null===o||"object"!=typeof o)&&(o={}),o)g in r?c[g]=ao(r[g],o[g]):h[g]=o[g];return function(y){for(g in c)h[g]=c[g](y);return h}}var vo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_o=new RegExp(vo.source,"g");function ci(r,o){var h,g,y,c=vo.lastIndex=_o.lastIndex=0,x=-1,b=[],T=[];for(r+="",o+="";(h=vo.exec(r))&&(g=_o.exec(o));)(y=g.index)>c&&(y=o.slice(c,y),b[x]?b[x]+=y:b[++x]=y),(h=h[0])===(g=g[0])?b[x]?b[x]+=g:b[++x]=g:(b[++x]=null,T.push({i:x,x:Nr(h,g)})),c=_o.lastIndex;return c<o.length&&(y=o.slice(c),b[x]?b[x]+=y:b[++x]=y),b.length<2?T[0]?function gs(r){return function(o){return r(o)+""}}(T[0].x):function jc(r){return function(){return r}}(o):(o=T.length,function(A){for(var F,I=0;I<o;++I)b[(F=T[I]).i]=F.x(A);return b.join("")})}function ao(r,o){var h,c=typeof o;return null==o||"boolean"===c?Go(o):("number"===c?Nr:"string"===c?(h=ia(o))?(o=h,Re):ci:o instanceof ia?Re:o instanceof Date?mu:Ur(o)?Yi:Array.isArray(o)?Or:"function"!=typeof o.valueOf&&"function"!=typeof o.toString||isNaN(o)?gn:Nr)(r,o)}function $a(){for(var o,r=ke;o=r.sourceEvent;)r=o;return r}function fi(r,o){var c=r.ownerSVGElement||r;if(c.createSVGPoint){var h=c.createSVGPoint();return h.x=o.clientX,h.y=o.clientY,[(h=h.matrixTransform(r.getScreenCTM().inverse())).x,h.y]}var g=r.getBoundingClientRect();return[o.clientX-g.left-r.clientLeft,o.clientY-g.top-r.clientTop]}function sa(r,o,c){arguments.length<3&&(c=o,o=$a().changedTouches);for(var y,h=0,g=o?o.length:0;h<g;++h)if((y=o[h]).identifier===c)return fi(r,y);return null}function Sa(r){var o=$a();return o.changedTouches&&(o=o.changedTouches[0]),fi(r,o)}var Uo,Ga,hr=0,so=0,za=0,Ju=1e3,yo=0,br=0,jo=0,hi="object"==typeof performance&&performance.now?performance:Date,wo="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function Ma(){return br||(wo(Us),br=hi.now()+jo)}function Us(){br=0}function Ca(){this._call=this._time=this._next=null}function Fi(r,o,c){var h=new Ca;return h.restart(r,o,c),h}function Fl(){Ma(),++hr;for(var o,r=Uo;r;)(o=br-r._time)>=0&&r._call.call(null,o),r=r._next;--hr}function Hc(){br=(yo=hi.now())+jo,hr=so=0;try{Fl()}finally{hr=0,function bh(){for(var r,c,o=Uo,h=1/0;o;)o._call?(h>o._time&&(h=o._time),r=o,o=o._next):(c=o._next,o._next=null,o=r?r._next=c:Uo=c);Ga=r,u(h)}(),br=0}}function Wc(){var r=hi.now(),o=r-yo;o>Ju&&(jo-=o,yo=r)}function u(r){hr||(so&&(so=clearTimeout(so)),r-br>24?(r<1/0&&(so=setTimeout(Hc,r-hi.now()-jo)),za&&(za=clearInterval(za))):(za||(yo=hi.now(),za=setInterval(Wc,Ju)),hr=1,wo(Hc)))}function m(r,o,c){var h=new Ca;return h.restart(function(g){h.stop(),r(g+o)},o=null==o?0:+o,c),h}Ca.prototype=Fi.prototype={constructor:Ca,restart:function(r,o,c){if("function"!=typeof r)throw new TypeError("callback is not a function");c=(null==c?Ma():+c)+(null==o?0:+o),!this._next&&Ga!==this&&(Ga?Ga._next=this:Uo=this,Ga=this),this._call=r,this._time=c,u()},stop:function(){this._call&&(this._call=null,this._time=1/0,u())}};var S=Xr("start","end","cancel","interrupt"),R=[],H=0,ft=1,Bt=2,te=3,he=4,we=5,Fe=6;function Ze(r,o,c,h,g,y){var x=r.__transition;if(x){if(c in x)return}else r.__transition={};!function Vl(r,o,c){var g,h=r.__transition;function x(A){var I,F,N,Y;if(c.state!==ft)return T();for(I in h)if((Y=h[I]).name===c.name){if(Y.state===te)return m(x);Y.state===he?(Y.state=Fe,Y.timer.stop(),Y.on.call("interrupt",r,r.__data__,Y.index,Y.group),delete h[I]):+I<o&&(Y.state=Fe,Y.timer.stop(),Y.on.call("cancel",r,r.__data__,Y.index,Y.group),delete h[I])}if(m(function(){c.state===te&&(c.state=he,c.timer.restart(b,c.delay,c.time),b(A))}),c.state=Bt,c.on.call("start",r,r.__data__,c.index,c.group),c.state===Bt){for(c.state=te,g=new Array(N=c.tween.length),I=0,F=-1;I<N;++I)(Y=c.tween[I].value.call(r,r.__data__,c.index,c.group))&&(g[++F]=Y);g.length=F+1}}function b(A){for(var I=A<c.duration?c.ease.call(null,A/c.duration):(c.timer.restart(T),c.state=we,1),F=-1,N=g.length;++F<N;)g[F].call(r,I);c.state===we&&(c.on.call("end",r,r.__data__,c.index,c.group),T())}function T(){for(var A in c.state=Fe,c.timer.stop(),delete h[o],h)return;delete r.__transition}h[o]=c,c.timer=Fi(function y(A){c.state=ft,c.timer.restart(x,c.delay,c.time),c.delay<=A&&x(A-c.delay)},0,c.time)}(r,c,{name:o,index:h,group:g,on:S,tween:R,time:y.time,delay:y.delay,duration:y.duration,ease:y.ease,timer:null,state:H})}function Un(r,o){var c=Ai(r,o);if(c.state>H)throw new Error("too late; already scheduled");return c}function di(r,o){var c=Ai(r,o);if(c.state>te)throw new Error("too late; already running");return c}function Ai(r,o){var c=r.__transition;if(!c||!(c=c[o]))throw new Error("transition not found");return c}function uo(r,o){var h,g,x,c=r.__transition,y=!0;if(c){for(x in o=null==o?null:o+"",c)(h=c[x]).name===o?(g=h.state>Bt&&h.state<we,h.state=Fe,h.timer.stop(),h.on.call(g?"interrupt":"cancel",r,r.__data__,h.index,h.group),delete c[x]):y=!1;y&&delete r.__transition}}var js,$l,tl,Tr,Sh=180/Math.PI,Ea={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Bl(r,o,c,h,g,y){var x,b,T;return(x=Math.sqrt(r*r+o*o))&&(r/=x,o/=x),(T=r*c+o*h)&&(c-=r*T,h-=o*T),(b=Math.sqrt(c*c+h*h))&&(c/=b,h/=b,T/=b),r*h<o*c&&(r=-r,o=-o,T=-T,x=-x),{translateX:g,translateY:y,rotate:Math.atan2(o,r)*Sh,skewX:Math.atan(T)*Sh,scaleX:x,scaleY:b}}function qc(r,o,c,h){function g(A){return A.length?A.pop()+" ":""}return function(A,I){var F=[],N=[];return A=r(A),I=r(I),function y(A,I,F,N,Y,it){if(A!==F||I!==N){var rt=Y.push("translate(",null,o,null,c);it.push({i:rt-4,x:Nr(A,F)},{i:rt-2,x:Nr(I,N)})}else(F||N)&&Y.push("translate("+F+o+N+c)}(A.translateX,A.translateY,I.translateX,I.translateY,F,N),function x(A,I,F,N){A!==I?(A-I>180?I+=360:I-A>180&&(A+=360),N.push({i:F.push(g(F)+"rotate(",null,h)-2,x:Nr(A,I)})):I&&F.push(g(F)+"rotate("+I+h)}(A.rotate,I.rotate,F,N),function b(A,I,F,N){A!==I?N.push({i:F.push(g(F)+"skewX(",null,h)-2,x:Nr(A,I)}):I&&F.push(g(F)+"skewX("+I+h)}(A.skewX,I.skewX,F,N),function T(A,I,F,N,Y,it){if(A!==F||I!==N){var rt=Y.push(g(Y)+"scale(",null,",",null,")");it.push({i:rt-4,x:Nr(A,F)},{i:rt-2,x:Nr(I,N)})}else(1!==F||1!==N)&&Y.push(g(Y)+"scale("+F+","+N+")")}(A.scaleX,A.scaleY,I.scaleX,I.scaleY,F,N),A=I=null,function(Y){for(var at,it=-1,rt=N.length;++it<rt;)F[(at=N[it]).i]=at.x(Y);return F.join("")}}}var lo=qc(function el(r){return"none"===r?Ea:(js||(js=document.createElement("DIV"),$l=document.documentElement,tl=document.defaultView),js.style.transform=r,r=tl.getComputedStyle($l.appendChild(js),null).getPropertyValue("transform"),$l.removeChild(js),Bl(+(r=r.slice(7,-1).split(","))[0],+r[1],+r[2],+r[3],+r[4],+r[5]))},"px, ","px)","deg)"),vu=qc(function zl(r){return null!=r&&(Tr||(Tr=document.createElementNS("http://www.w3.org/2000/svg","g")),Tr.setAttribute("transform",r),r=Tr.transform.baseVal.consolidate())?Bl((r=r.matrix).a,r.b,r.c,r.d,r.e,r.f):Ea},", ",")",")");function Gl(r,o){var c,h;return function(){var g=di(this,r),y=g.tween;if(y!==c)for(var x=0,b=(h=c=y).length;x<b;++x)if(h[x].name===o){(h=h.slice()).splice(x,1);break}g.tween=h}}function wi(r,o,c){var h,g;if("function"!=typeof c)throw new Error;return function(){var y=di(this,r),x=y.tween;if(x!==h){g=(h=x).slice();for(var b={name:o,value:c},T=0,A=g.length;T<A;++T)if(g[T].name===o){g[T]=b;break}T===A&&g.push(b)}y.tween=g}}function nl(r,o,c){var h=r._id;return r.each(function(){var g=di(this,h);(g.value||(g.value={}))[o]=c.apply(this,arguments)}),function(g){return Ai(g,h).value[o]}}function xo(r,o){var c;return("number"==typeof o?Nr:o instanceof ia?Re:(c=ia(o))?(o=c,Re):ci)(r,o)}function sm(r){return function(){this.removeAttribute(r)}}function pp(r){return function(){this.removeAttributeNS(r.space,r.local)}}function rl(r,o,c){var h,y,g=c+"";return function(){var x=this.getAttribute(r);return x===g?null:x===h?y:y=o(h=x,c)}}function bo(r,o,c){var h,y,g=c+"";return function(){var x=this.getAttributeNS(r.space,r.local);return x===g?null:x===h?y:y=o(h=x,c)}}function um(r,o,c){var h,g,y;return function(){var x,T,b=c(this);return null==b?void this.removeAttribute(r):(x=this.getAttribute(r))===(T=b+"")?null:x===h&&T===g?y:(g=T,y=o(h=x,b))}}function Yc(r,o,c){var h,g,y;return function(){var x,T,b=c(this);return null==b?void this.removeAttributeNS(r.space,r.local):(x=this.getAttributeNS(r.space,r.local))===(T=b+"")?null:x===h&&T===g?y:(g=T,y=o(h=x,b))}}function Mh(r,o){var c,h;function g(){var y=o.apply(this,arguments);return y!==h&&(c=(h=y)&&function gp(r,o){return function(c){this.setAttributeNS(r.space,r.local,o.call(this,c))}}(r,y)),c}return g._value=o,g}function Tn(r,o){var c,h;function g(){var y=o.apply(this,arguments);return y!==h&&(c=(h=y)&&function Hs(r,o){return function(c){this.setAttribute(r,o.call(this,c))}}(r,y)),c}return g._value=o,g}function $y(r,o){return function(){Un(this,r).delay=+o.apply(this,arguments)}}function cm(r,o){return o=+o,function(){Un(this,r).delay=o}}function hm(r,o){return function(){di(this,r).duration=+o.apply(this,arguments)}}function vp(r,o){return o=+o,function(){di(this,r).duration=o}}var vm=io.prototype.constructor;function Xi(r){return function(){this.style.removeProperty(r)}}var bp=0;function Aa(r,o,c,h){this._groups=r,this._parents=o,this._name=c,this._id=h}function Lh(r){return io().transition(r)}function Rh(){return++bp}var Ws=io.prototype;function wm(r){return r*r*r}function Zi(r){return--r*r*r+1}function oi(r){return((r*=2)<=1?r*r*r:(r-=2)*r*r+2)/2}Aa.prototype=Lh.prototype={constructor:Aa,select:function Ch(r){var o=this._name,c=this._id;"function"!=typeof r&&(r=No(r));for(var h=this._groups,g=h.length,y=new Array(g),x=0;x<g;++x)for(var I,F,b=h[x],T=b.length,A=y[x]=new Array(T),N=0;N<T;++N)(I=b[N])&&(F=r.call(I,I.__data__,N,b))&&("__data__"in I&&(F.__data__=I.__data__),A[N]=F,Ze(A[N],o,c,N,A,Ai(I,c)));return new Aa(y,this._parents,o,c)},selectAll:function Th(r){var o=this._name,c=this._id;"function"!=typeof r&&(r=Jo(r));for(var h=this._groups,g=h.length,y=[],x=[],b=0;b<g;++b)for(var I,T=h[b],A=T.length,F=0;F<A;++F)if(I=T[F]){for(var Y,N=r.call(I,I.__data__,F,T),it=Ai(I,c),rt=0,at=N.length;rt<at;++rt)(Y=N[rt])&&Ze(Y,o,c,rt,N,it);y.push(N),x.push(I)}return new Aa(y,x,o,c)},filter:function ur(r){"function"!=typeof r&&(r=as(r));for(var o=this._groups,c=o.length,h=new Array(c),g=0;g<c;++g)for(var T,y=o[g],x=y.length,b=h[g]=[],A=0;A<x;++A)(T=y[A])&&r.call(T,T.__data__,A,y)&&b.push(T);return new Aa(h,this._parents,this._name,this._id)},merge:function gm(r){if(r._id!==this._id)throw new Error;for(var o=this._groups,c=r._groups,h=o.length,y=Math.min(h,c.length),x=new Array(h),b=0;b<y;++b)for(var N,T=o[b],A=c[b],I=T.length,F=x[b]=new Array(I),Y=0;Y<I;++Y)(N=T[Y]||A[Y])&&(F[Y]=N);for(;b<h;++b)x[b]=o[b];return new Aa(x,this._parents,this._name,this._id)},selection:function Eh(){return new vm(this._groups,this._parents)},transition:function xp(){for(var r=this._name,o=this._id,c=Rh(),h=this._groups,g=h.length,y=0;y<g;++y)for(var T,x=h[y],b=x.length,A=0;A<b;++A)if(T=x[A]){var I=Ai(T,o);Ze(T,r,c,A,x,{time:I.time+I.delay+I.duration,delay:0,duration:I.duration,ease:I.ease})}return new Aa(h,this._parents,r,c)},call:Ws.call,nodes:Ws.nodes,node:Ws.node,size:Ws.size,empty:Ws.empty,each:Ws.each,on:function _p(r,o){var c=this._id;return arguments.length<2?Ai(this.node(),c).on.on(r):this.each(function Vi(r,o,c){var h,g,y=function mm(r){return(r+"").trim().split(/^|\s+/).every(function(o){var c=o.indexOf(".");return c>=0&&(o=o.slice(0,c)),!o||"start"===o})}(o)?Un:di;return function(){var x=y(this,r),b=x.on;b!==h&&(g=(h=b).copy()).on(o,c),x.on=g}}(c,r,o))},attr:function lm(r,o){var c=Fo(r),h="transform"===c?vu:xo;return this.attrTween(r,"function"==typeof o?(c.local?Yc:um)(c,h,nl(this,"attr."+r,o)):null==o?(c.local?pp:sm)(c):(c.local?bo:rl)(c,h,o))},attrTween:function mp(r,o){var c="attr."+r;if(arguments.length<2)return(c=this.tween(c))&&c._value;if(null==o)return this.tween(c,null);if("function"!=typeof o)throw new Error;var h=Fo(r);return this.tween(c,(h.local?Mh:Tn)(h,o))},style:function ja(r,o,c){var h="transform"==(r+="")?lo:xo;return null==o?this.styleTween(r,function _u(r,o){var c,h,g;return function(){var y=Cr(this,r),x=(this.style.removeProperty(r),Cr(this,r));return y===x?null:y===c&&x===h?g:g=o(c=y,h=x)}}(r,h)).on("end.style."+r,Xi(r)):"function"==typeof o?this.styleTween(r,function Xc(r,o,c){var h,g,y;return function(){var x=Cr(this,r),b=c(this),T=b+"";return null==b&&(this.style.removeProperty(r),T=b=Cr(this,r)),x===T?null:x===h&&T===g?y:(g=T,y=o(h=x,b))}}(r,h,nl(this,"style."+r,o))).each(function Ua(r,o){var c,h,g,b,y="style."+o,x="end."+y;return function(){var T=di(this,r),A=T.on,I=null==T.value[y]?b||(b=Xi(o)):void 0;(A!==c||g!==I)&&(h=(c=A).copy()).on(x,g=I),T.on=h}}(this._id,r)):this.styleTween(r,function ms(r,o,c){var h,y,g=c+"";return function(){var x=Cr(this,r);return x===g?null:x===h?y:y=o(h=x,c)}}(r,h,o),c).on("end.style."+r,null)},styleTween:function _m(r,o,c){var h="style."+(r+="");if(arguments.length<2)return(h=this.tween(h))&&h._value;if(null==o)return this.tween(h,null);if("function"!=typeof o)throw new Error;return this.tween(h,function Ah(r,o,c){var h,g;function y(){var x=o.apply(this,arguments);return x!==g&&(h=(g=x)&&function yp(r,o,c){return function(h){this.style.setProperty(r,o.call(this,h),c)}}(r,x,c)),h}return y._value=o,y}(r,o,c??""))},text:function Dh(r){return this.tween("text","function"==typeof r?function ol(r){return function(){var o=r(this);this.textContent=o??""}}(nl(this,"text",r)):function il(r){return function(){this.textContent=r}}(null==r?"":r+""))},textTween:function ym(r){var o="text";if(arguments.length<1)return(o=this.tween(o))&&o._value;if(null==r)return this.tween(o,null);if("function"!=typeof r)throw new Error;return this.tween(o,function Ph(r){var o,c;function h(){var g=r.apply(this,arguments);return g!==c&&(o=(c=g)&&function wp(r){return function(o){this.textContent=r.call(this,o)}}(g)),o}return h._value=r,h}(r))},remove:function Vn(){return this.on("end.remove",function Sr(r){return function(){var o=this.parentNode;for(var c in this.__transition)if(+c!==r)return;o&&o.removeChild(this)}}(this._id))},tween:function am(r,o){var c=this._id;if(r+="",arguments.length<2){for(var x,h=Ai(this.node(),c).tween,g=0,y=h.length;g<y;++g)if((x=h[g]).name===r)return x.value;return null}return this.each((null==o?Gl:wi)(c,r,o))},delay:function fm(r){var o=this._id;return arguments.length?this.each(("function"==typeof r?$y:cm)(o,r)):Ai(this.node(),o).delay},duration:function dm(r){var o=this._id;return arguments.length?this.each(("function"==typeof r?hm:vp)(o,r)):Ai(this.node(),o).duration},ease:function xe(r){var o=this._id;return arguments.length?this.each(function pm(r,o){if("function"!=typeof o)throw new Error;return function(){di(this,r).ease=o}}(o,r)):Ai(this.node(),o).ease},end:function Ih(){var r,o,c=this,h=c._id,g=c.size();return new Promise(function(y,x){var b={value:x},T={value:function(){0==--g&&y()}};c.each(function(){var A=di(this,h),I=A.on;I!==r&&((o=(r=I).copy())._.cancel.push(b),o._.interrupt.push(b),o._.end.push(T)),A.on=o})})}};var vs={time:null,delay:0,duration:250,ease:oi};function jr(r,o){for(var c;!(c=r.__transition)||!(c=c[o]);)if(!(r=r.parentNode))return vs.time=Ma(),vs;return c}io.prototype.interrupt=function Ta(r){return this.each(function(){uo(this,r)})},io.prototype.transition=function xm(r){var o,c;r instanceof Aa?(o=r._id,r=r._name):(o=Rh(),(c=vs).time=Ma(),r=null==r?null:r+"");for(var h=this._groups,g=h.length,y=0;y<g;++y)for(var T,x=h[y],b=x.length,A=0;A<b;++A)(T=x[A])&&Ze(T,r,o,A,x,c||jr(T,o));return new Aa(h,this._parents,r,o)};var bm=[null];function Sm(r,o){var h,g,c=r.__transition;if(c)for(g in o=null==o?null:o+"",c)if((h=c[g]).state>ft&&h.name===o)return new Aa([[r]],bm,o,+g);return null}function Oh(r){return function(){return r}}function Mm(r,o,c){this.target=r,this.type=o,this.selection=c}function Sp(){ke.stopImmediatePropagation()}function al(){ke.preventDefault(),ke.stopImmediatePropagation()}var Ul={name:"drag"},sl={name:"space"},qs={name:"handle"},v={name:"center"};function M(r){return[+r[0],+r[1]]}function D(r){return[M(r[0]),M(r[1])]}var G={name:"x",handles:["w","e"].map(me),input:function(r,o){return null==r?null:[[+r[0],o[0][1]],[+r[1],o[1][1]]]},output:function(r){return r&&[r[0][0],r[1][0]]}},et={name:"y",handles:["n","s"].map(me),input:function(r,o){return null==r?null:[[o[0][0],+r[0]],[o[1][0],+r[1]]]},output:function(r){return r&&[r[0][1],r[1][1]]}},st={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(me),input:function(r){return null==r?null:D(r)},output:function(r){return r}},tt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Et={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Vt={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},re={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Yt={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function me(r){return{type:r}}function Me(){return!ke.ctrlKey&&!ke.button}function be(){var r=this.ownerSVGElement||this;return r.hasAttribute("viewBox")?[[(r=r.viewBox.baseVal).x,r.y],[r.x+r.width,r.y+r.height]]:[[0,0],[r.width.baseVal.value,r.height.baseVal.value]]}function Ee(){return navigator.maxTouchPoints||"ontouchstart"in this}function Pe(r){for(;!r.__brush;)if(!(r=r.parentNode))return;return r.__brush}function En(r){var o=r.__brush;return o?o.dim.output(o.selection):null}function jn(){return nr(G)}function cr(){return nr(et)}function Zn(){return nr(st)}function nr(r){var b,o=be,c=Me,h=Ee,g=!0,y=Xr("start","brush","end"),x=6;function T(at){var lt=at.property("__brush",rt).selectAll(".overlay").data([me("overlay")]);lt.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",tt.overlay).merge(lt).each(function(){var dt=Pe(this).extent;_i(this).attr("x",dt[0][0]).attr("y",dt[0][1]).attr("width",dt[1][0]-dt[0][0]).attr("height",dt[1][1]-dt[0][1])}),at.selectAll(".selection").data([me("selection")]).enter().append("rect").attr("class","selection").attr("cursor",tt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var At=at.selectAll(".handle").data(r.handles,function(dt){return dt.type});At.exit().remove(),At.enter().append("rect").attr("class",function(dt){return"handle handle--"+dt.type}).attr("cursor",function(dt){return tt[dt.type]}),at.each(A).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",N).filter(h).on("touchstart.brush",N).on("touchmove.brush",Y).on("touchend.brush touchcancel.brush",it).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function A(){var at=_i(this),lt=Pe(this).selection;lt?(at.selectAll(".selection").style("display",null).attr("x",lt[0][0]).attr("y",lt[0][1]).attr("width",lt[1][0]-lt[0][0]).attr("height",lt[1][1]-lt[0][1]),at.selectAll(".handle").style("display",null).attr("x",function(At){return"e"===At.type[At.type.length-1]?lt[1][0]-x/2:lt[0][0]-x/2}).attr("y",function(At){return"s"===At.type[0]?lt[1][1]-x/2:lt[0][1]-x/2}).attr("width",function(At){return"n"===At.type||"s"===At.type?lt[1][0]-lt[0][0]+x:x}).attr("height",function(At){return"e"===At.type||"w"===At.type?lt[1][1]-lt[0][1]+x:x})):at.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function I(at,lt,At){var dt=at.__brush.emitter;return!dt||At&&dt.clean?new F(at,lt,At):dt}function F(at,lt,At){this.that=at,this.args=lt,this.state=at.__brush,this.active=0,this.clean=At}function N(){if((!b||ke.touches)&&c.apply(this,arguments)){var se,pe,It,Jt,Qt,ye,$e,Ke,Wr,vr,wr,at=this,lt=ke.target.__data__.type,At="selection"===(g&&ke.metaKey?lt="overlay":lt)?Ul:g&&ke.altKey?v:qs,dt=r===et?null:re[lt],St=r===G?null:Yt[lt],jt=Pe(at),Kt=jt.extent,Xt=jt.selection,ve=Kt[0][0],ie=Kt[0][1],Se=Kt[1][0],je=Kt[1][1],Dn=0,Rn=0,Fr=dt&&St&&g&&ke.shiftKey,is=ke.touches?function U(r){return function(o){return sa(o,ke.touches,r)}}(ke.changedTouches[0].identifier):Sa,Is=is(at),Ls=Is,Be=I(at,arguments,!0).beforestart();"overlay"===lt?(Xt&&(Wr=!0),jt.selection=Xt=[[se=r===et?ve:Is[0],It=r===G?ie:Is[1]],[Qt=r===et?Se:se,$e=r===G?je:It]]):(se=Xt[0][0],It=Xt[0][1],Qt=Xt[1][0],$e=Xt[1][1]),pe=se,Jt=It,ye=Qt,Ke=$e;var On=_i(at).attr("pointer-events","none"),Kn=On.selectAll(".overlay").attr("cursor",tt[lt]);if(ke.touches)Be.moved=ho,Be.ended=Oo;else{var Ae=_i(ke.view).on("mousemove.brush",ho,!0).on("mouseup.brush",Oo,!0);g&&Ae.on("keydown.brush",function Zo(){switch(ke.keyCode){case 16:Fr=dt&&St;break;case 18:At===qs&&(dt&&(Qt=ye-Dn*dt,se=pe+Dn*dt),St&&($e=Ke-Rn*St,It=Jt+Rn*St),At=v,mr());break;case 32:(At===qs||At===v)&&(dt<0?Qt=ye-Dn:dt>0&&(se=pe-Dn),St<0?$e=Ke-Rn:St>0&&(It=Jt-Rn),At=sl,Kn.attr("cursor",tt.selection),mr());break;default:return}al()},!0).on("keyup.brush",function Bu(){switch(ke.keyCode){case 16:Fr&&(vr=wr=Fr=!1,mr());break;case 18:At===v&&(dt<0?Qt=ye:dt>0&&(se=pe),St<0?$e=Ke:St>0&&(It=Jt),At=qs,mr());break;case 32:At===sl&&(ke.altKey?(dt&&(Qt=ye-Dn*dt,se=pe+Dn*dt),St&&($e=Ke-Rn*St,It=Jt+Rn*St),At=v):(dt<0?Qt=ye:dt>0&&(se=pe),St<0?$e=Ke:St>0&&(It=Jt),At=qs),Kn.attr("cursor",tt[lt]),mr());break;default:return}al()},!0),fs(ke.view)}Sp(),uo(at),A.call(at),Be.start()}function ho(){var Qo=is(at);Fr&&!vr&&!wr&&(Math.abs(Qo[0]-Ls[0])>Math.abs(Qo[1]-Ls[1])?wr=!0:vr=!0),Ls=Qo,Wr=!0,al(),mr()}function mr(){var Qo;switch(Dn=Ls[0]-Is[0],Rn=Ls[1]-Is[1],At){case sl:case Ul:dt&&(Dn=Math.max(ve-se,Math.min(Se-Qt,Dn)),pe=se+Dn,ye=Qt+Dn),St&&(Rn=Math.max(ie-It,Math.min(je-$e,Rn)),Jt=It+Rn,Ke=$e+Rn);break;case qs:dt<0?(Dn=Math.max(ve-se,Math.min(Se-se,Dn)),pe=se+Dn,ye=Qt):dt>0&&(Dn=Math.max(ve-Qt,Math.min(Se-Qt,Dn)),pe=se,ye=Qt+Dn),St<0?(Rn=Math.max(ie-It,Math.min(je-It,Rn)),Jt=It+Rn,Ke=$e):St>0&&(Rn=Math.max(ie-$e,Math.min(je-$e,Rn)),Jt=It,Ke=$e+Rn);break;case v:dt&&(pe=Math.max(ve,Math.min(Se,se-Dn*dt)),ye=Math.max(ve,Math.min(Se,Qt+Dn*dt))),St&&(Jt=Math.max(ie,Math.min(je,It-Rn*St)),Ke=Math.max(ie,Math.min(je,$e+Rn*St)))}ye<pe&&(dt*=-1,Qo=se,se=Qt,Qt=Qo,Qo=pe,pe=ye,ye=Qo,lt in Et&&Kn.attr("cursor",tt[lt=Et[lt]])),Ke<Jt&&(St*=-1,Qo=It,It=$e,$e=Qo,Qo=Jt,Jt=Ke,Ke=Qo,lt in Vt&&Kn.attr("cursor",tt[lt=Vt[lt]])),jt.selection&&(Xt=jt.selection),vr&&(pe=Xt[0][0],ye=Xt[1][0]),wr&&(Jt=Xt[0][1],Ke=Xt[1][1]),(Xt[0][0]!==pe||Xt[0][1]!==Jt||Xt[1][0]!==ye||Xt[1][1]!==Ke)&&(jt.selection=[[pe,Jt],[ye,Ke]],A.call(at),Be.brush())}function Oo(){if(Sp(),ke.touches){if(ke.touches.length)return;b&&clearTimeout(b),b=setTimeout(function(){b=null},500)}else $o(ke.view,Wr),Ae.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);On.attr("pointer-events","all"),Kn.attr("cursor",tt.overlay),jt.selection&&(Xt=jt.selection),function tn(r){return r[0][0]===r[1][0]||r[0][1]===r[1][1]}(Xt)&&(jt.selection=null,A.call(at)),Be.end()}}function Y(){I(this,arguments).moved()}function it(){I(this,arguments).ended()}function rt(){var at=this.__brush||{selection:null};return at.extent=D(o.apply(this,arguments)),at.dim=r,at}return T.move=function(at,lt){at.selection?at.on("start.brush",function(){I(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){I(this,arguments).end()}).tween("brush",function(){var At=this,dt=At.__brush,St=I(At,arguments),jt=dt.selection,Kt=r.input("function"==typeof lt?lt.apply(this,arguments):lt,dt.extent),Xt=ao(jt,Kt);function ve(se){dt.selection=1===se&&null===Kt?null:Xt(se),A.call(At),St.brush()}return null!==jt&&null!==Kt?ve:ve(1)}):at.each(function(){var At=this,dt=arguments,St=At.__brush,jt=r.input("function"==typeof lt?lt.apply(At,dt):lt,St.extent),Kt=I(At,dt).beforestart();uo(At),St.selection=null===jt?null:jt,A.call(At),Kt.start().brush().end()})},T.clear=function(at){T.move(at,null)},F.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(at){ni(new Mm(T,at,r.output(this.state.selection)),y.apply,y,[at,this.that,this.args])}},T.extent=function(at){return arguments.length?(o="function"==typeof at?at:Oh(D(at)),T):o},T.filter=function(at){return arguments.length?(c="function"==typeof at?at:Oh(!!at),T):c},T.touchable=function(at){return arguments.length?(h="function"==typeof at?at:Oh(!!at),T):h},T.handleSize=function(at){return arguments.length?(x=+at,T):x},T.keyModifiers=function(at){return arguments.length?(g=!!at,T):g},T.on=function(){var at=y.on.apply(y,arguments);return at===y?T:at},T}var Qi=Math.cos,$r=Math.sin,ua=Math.PI,Ha=ua/2,Bi=2*ua,jl=Math.max;function Cm(){var r=0,o=null,c=null,h=null;function g(y){var Y,it,rt,at,lt,At,x=y.length,b=[],T=_(x),A=[],I=[],F=I.groups=new Array(x),N=new Array(x*x);for(Y=0,lt=-1;++lt<x;){for(it=0,At=-1;++At<x;)it+=y[lt][At];b.push(it),A.push(_(x)),Y+=it}for(o&&T.sort(function(pe,ie){return o(b[pe],b[ie])}),c&&A.forEach(function(pe,ie){pe.sort(function(It,Jt){return c(y[ie][It],y[ie][Jt])})}),at=(Y=jl(0,Bi-r*x)/Y)?r:Bi/x,it=0,lt=-1;++lt<x;){for(rt=it,At=-1;++At<x;){var dt=T[lt],St=A[dt][At],jt=y[dt][St],Kt=it,Xt=it+=jt*Y;N[St*x+dt]={index:dt,subindex:St,startAngle:Kt,endAngle:Xt,value:jt}}F[dt]={index:dt,startAngle:rt,endAngle:it,value:b[dt]},it+=at}for(lt=-1;++lt<x;)for(At=lt-1;++At<x;){var ve=N[At*x+lt],se=N[lt*x+At];(ve.value||se.value)&&I.push(ve.value<se.value?{source:se,target:ve}:{source:ve,target:se})}return h?I.sort(h):I}return g.padAngle=function(y){return arguments.length?(r=jl(0,y),g):r},g.sortGroups=function(y){return arguments.length?(o=y,g):o},g.sortSubgroups=function(y){return arguments.length?(c=y,g):c},g.sortChords=function(y){return arguments.length?(null==y?h=null:(h=function Zc(r){return function(o,c){return r(o.source.value+o.target.value,c.source.value+c.target.value)}}(y))._=y,g):h&&h._},g}var zy=Array.prototype.slice;function Nh(r){return function(){return r}}var kh=Math.PI,Tm=2*kh,ul=1e-6,Gy=Tm-ul;function Mp(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Em(){return new Mp}Mp.prototype=Em.prototype={constructor:Mp,moveTo:function(r,o){this._+="M"+(this._x0=this._x1=+r)+","+(this._y0=this._y1=+o)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(r,o){this._+="L"+(this._x1=+r)+","+(this._y1=+o)},quadraticCurveTo:function(r,o,c,h){this._+="Q"+ +r+","+ +o+","+(this._x1=+c)+","+(this._y1=+h)},bezierCurveTo:function(r,o,c,h,g,y){this._+="C"+ +r+","+ +o+","+ +c+","+ +h+","+(this._x1=+g)+","+(this._y1=+y)},arcTo:function(r,o,c,h,g){var y=this._x1,x=this._y1,b=(c=+c)-(r=+r),T=(h=+h)-(o=+o),A=y-r,I=x-o,F=A*A+I*I;if((g=+g)<0)throw new Error("negative radius: "+g);if(null===this._x1)this._+="M"+(this._x1=r)+","+(this._y1=o);else if(F>ul)if(Math.abs(I*b-T*A)>ul&&g){var N=c-y,Y=h-x,it=b*b+T*T,rt=N*N+Y*Y,at=Math.sqrt(it),lt=Math.sqrt(F),At=g*Math.tan((kh-Math.acos((it+F-rt)/(2*at*lt)))/2),dt=At/lt,St=At/at;Math.abs(dt-1)>ul&&(this._+="L"+(r+dt*A)+","+(o+dt*I)),this._+="A"+g+","+g+",0,0,"+ +(I*N>A*Y)+","+(this._x1=r+St*b)+","+(this._y1=o+St*T)}else this._+="L"+(this._x1=r)+","+(this._y1=o)},arc:function(r,o,c,h,g,y){r=+r,o=+o,y=!!y;var x=(c=+c)*Math.cos(h),b=c*Math.sin(h),T=r+x,A=o+b,I=1^y,F=y?h-g:g-h;if(c<0)throw new Error("negative radius: "+c);null===this._x1?this._+="M"+T+","+A:(Math.abs(this._x1-T)>ul||Math.abs(this._y1-A)>ul)&&(this._+="L"+T+","+A),c&&(F<0&&(F=F%Tm+Tm),F>Gy?this._+="A"+c+","+c+",0,1,"+I+","+(r-x)+","+(o-b)+"A"+c+","+c+",0,1,"+I+","+(this._x1=T)+","+(this._y1=A):F>ul&&(this._+="A"+c+","+c+",0,"+ +(F>=kh)+","+I+","+(this._x1=r+c*Math.cos(g))+","+(this._y1=o+c*Math.sin(g))))},rect:function(r,o,c,h){this._+="M"+(this._x0=this._x1=+r)+","+(this._y0=this._y1=+o)+"h"+ +c+"v"+ +h+"h"+-c+"Z"},toString:function(){return this._}};const Hl=Em;function Cp(r){return r.source}function Wl(r){return r.target}function QS(r){return r.radius}function Uy(r){return r.startAngle}function jy(r){return r.endAngle}function Qc(){var r=Cp,o=Wl,c=QS,h=Uy,g=jy,y=null;function x(){var b,T=zy.call(arguments),A=r.apply(this,T),I=o.apply(this,T),F=+c.apply(this,(T[0]=A,T)),N=h.apply(this,T)-Ha,Y=g.apply(this,T)-Ha,it=F*Qi(N),rt=F*$r(N),at=+c.apply(this,(T[0]=I,T)),lt=h.apply(this,T)-Ha,At=g.apply(this,T)-Ha;if(y||(y=b=Hl()),y.moveTo(it,rt),y.arc(0,0,F,N,Y),(N!==lt||Y!==At)&&(y.quadraticCurveTo(0,0,at*Qi(lt),at*$r(lt)),y.arc(0,0,at,lt,At)),y.quadraticCurveTo(0,0,it,rt),y.closePath(),b)return y=null,b+""||null}return x.radius=function(b){return arguments.length?(c="function"==typeof b?b:Nh(+b),x):c},x.startAngle=function(b){return arguments.length?(h="function"==typeof b?b:Nh(+b),x):h},x.endAngle=function(b){return arguments.length?(g="function"==typeof b?b:Nh(+b),x):g},x.source=function(b){return arguments.length?(r=b,x):r},x.target=function(b){return arguments.length?(o=b,x):o},x.context=function(b){return arguments.length?(y=b??null,x):y},x}var Wa="$";function Fh(){}function Tp(r,o){var c=new Fh;if(r instanceof Fh)r.each(function(b,T){c.set(T,b)});else if(Array.isArray(r)){var y,h=-1,g=r.length;if(null==o)for(;++h<g;)c.set(h,r[h]);else for(;++h<g;)c.set(o(y=r[h],h,r),y)}else if(r)for(var x in r)c.set(x,r[x]);return c}Fh.prototype=Tp.prototype={constructor:Fh,has:function(r){return Wa+r in this},get:function(r){return this[Wa+r]},set:function(r,o){return this[Wa+r]=o,this},remove:function(r){var o=Wa+r;return o in this&&delete this[o]},clear:function(){for(var r in this)r[0]===Wa&&delete this[r]},keys:function(){var r=[];for(var o in this)o[0]===Wa&&r.push(o.slice(1));return r},values:function(){var r=[];for(var o in this)o[0]===Wa&&r.push(this[o]);return r},entries:function(){var r=[];for(var o in this)o[0]===Wa&&r.push({key:o.slice(1),value:this[o]});return r},size:function(){var r=0;for(var o in this)o[0]===Wa&&++r;return r},empty:function(){for(var r in this)if(r[0]===Wa)return!1;return!0},each:function(r){for(var o in this)o[0]===Wa&&r(this[o],o.slice(1),this)}};const ll=Tp;function Hy(){var c,h,g,r=[],o=[];function y(b,T,A,I){if(T>=r.length)return null!=c&&b.sort(c),null!=h?h(b):b;for(var it,rt,lt,F=-1,N=b.length,Y=r[T++],at=ll(),At=A();++F<N;)(lt=at.get(it=Y(rt=b[F])+""))?lt.push(rt):at.set(it,[rt]);return at.each(function(dt,St){I(At,St,y(dt,T,A,I))}),At}function x(b,T){if(++T>r.length)return b;var A,I=o[T-1];return null!=h&&T>=r.length?A=b.entries():(A=[],b.each(function(F,N){A.push({key:N,values:x(F,T)})})),null!=I?A.sort(function(F,N){return I(F.key,N.key)}):A}return g={object:function(b){return y(b,0,Ep,Kc)},map:function(b){return y(b,0,ql,Yl)},entries:function(b){return x(y(b,0,ql,Yl),0)},key:function(b){return r.push(b),g},sortKeys:function(b){return o[r.length-1]=b,g},sortValues:function(b){return c=b,g},rollup:function(b){return h=b,g}}}function Ep(){return{}}function Kc(r,o,c){r[o]=c}function ql(){return ll()}function Yl(r,o,c){r.set(o,c)}function Vh(){}var yu=ll.prototype;function Xl(r,o){var c=new Vh;if(r instanceof Vh)r.each(function(y){c.add(y)});else if(r){var h=-1,g=r.length;if(null==o)for(;++h<g;)c.add(r[h]);else for(;++h<g;)c.add(o(r[h],h,r))}return c}Vh.prototype=Xl.prototype={constructor:Vh,has:yu.has,add:function(r){return this[Wa+(r+="")]=r,this},remove:yu.remove,clear:yu.clear,values:yu.keys,size:yu.size,empty:yu.empty,each:yu.each};const cA=Xl;function KS(r){var o=[];for(var c in r)o.push(c);return o}function wn(r){var o=[];for(var c in r)o.push(r[c]);return o}function fA(r){var o=[];for(var c in r)o.push({key:c,value:r[c]});return o}var JS=Math.PI/180,t2=180/Math.PI,e2=.96422,n2=1,r2=.82521,Jc=4/29,Bh=6/29,i2=3*Bh*Bh,$i=Bh*Bh*Bh;function Ap(r){if(r instanceof pi)return new pi(r.l,r.a,r.b,r.opacity);if(r instanceof xu)return la(r);r instanceof xr||(r=oa(r));var y,x,o=Zl(r.r),c=Zl(r.g),h=Zl(r.b),g=wu((.2225045*o+.7168786*c+.0606169*h)/n2);return o===c&&c===h?y=x=g:(y=wu((.4360747*o+.3850649*c+.1430804*h)/e2),x=wu((.0139322*o+.0971045*c+.7141733*h)/r2)),new pi(116*g-16,500*(y-g),200*(g-x),r.opacity)}function $h(r,o){return new pi(r,0,0,o??1)}function Dp(r,o,c,h){return 1===arguments.length?Ap(r):new pi(r,o,c,h??1)}function pi(r,o,c,h){this.l=+r,this.a=+o,this.b=+c,this.opacity=+h}function wu(r){return r>$i?Math.pow(r,1/3):r/i2+Jc}function Pp(r){return r>Bh?r*r*r:i2*(r-Jc)}function tf(r){return 255*(r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055)}function Zl(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function Wy(r){if(r instanceof xu)return new xu(r.h,r.c,r.l,r.opacity);if(r instanceof pi||(r=Ap(r)),0===r.a&&0===r.b)return new xu(NaN,0<r.l&&r.l<100?0:NaN,r.l,r.opacity);var o=Math.atan2(r.b,r.a)*t2;return new xu(o<0?o+360:o,Math.sqrt(r.a*r.a+r.b*r.b),r.l,r.opacity)}function hA(r,o,c,h){return 1===arguments.length?Wy(r):new xu(c,o,r,h??1)}function Ip(r,o,c,h){return 1===arguments.length?Wy(r):new xu(r,o,c,h??1)}function xu(r,o,c,h){this.h=+r,this.c=+o,this.l=+c,this.opacity=+h}function la(r){if(isNaN(r.h))return new pi(r.l,0,0,r.opacity);var o=r.h*JS;return new pi(r.l,Math.cos(o)*r.c,Math.sin(o)*r.c,r.opacity)}mo(pi,Dp,Wi(Ci,{brighter:function(r){return new pi(this.l+18*(r??1),this.a,this.b,this.opacity)},darker:function(r){return new pi(this.l-18*(r??1),this.a,this.b,this.opacity)},rgb:function(){var r=(this.l+16)/116,o=isNaN(this.a)?r:r+this.a/500,c=isNaN(this.b)?r:r-this.b/200;return new xr(tf(3.1338561*(o=e2*Pp(o))-1.6168667*(r=n2*Pp(r))-.4906146*(c=r2*Pp(c))),tf(-.9787684*o+1.9161415*r+.033454*c),tf(.0719453*o-.2289914*r+1.4052427*c),this.opacity)}})),mo(xu,Ip,Wi(Ci,{brighter:function(r){return new xu(this.h,this.c,this.l+18*(r??1),this.opacity)},darker:function(r){return new xu(this.h,this.c,this.l-18*(r??1),this.opacity)},rgb:function(){return la(this).rgb()}}));var cl=1.78277,qy=-.29227,zh=-.90649,Gh=1.97294,Yy=Gh*zh,Xy=Gh*cl,Zy=cl*qy- -.14861*zh;function _s(r,o,c,h){return 1===arguments.length?function o2(r){if(r instanceof bu)return new bu(r.h,r.s,r.l,r.opacity);r instanceof xr||(r=oa(r));var c=r.g/255,h=r.b/255,g=(Zy*h+Yy*(r.r/255)-Xy*c)/(Zy+Yy-Xy),y=h-g,x=(Gh*(c-g)-qy*y)/zh,b=Math.sqrt(x*x+y*y)/(Gh*g*(1-g)),T=b?Math.atan2(x,y)*t2-120:NaN;return new bu(T<0?T+360:T,b,g,r.opacity)}(r):new bu(r,o,c,h??1)}function bu(r,o,c,h){this.h=+r,this.s=+o,this.l=+c,this.opacity=+h}mo(bu,_s,Wi(Ci,{brighter:function(r){return r=null==r?hs:Math.pow(hs,r),new bu(this.h,this.s,this.l*r,this.opacity)},darker:function(r){return r=null==r?.7:Math.pow(.7,r),new bu(this.h,this.s,this.l*r,this.opacity)},rgb:function(){var r=isNaN(this.h)?0:(this.h+120)*JS,o=+this.l,c=isNaN(this.s)?0:this.s*o*(1-o),h=Math.cos(r),g=Math.sin(r);return new xr(255*(o+c*(-.14861*h+cl*g)),255*(o+c*(qy*h+zh*g)),255*(o+c*(Gh*h)),this.opacity)}}));var Op=Array.prototype.slice;function Uh(r,o){return r-o}function qa(r){return function(){return r}}function a2(r,o){for(var g,c=-1,h=o.length;++c<h;)if(g=Ky(r,o[c]))return g;return 0}function Ky(r,o){for(var c=o[0],h=o[1],g=-1,y=0,x=r.length,b=x-1;y<x;b=y++){var T=r[y],A=T[0],I=T[1],F=r[b],N=F[0],Y=F[1];if(jh(T,F,o))return 0;I>h!=Y>h&&c<(N-A)*(h-I)/(Y-I)+A&&(g=-g)}return g}function jh(r,o,c){var h;return function Np(r,o,c){return(o[0]-r[0])*(c[1]-r[1])==(c[0]-r[0])*(o[1]-r[1])}(r,o,c)&&function Jy(r,o,c){return r<=o&&o<=c||c<=o&&o<=r}(r[h=+(r[0]===o[0])],c[h],o[h])}function s2(){}var Su=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Ql(){var r=1,o=1,c=wt,h=T;function g(A){var I=c(A);if(Array.isArray(I))I=I.slice().sort(Uh);else{var F=ge(A),N=F[0],Y=F[1];I=ot(N,Y,I),I=_(Math.floor(N/I)*I,Math.floor(Y/I)*I,I)}return I.map(function(it){return y(A,it)})}function y(A,I){var F=[],N=[];return function x(A,I,F){var it,rt,lt,At,dt,N=new Array,Y=new Array;for(it=rt=-1,Su[(lt=A[0]>=I)<<1].forEach(St);++it<r-1;)Su[lt|(lt=A[it+1]>=I)<<1].forEach(St);for(Su[lt<<0].forEach(St);++rt<o-1;){for(it=-1,Su[(lt=A[rt*r+r]>=I)<<1|(At=A[rt*r]>=I)<<2].forEach(St);++it<r-1;)dt=At,Su[lt|(lt=A[rt*r+r+it+1]>=I)<<1|(At=A[rt*r+it+1]>=I)<<2|dt<<3].forEach(St);Su[lt|At<<3].forEach(St)}for(it=-1,Su[(At=A[rt*r]>=I)<<2].forEach(St);++it<r-1;)dt=At,Su[(At=A[rt*r+it+1]>=I)<<2|dt<<3].forEach(St);function St(jt){var pe,ie,Kt=[jt[0][0]+it,jt[0][1]+rt],Xt=[jt[1][0]+it,jt[1][1]+rt],ve=b(Kt),se=b(Xt);(pe=Y[ve])?(ie=N[se])?(delete Y[pe.end],delete N[ie.start],pe===ie?(pe.ring.push(Xt),F(pe.ring)):N[pe.start]=Y[ie.end]={start:pe.start,end:ie.end,ring:pe.ring.concat(ie.ring)}):(delete Y[pe.end],pe.ring.push(Xt),Y[pe.end=se]=pe):(pe=N[se])?(ie=Y[ve])?(delete N[pe.start],delete Y[ie.end],pe===ie?(pe.ring.push(Xt),F(pe.ring)):N[ie.start]=Y[pe.end]={start:ie.start,end:pe.end,ring:ie.ring.concat(pe.ring)}):(delete N[pe.start],pe.ring.unshift(Kt),N[pe.start=ve]=pe):N[ve]=Y[se]={start:ve,end:se,ring:[Kt,Xt]}}Su[At<<3].forEach(St)}(A,I,function(Y){h(Y,A,I),function Qy(r){for(var o=0,c=r.length,h=r[c-1][1]*r[0][0]-r[c-1][0]*r[0][1];++o<c;)h+=r[o-1][1]*r[o][0]-r[o-1][0]*r[o][1];return h}(Y)>0?F.push([Y]):N.push(Y)}),N.forEach(function(Y){for(var at,it=0,rt=F.length;it<rt;++it)if(-1!==a2((at=F[it])[0],Y))return void at.push(Y)}),{type:"MultiPolygon",value:I,coordinates:F}}function b(A){return 2*A[0]+A[1]*(r+1)*4}function T(A,I,F){A.forEach(function(N){var lt,Y=N[0],it=N[1],rt=0|Y,at=0|it,At=I[at*r+rt];Y>0&&Y<r&&rt===Y&&(N[0]=Y+(F-(lt=I[at*r+rt-1]))/(At-lt)-.5),it>0&&it<o&&at===it&&(N[1]=it+(F-(lt=I[(at-1)*r+rt]))/(At-lt)-.5)})}return g.contour=y,g.size=function(A){if(!arguments.length)return[r,o];var I=Math.ceil(A[0]),F=Math.ceil(A[1]);if(!(I>0&&F>0))throw new Error("invalid size");return r=I,o=F,g},g.thresholds=function(A){return arguments.length?(c="function"==typeof A?A:Array.isArray(A)?qa(Op.call(A)):qa(A),g):c},g.smooth=function(A){return arguments.length?(h=A?T:s2,g):h===T},g}function Kl(r,o,c){for(var h=r.width,g=r.height,y=1+(c<<1),x=0;x<g;++x)for(var b=0,T=0;b<h+c;++b)b<h&&(T+=r.data[b+x*h]),b>=c&&(b>=y&&(T-=r.data[b-y+x*h]),o.data[b-c+x*h]=T/Math.min(b+1,h-1+y-b,y))}function Dm(r,o,c){for(var h=r.width,g=r.height,y=1+(c<<1),x=0;x<h;++x)for(var b=0,T=0;b<g+c;++b)b<g&&(T+=r.data[x+b*h]),b>=c&&(b>=y&&(T-=r.data[x+(b-y)*h]),o.data[x+(b-c)*h]=T/Math.min(b+1,g-1+y-b,y))}function dA(r){return r[0]}function t1(r){return r[1]}function u2(){return 1}function pA(){var r=dA,o=t1,c=u2,h=960,g=500,y=20,x=2,b=3*y,T=h+2*b>>x,A=g+2*b>>x,I=qa(20);function F(lt){var At=new Float32Array(T*A),dt=new Float32Array(T*A);lt.forEach(function(Kt,Xt,ve){var se=+r(Kt,Xt,ve)+b>>x,pe=+o(Kt,Xt,ve)+b>>x,ie=+c(Kt,Xt,ve);se>=0&&se<T&&pe>=0&&pe<A&&(At[se+pe*T]+=ie)}),Kl({width:T,height:A,data:At},{width:T,height:A,data:dt},y>>x),Dm({width:T,height:A,data:dt},{width:T,height:A,data:At},y>>x),Kl({width:T,height:A,data:At},{width:T,height:A,data:dt},y>>x),Dm({width:T,height:A,data:dt},{width:T,height:A,data:At},y>>x),Kl({width:T,height:A,data:At},{width:T,height:A,data:dt},y>>x),Dm({width:T,height:A,data:dt},{width:T,height:A,data:At},y>>x);var St=I(At);if(!Array.isArray(St)){var jt=de(At);St=ot(0,jt,St),(St=_(0,Math.floor(jt/St)*St,St)).shift()}return Ql().thresholds(St).size([T,A])(At).map(N)}function N(lt){return lt.value*=Math.pow(2,-2*x),lt.coordinates.forEach(Y),lt}function Y(lt){lt.forEach(it)}function it(lt){lt.forEach(rt)}function rt(lt){lt[0]=lt[0]*Math.pow(2,x)-b,lt[1]=lt[1]*Math.pow(2,x)-b}function at(){return T=h+2*(b=3*y)>>x,A=g+2*b>>x,F}return F.x=function(lt){return arguments.length?(r="function"==typeof lt?lt:qa(+lt),F):r},F.y=function(lt){return arguments.length?(o="function"==typeof lt?lt:qa(+lt),F):o},F.weight=function(lt){return arguments.length?(c="function"==typeof lt?lt:qa(+lt),F):c},F.size=function(lt){if(!arguments.length)return[h,g];var At=Math.ceil(lt[0]),dt=Math.ceil(lt[1]);if(!(At>=0||At>=0))throw new Error("invalid size");return h=At,g=dt,at()},F.cellSize=function(lt){if(!arguments.length)return 1<<x;if(!((lt=+lt)>=1))throw new Error("invalid cell size");return x=Math.floor(Math.log(lt)/Math.LN2),at()},F.thresholds=function(lt){return arguments.length?(I="function"==typeof lt?lt:Array.isArray(lt)?qa(Op.call(lt)):qa(lt),F):I},F.bandwidth=function(lt){if(!arguments.length)return Math.sqrt(y*(y+1));if(!((lt=+lt)>=0))throw new Error("invalid bandwidth");return y=Math.round((Math.sqrt(4*lt*lt+1)-1)/2),at()},F}function kp(r){return function(){return r}}function Pm(r,o,c,h,g,y,x,b,T,A){this.target=r,this.type=o,this.subject=c,this.identifier=h,this.active=g,this.x=y,this.y=x,this.dx=b,this.dy=T,this._=A}function l2(){return!ke.ctrlKey&&!ke.button}function Fp(){return this.parentNode}function e1(r){return r??{x:ke.x,y:ke.y}}function c2(){return navigator.maxTouchPoints||"ontouchstart"in this}function n1(){var b,T,A,I,r=l2,o=Fp,c=e1,h=c2,g={},y=Xr("start","drag","end"),x=0,F=0;function N(St){St.on("mousedown.drag",Y).filter(h).on("touchstart.drag",at).on("touchmove.drag",lt).on("touchend.drag touchcancel.drag",At).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function Y(){if(!I&&r.apply(this,arguments)){var St=dt("mouse",o.apply(this,arguments),Sa,this,arguments);St&&(_i(ke.view).on("mousemove.drag",it,!0).on("mouseup.drag",rt,!0),fs(ke.view),Zu(),A=!1,b=ke.clientX,T=ke.clientY,St("start"))}}function it(){if(cs(),!A){var St=ke.clientX-b,jt=ke.clientY-T;A=St*St+jt*jt>F}g.mouse("drag")}function rt(){_i(ke.view).on("mousemove.drag mouseup.drag",null),$o(ke.view,A),cs(),g.mouse("end")}function at(){if(r.apply(this,arguments)){var Xt,ve,St=ke.changedTouches,jt=o.apply(this,arguments),Kt=St.length;for(Xt=0;Xt<Kt;++Xt)(ve=dt(St[Xt].identifier,jt,sa,this,arguments))&&(Zu(),ve("start"))}}function lt(){var Kt,Xt,St=ke.changedTouches,jt=St.length;for(Kt=0;Kt<jt;++Kt)(Xt=g[St[Kt].identifier])&&(cs(),Xt("drag"))}function At(){var Kt,Xt,St=ke.changedTouches,jt=St.length;for(I&&clearTimeout(I),I=setTimeout(function(){I=null},500),Kt=0;Kt<jt;++Kt)(Xt=g[St[Kt].identifier])&&(Zu(),Xt("end"))}function dt(St,jt,Kt,Xt,ve){var pe,ie,It,se=Kt(jt,St),Jt=y.copy();if(ni(new Pm(N,"beforestart",pe,St,x,se[0],se[1],0,0,Jt),function(){return null!=(ke.subject=pe=c.apply(Xt,ve))&&(ie=pe.x-se[0]||0,It=pe.y-se[1]||0,!0)}))return function Se(Qt){var je,ye=se;switch(Qt){case"start":g[St]=Se,je=x++;break;case"end":delete g[St],--x;case"drag":se=Kt(jt,St),je=x}ni(new Pm(N,Qt,pe,St,je,se[0]+ie,se[1]+It,se[0]-ye[0],se[1]-ye[1],Jt),Jt.apply,Jt,[Qt,Xt,ve])}}return N.filter=function(St){return arguments.length?(r="function"==typeof St?St:kp(!!St),N):r},N.container=function(St){return arguments.length?(o="function"==typeof St?St:kp(St),N):o},N.subject=function(St){return arguments.length?(c="function"==typeof St?St:kp(St),N):c},N.touchable=function(St){return arguments.length?(h="function"==typeof St?St:kp(!!St),N):h},N.on=function(){var St=y.on.apply(y,arguments);return St===y?N:St},N.clickDistance=function(St){return arguments.length?(F=(St=+St)*St,N):Math.sqrt(F)},N}Pm.prototype.on=function(){var r=this._.on.apply(this._,arguments);return r===this._?this:r};var f2={},Vp={},r1=34,Hh=10,Im=13;function Bp(r){return new Function("d","return {"+r.map(function(o,c){return JSON.stringify(o)+": d["+c+'] || ""'}).join(",")+"}")}function h2(r){var o=Object.create(null),c=[];return r.forEach(function(h){for(var g in h)g in o||c.push(o[g]=g)}),c}function So(r,o){var c=r+"",h=c.length;return h<o?new Array(o-h+1).join(0)+c:c}function Lm(r){var o=new RegExp('["'+r+"\n\r]"),c=r.charCodeAt(0);function g(F,N){var lt,Y=[],it=F.length,rt=0,at=0,At=it<=0,dt=!1;function St(){if(At)return Vp;if(dt)return dt=!1,f2;var Kt,ve,Xt=rt;if(F.charCodeAt(Xt)===r1){for(;rt++<it&&F.charCodeAt(rt)!==r1||F.charCodeAt(++rt)===r1;);return(Kt=rt)>=it?At=!0:(ve=F.charCodeAt(rt++))===Hh?dt=!0:ve===Im&&(dt=!0,F.charCodeAt(rt)===Hh&&++rt),F.slice(Xt+1,Kt-1).replace(/""/g,'"')}for(;rt<it;){if((ve=F.charCodeAt(Kt=rt++))===Hh)dt=!0;else if(ve===Im)dt=!0,F.charCodeAt(rt)===Hh&&++rt;else if(ve!==c)continue;return F.slice(Xt,Kt)}return At=!0,F.slice(Xt,it)}for(F.charCodeAt(it-1)===Hh&&--it,F.charCodeAt(it-1)===Im&&--it;(lt=St())!==Vp;){for(var jt=[];lt!==f2&&lt!==Vp;)jt.push(lt),lt=St();N&&null==(jt=N(jt,at++))||Y.push(jt)}return Y}function y(F,N){return F.map(function(Y){return N.map(function(it){return I(Y[it])}).join(r)})}function A(F){return F.map(I).join(r)}function I(F){return null==F?"":F instanceof Date?function vA(r){var o=r.getUTCHours(),c=r.getUTCMinutes(),h=r.getUTCSeconds(),g=r.getUTCMilliseconds();return isNaN(r)?"Invalid Date":function mA(r){return r<0?"-"+So(-r,6):r>9999?"+"+So(r,6):So(r,4)}(r.getUTCFullYear())+"-"+So(r.getUTCMonth()+1,2)+"-"+So(r.getUTCDate(),2)+(g?"T"+So(o,2)+":"+So(c,2)+":"+So(h,2)+"."+So(g,3)+"Z":h?"T"+So(o,2)+":"+So(c,2)+":"+So(h,2)+"Z":c||o?"T"+So(o,2)+":"+So(c,2)+"Z":"")}(F):o.test(F+="")?'"'+F.replace(/"/g,'""')+'"':F}return{parse:function h(F,N){var Y,it,rt=g(F,function(at,lt){if(Y)return Y(at,lt-1);it=at,Y=N?function gA(r,o){var c=Bp(r);return function(h,g){return o(c(h),g,r)}}(at,N):Bp(at)});return rt.columns=it||[],rt},parseRows:g,format:function x(F,N){return null==N&&(N=h2(F)),[N.map(I).join(r)].concat(y(F,N)).join("\n")},formatBody:function b(F,N){return null==N&&(N=h2(F)),y(F,N).join("\n")},formatRows:function T(F){return F.map(A).join("\n")},formatRow:A,formatValue:I}}var ef=Lm(","),d2=ef.parse,p2=ef.parseRows,i1=ef.format,Rm=ef.formatBody,o1=ef.formatRows,a1=ef.formatRow,s1=ef.formatValue,Di=Lm("\t"),u1=Di.parse,g2=Di.parseRows,m2=Di.format,l1=Di.formatBody,Om=Di.formatRows,v2=Di.formatRow,_2=Di.formatValue;function y2(r){for(var o in r){var h,g,c=r[o].trim();if(c)if("true"===c)c=!0;else if("false"===c)c=!1;else if("NaN"===c)c=NaN;else if(isNaN(h=+c)){if(!(g=c.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;c1&&g[4]&&!g[7]&&(c=c.replace(/-/g,"/").replace(/T/," ")),c=new Date(c)}else c=h;else c=null;r[o]=c}return r}var c1=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function w2(r){return+r}function x2(r){return r*r}function ca(r){return r*(2-r)}function $p(r){return((r*=2)<=1?r*r:--r*(2-r)+1)/2}var Nm=function r(o){function c(h){return Math.pow(h,o)}return o=+o,c.exponent=r,c}(3),Mo=function r(o){function c(h){return 1-Math.pow(1-h,o)}return o=+o,c.exponent=r,c}(3),nf=function r(o){function c(h){return((h*=2)<=1?Math.pow(h,o):2-Math.pow(2-h,o))/2}return o=+o,c.exponent=r,c}(3),km=Math.PI,Fm=km/2;function b2(r){return 1==+r?1:1-Math.cos(r*Fm)}function f1(r){return Math.sin(r*Fm)}function h1(r){return(1-Math.cos(km*r))/2}function Mu(r){return 1.0009775171065494*(Math.pow(2,-10*r)-.0009765625)}function S2(r){return Mu(1-+r)}function d1(r){return 1-Mu(r)}function p1(r){return((r*=2)<=1?Mu(1-r):2-Mu(r-1))/2}function M2(r){return 1-Math.sqrt(1-r*r)}function Vm(r){return Math.sqrt(1- --r*r)}function Gp(r){return((r*=2)<=1?1-Math.sqrt(1-r*r):Math.sqrt(1-(r-=2)*r)+1)/2}var Bm=4/11,Wh=6/11,C2=8/11,T2=3/4,$m=9/11,zm=10/11,g1=15/16,rf=21/22,Gm=63/64,qh=1/Bm/Bm;function E2(r){return 1-Jl(1-r)}function Jl(r){return(r=+r)<Bm?qh*r*r:r<C2?qh*(r-=Wh)*r+T2:r<zm?qh*(r-=$m)*r+g1:qh*(r-=rf)*r+Gm}function A2(r){return((r*=2)<=1?1-Jl(1-r):Jl(r-1)+1)/2}var Um=1.70158,D2=function r(o){function c(h){return(h=+h)*h*(o*(h-1)+h)}return o=+o,c.overshoot=r,c}(Um),P2=function r(o){function c(h){return--h*h*((h+1)*o+h)+1}return o=+o,c.overshoot=r,c}(Um),m1=function r(o){function c(h){return((h*=2)<1?h*h*((o+1)*h-o):(h-=2)*h*((o+1)*h+o)+2)/2}return o=+o,c.overshoot=r,c}(Um),af=2*Math.PI,v1=function r(o,c){var h=Math.asin(1/(o=Math.max(1,o)))*(c/=af);function g(y){return o*Mu(- --y)*Math.sin((h-y)/c)}return g.amplitude=function(y){return r(y,c*af)},g.period=function(y){return r(o,y)},g}(1,.3),jp=function r(o,c){var h=Math.asin(1/(o=Math.max(1,o)))*(c/=af);function g(y){return 1-o*Mu(y=+y)*Math.sin((y+h)/c)}return g.amplitude=function(y){return r(y,c*af)},g.period=function(y){return r(o,y)},g}(1,.3),I2=function r(o,c){var h=Math.asin(1/(o=Math.max(1,o)))*(c/=af);function g(y){return((y=2*y-1)<0?o*Mu(-y)*Math.sin((h-y)/c):2-o*Mu(y)*Math.sin((h+y)/c))/2}return g.amplitude=function(y){return r(y,c*af)},g.period=function(y){return r(o,y)},g}(1,.3);function L2(r){if(!r.ok)throw new Error(r.status+" "+r.statusText);return r.blob()}function _1(r,o){return fetch(r,o).then(L2)}function y1(r){if(!r.ok)throw new Error(r.status+" "+r.statusText);return r.arrayBuffer()}function tc(r,o){return fetch(r,o).then(y1)}function w1(r){if(!r.ok)throw new Error(r.status+" "+r.statusText);return r.text()}function Xh(r,o){return fetch(r,o).then(w1)}function x1(r){return function(o,c,h){return 2===arguments.length&&"function"==typeof c&&(h=c,c=void 0),Xh(o,c).then(function(g){return r(g,h)})}}function _A(r,o,c,h){3===arguments.length&&"function"==typeof c&&(h=c,c=void 0);var g=Lm(r);return Xh(o,c).then(function(y){return g.parse(y,h)})}var Hp=x1(d2),R2=x1(u1);function b1(r,o){return new Promise(function(c,h){var g=new Image;for(var y in o)g[y]=o[y];g.onerror=h,g.onload=function(){c(g)},g.src=r})}function S1(r){if(!r.ok)throw new Error(r.status+" "+r.statusText);if(204!==r.status&&205!==r.status)return r.json()}function M1(r,o){return fetch(r,o).then(S1)}function Zh(r){return function(o,c){return Xh(o,c).then(function(h){return(new DOMParser).parseFromString(h,r)})}}const C1=Zh("application/xml");var Wp=Zh("text/html"),qp=Zh("image/svg+xml");function T1(r,o){var c;function h(){var g,x,y=c.length,b=0,T=0;for(g=0;g<y;++g)b+=(x=c[g]).x,T+=x.y;for(b=b/y-r,T=T/y-o,g=0;g<y;++g)(x=c[g]).x-=b,x.y-=T}return null==r&&(r=0),null==o&&(o=0),h.initialize=function(g){c=g},h.x=function(g){return arguments.length?(r=+g,h):r},h.y=function(g){return arguments.length?(o=+g,h):o},h}function xi(r){return function(){return r}}function Ys(){return 1e-6*(Math.random()-.5)}function sf(r,o,c,h){if(isNaN(o)||isNaN(c))return r;var g,F,N,Y,it,rt,at,lt,At,y=r._root,x={data:h},b=r._x0,T=r._y0,A=r._x1,I=r._y1;if(!y)return r._root=x,r;for(;y.length;)if((rt=o>=(F=(b+A)/2))?b=F:A=F,(at=c>=(N=(T+I)/2))?T=N:I=N,g=y,!(y=y[lt=at<<1|rt]))return g[lt]=x,r;if(Y=+r._x.call(null,y.data),it=+r._y.call(null,y.data),o===Y&&c===it)return x.next=y,g?g[lt]=x:r._root=x,r;do{g=g?g[lt]=new Array(4):r._root=new Array(4),(rt=o>=(F=(b+A)/2))?b=F:A=F,(at=c>=(N=(T+I)/2))?T=N:I=N}while((lt=at<<1|rt)==(At=(it>=N)<<1|Y>=F));return g[At]=y,g[lt]=x,r}function Ho(r,o,c,h,g){this.node=r,this.x0=o,this.y0=c,this.x1=h,this.y1=g}function yA(r){return r[0]}function Wm(r){return r[1]}function Qh(r,o,c){var h=new lf(o??yA,c??Wm,NaN,NaN,NaN,NaN);return null==r?h:h.addAll(r)}function lf(r,o,c,h,g,y){this._x=r,this._y=o,this._x0=c,this._y0=h,this._x1=g,this._y1=y,this._root=void 0}function Xp(r){for(var o={data:r.data},c=o;r=r.next;)c=c.next={data:r.data};return o}var Co=Qh.prototype=lf.prototype;function P1(r){return r.x+r.vx}function I1(r){return r.y+r.vy}function L1(r){var o,c,h=1,g=1;function y(){for(var T,I,F,N,Y,it,rt,A=o.length,at=0;at<g;++at)for(I=Qh(o,P1,I1).visitAfter(x),T=0;T<A;++T)rt=(it=c[(F=o[T]).index])*it,N=F.x+F.vx,Y=F.y+F.vy,I.visit(lt);function lt(At,dt,St,jt,Kt){var Xt=At.data,ve=At.r,se=it+ve;if(!Xt)return dt>N+se||jt<N-se||St>Y+se||Kt<Y-se;if(Xt.index>F.index){var pe=N-Xt.x-Xt.vx,ie=Y-Xt.y-Xt.vy,It=pe*pe+ie*ie;It<se*se&&(0===pe&&(It+=(pe=Ys())*pe),0===ie&&(It+=(ie=Ys())*ie),It=(se-(It=Math.sqrt(It)))/It*h,F.vx+=(pe*=It)*(se=(ve*=ve)/(rt+ve)),F.vy+=(ie*=It)*se,Xt.vx-=pe*(se=1-se),Xt.vy-=ie*se)}}}function x(T){if(T.data)return T.r=c[T.data.index];for(var A=T.r=0;A<4;++A)T[A]&&T[A].r>T.r&&(T.r=T[A].r)}function b(){if(o){var T,I,A=o.length;for(c=new Array(A),T=0;T<A;++T)c[(I=o[T]).index]=+r(I,T,o)}}return"function"!=typeof r&&(r=xi(null==r?1:+r)),y.initialize=function(T){o=T,b()},y.iterations=function(T){return arguments.length?(g=+T,y):g},y.strength=function(T){return arguments.length?(h=+T,y):h},y.radius=function(T){return arguments.length?(r="function"==typeof T?T:xi(+T),b(),y):r},y}function z2(r){return r.index}function R1(r,o){var c=r.get(o);if(!c)throw new Error("missing: "+o);return c}function G2(r){var h,y,x,b,T,o=z2,c=function I(rt){return 1/Math.min(b[rt.source.index],b[rt.target.index])},g=xi(30),A=1;function F(rt){for(var at=0,lt=r.length;at<A;++at)for(var dt,St,jt,Kt,Xt,ve,se,At=0;At<lt;++At)Kt=(jt=(dt=r[At]).target).x+jt.vx-(St=dt.source).x-St.vx||Ys(),Xt=jt.y+jt.vy-St.y-St.vy||Ys(),Xt*=ve=((ve=Math.sqrt(Kt*Kt+Xt*Xt))-y[At])/ve*rt*h[At],jt.vx-=(Kt*=ve)*(se=T[At]),jt.vy-=Xt*se,St.vx+=Kt*(se=1-se),St.vy+=Xt*se}function N(){if(x){var rt,dt,at=x.length,lt=r.length,At=ll(x,o);for(rt=0,b=new Array(at);rt<lt;++rt)(dt=r[rt]).index=rt,"object"!=typeof dt.source&&(dt.source=R1(At,dt.source)),"object"!=typeof dt.target&&(dt.target=R1(At,dt.target)),b[dt.source.index]=(b[dt.source.index]||0)+1,b[dt.target.index]=(b[dt.target.index]||0)+1;for(rt=0,T=new Array(lt);rt<lt;++rt)T[rt]=b[(dt=r[rt]).source.index]/(b[dt.source.index]+b[dt.target.index]);h=new Array(lt),Y(),y=new Array(lt),it()}}function Y(){if(x)for(var rt=0,at=r.length;rt<at;++rt)h[rt]=+c(r[rt],rt,r)}function it(){if(x)for(var rt=0,at=r.length;rt<at;++rt)y[rt]=+g(r[rt],rt,r)}return null==r&&(r=[]),F.initialize=function(rt){x=rt,N()},F.links=function(rt){return arguments.length?(r=rt,N(),F):r},F.id=function(rt){return arguments.length?(o=rt,F):o},F.iterations=function(rt){return arguments.length?(A=+rt,F):A},F.strength=function(rt){return arguments.length?(c="function"==typeof rt?rt:xi(+rt),Y(),F):c},F.distance=function(rt){return arguments.length?(g="function"==typeof rt?rt:xi(+rt),it(),F):g},F}function U2(r){return r.x}function j2(r){return r.y}Co.copy=function(){var c,h,r=new lf(this._x,this._y,this._x0,this._y0,this._x1,this._y1),o=this._root;if(!o)return r;if(!o.length)return r._root=Xp(o),r;for(c=[{source:o,target:r._root=new Array(4)}];o=c.pop();)for(var g=0;g<4;++g)(h=o.source[g])&&(h.length?c.push({source:h,target:o.target[g]=new Array(4)}):o.target[g]=Xp(h));return r},Co.add=function jm(r){var o=+this._x.call(null,r),c=+this._y.call(null,r);return sf(this.cover(o,c),o,c,r)},Co.addAll=function O2(r){var o,c,g,y,h=r.length,x=new Array(h),b=new Array(h),T=1/0,A=1/0,I=-1/0,F=-1/0;for(c=0;c<h;++c)isNaN(g=+this._x.call(null,o=r[c]))||isNaN(y=+this._y.call(null,o))||(x[c]=g,b[c]=y,g<T&&(T=g),g>I&&(I=g),y<A&&(A=y),y>F&&(F=y));if(T>I||A>F)return this;for(this.cover(T,A).cover(I,F),c=0;c<h;++c)sf(this,x[c],b[c],r[c]);return this},Co.cover=function E1(r,o){if(isNaN(r=+r)||isNaN(o=+o))return this;var c=this._x0,h=this._y0,g=this._x1,y=this._y1;if(isNaN(c))g=(c=Math.floor(r))+1,y=(h=Math.floor(o))+1;else{for(var T,A,x=g-c,b=this._root;c>r||r>=g||h>o||o>=y;)switch(A=(o<h)<<1|r<c,T=new Array(4),T[A]=b,b=T,x*=2,A){case 0:g=c+x,y=h+x;break;case 1:c=g-x,y=h+x;break;case 2:g=c+x,h=y-x;break;case 3:c=g-x,h=y-x}this._root&&this._root.length&&(this._root=b)}return this._x0=c,this._y0=h,this._x1=g,this._y1=y,this},Co.data=function N2(){var r=[];return this.visit(function(o){if(!o.length)do{r.push(o.data)}while(o=o.next)}),r},Co.extent=function k2(r){return arguments.length?this.cover(+r[0][0],+r[0][1]).cover(+r[1][0],+r[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Co.find=function A1(r,o,c){var h,x,b,T,A,it,rt,g=this._x0,y=this._y0,I=this._x1,F=this._y1,N=[],Y=this._root;for(Y&&N.push(new Ho(Y,g,y,I,F)),null==c?c=1/0:(g=r-c,y=o-c,I=r+c,F=o+c,c*=c);it=N.pop();)if(!(!(Y=it.node)||(x=it.x0)>I||(b=it.y0)>F||(T=it.x1)<g||(A=it.y1)<y))if(Y.length){var at=(x+T)/2,lt=(b+A)/2;N.push(new Ho(Y[3],at,lt,T,A),new Ho(Y[2],x,lt,at,A),new Ho(Y[1],at,b,T,lt),new Ho(Y[0],x,b,at,lt)),(rt=(o>=lt)<<1|r>=at)&&(it=N[N.length-1],N[N.length-1]=N[N.length-1-rt],N[N.length-1-rt]=it)}else{var At=r-+this._x.call(null,Y.data),dt=o-+this._y.call(null,Y.data),St=At*At+dt*dt;if(St<c){var jt=Math.sqrt(c=St);g=r-jt,y=o-jt,I=r+jt,F=o+jt,h=Y.data}}return h},Co.remove=function D1(r){if(isNaN(I=+this._x.call(null,r))||isNaN(F=+this._y.call(null,r)))return this;var o,h,g,y,I,F,N,Y,it,rt,at,lt,c=this._root,x=this._x0,b=this._y0,T=this._x1,A=this._y1;if(!c)return this;if(c.length)for(;;){if((it=I>=(N=(x+T)/2))?x=N:T=N,(rt=F>=(Y=(b+A)/2))?b=Y:A=Y,o=c,!(c=c[at=rt<<1|it]))return this;if(!c.length)break;(o[at+1&3]||o[at+2&3]||o[at+3&3])&&(h=o,lt=at)}for(;c.data!==r;)if(g=c,!(c=c.next))return this;return(y=c.next)&&delete c.next,g?(y?g.next=y:delete g.next,this):o?(y?o[at]=y:delete o[at],(c=o[0]||o[1]||o[2]||o[3])&&c===(o[3]||o[2]||o[1]||o[0])&&!c.length&&(h?h[lt]=c:this._root=c),this):(this._root=y,this)},Co.removeAll=function Yp(r){for(var o=0,c=r.length;o<c;++o)this.remove(r[o]);return this},Co.root=function Hm(){return this._root},Co.size=function uf(){var r=0;return this.visit(function(o){if(!o.length)do{++r}while(o=o.next)}),r},Co.visit=function F2(r){var c,g,y,x,b,T,o=[],h=this._root;for(h&&o.push(new Ho(h,this._x0,this._y0,this._x1,this._y1));c=o.pop();)if(!r(h=c.node,y=c.x0,x=c.y0,b=c.x1,T=c.y1)&&h.length){var A=(y+b)/2,I=(x+T)/2;(g=h[3])&&o.push(new Ho(g,A,I,b,T)),(g=h[2])&&o.push(new Ho(g,y,I,A,T)),(g=h[1])&&o.push(new Ho(g,A,x,b,I)),(g=h[0])&&o.push(new Ho(g,y,x,A,I))}return this},Co.visitAfter=function V2(r){var h,o=[],c=[];for(this._root&&o.push(new Ho(this._root,this._x0,this._y0,this._x1,this._y1));h=o.pop();){var g=h.node;if(g.length){var y,x=h.x0,b=h.y0,T=h.x1,A=h.y1,I=(x+T)/2,F=(b+A)/2;(y=g[0])&&o.push(new Ho(y,x,b,I,F)),(y=g[1])&&o.push(new Ho(y,I,b,T,F)),(y=g[2])&&o.push(new Ho(y,x,F,I,A)),(y=g[3])&&o.push(new Ho(y,I,F,T,A))}c.push(h)}for(;h=c.pop();)r(h.node,h.x0,h.y0,h.x1,h.y1);return this},Co.x=function B2(r){return arguments.length?(this._x=r,this):this._x},Co.y=function $2(r){return arguments.length?(this._y=r,this):this._y};var fl=10,Kh=Math.PI*(3-Math.sqrt(5));function H2(r){var o,c=1,h=.001,g=1-Math.pow(h,1/300),y=0,x=.6,b=ll(),T=Fi(I),A=Xr("tick","end");function I(){F(),A.call("tick",o),c<h&&(T.stop(),A.call("end",o))}function F(it){var rt,lt,at=r.length;void 0===it&&(it=1);for(var At=0;At<it;++At)for(c+=(y-c)*g,b.each(function(dt){dt(c)}),rt=0;rt<at;++rt)null==(lt=r[rt]).fx?lt.x+=lt.vx*=x:(lt.x=lt.fx,lt.vx=0),null==lt.fy?lt.y+=lt.vy*=x:(lt.y=lt.fy,lt.vy=0);return o}function N(){for(var at,it=0,rt=r.length;it<rt;++it){if((at=r[it]).index=it,null!=at.fx&&(at.x=at.fx),null!=at.fy&&(at.y=at.fy),isNaN(at.x)||isNaN(at.y)){var lt=fl*Math.sqrt(it),At=it*Kh;at.x=lt*Math.cos(At),at.y=lt*Math.sin(At)}(isNaN(at.vx)||isNaN(at.vy))&&(at.vx=at.vy=0)}}function Y(it){return it.initialize&&it.initialize(r),it}return null==r&&(r=[]),N(),o={tick:F,restart:function(){return T.restart(I),o},stop:function(){return T.stop(),o},nodes:function(it){return arguments.length?(r=it,N(),b.each(Y),o):r},alpha:function(it){return arguments.length?(c=+it,o):c},alphaMin:function(it){return arguments.length?(h=+it,o):h},alphaDecay:function(it){return arguments.length?(g=+it,o):+g},alphaTarget:function(it){return arguments.length?(y=+it,o):y},velocityDecay:function(it){return arguments.length?(x=1-it,o):1-x},force:function(it,rt){return arguments.length>1?(null==rt?b.remove(it):b.set(it,Y(rt)),o):b.get(it)},find:function(it,rt,at){var dt,St,jt,Kt,Xt,lt=0,At=r.length;for(null==at?at=1/0:at*=at,lt=0;lt<At;++lt)(jt=(dt=it-(Kt=r[lt]).x)*dt+(St=rt-Kt.y)*St)<at&&(Xt=Kt,at=jt);return Xt},on:function(it,rt){return arguments.length>1?(A.on(it,rt),o):A.on(it)}}}function wA(){var r,o,c,g,h=xi(-30),y=1,x=1/0,b=.81;function T(N){var Y,it=r.length,rt=Qh(r,U2,j2).visitAfter(I);for(c=N,Y=0;Y<it;++Y)o=r[Y],rt.visit(F)}function A(){if(r){var N,it,Y=r.length;for(g=new Array(Y),N=0;N<Y;++N)g[(it=r[N]).index]=+h(it,N,r)}}function I(N){var it,rt,lt,At,dt,Y=0,at=0;if(N.length){for(lt=At=dt=0;dt<4;++dt)(it=N[dt])&&(rt=Math.abs(it.value))&&(Y+=it.value,at+=rt,lt+=rt*it.x,At+=rt*it.y);N.x=lt/at,N.y=At/at}else{(it=N).x=it.data.x,it.y=it.data.y;do{Y+=g[it.data.index]}while(it=it.next)}N.value=Y}function F(N,Y,it,rt){if(!N.value)return!0;var at=N.x-o.x,lt=N.y-o.y,At=rt-Y,dt=at*at+lt*lt;if(At*At/b<dt)return dt<x&&(0===at&&(dt+=(at=Ys())*at),0===lt&&(dt+=(lt=Ys())*lt),dt<y&&(dt=Math.sqrt(y*dt)),o.vx+=at*N.value*c/dt,o.vy+=lt*N.value*c/dt),!0;if(!(N.length||dt>=x)){(N.data!==o||N.next)&&(0===at&&(dt+=(at=Ys())*at),0===lt&&(dt+=(lt=Ys())*lt),dt<y&&(dt=Math.sqrt(y*dt)));do{N.data!==o&&(o.vx+=at*(At=g[N.data.index]*c/dt),o.vy+=lt*At)}while(N=N.next)}}return T.initialize=function(N){r=N,A()},T.strength=function(N){return arguments.length?(h="function"==typeof N?N:xi(+N),A(),T):h},T.distanceMin=function(N){return arguments.length?(y=N*N,T):Math.sqrt(y)},T.distanceMax=function(N){return arguments.length?(x=N*N,T):Math.sqrt(x)},T.theta=function(N){return arguments.length?(b=N*N,T):Math.sqrt(b)},T}function xA(r,o,c){var h,y,x,g=xi(.1);function b(A){for(var I=0,F=h.length;I<F;++I){var N=h[I],Y=N.x-o||1e-6,it=N.y-c||1e-6,rt=Math.sqrt(Y*Y+it*it),at=(x[I]-rt)*y[I]*A/rt;N.vx+=Y*at,N.vy+=it*at}}function T(){if(h){var A,I=h.length;for(y=new Array(I),x=new Array(I),A=0;A<I;++A)x[A]=+r(h[A],A,h),y[A]=isNaN(x[A])?0:+g(h[A],A,h)}}return"function"!=typeof r&&(r=xi(+r)),null==o&&(o=0),null==c&&(c=0),b.initialize=function(A){h=A,T()},b.strength=function(A){return arguments.length?(g="function"==typeof A?A:xi(+A),T(),b):g},b.radius=function(A){return arguments.length?(r="function"==typeof A?A:xi(+A),T(),b):r},b.x=function(A){return arguments.length?(o=+A,b):o},b.y=function(A){return arguments.length?(c=+A,b):c},b}function bA(r){var c,h,g,o=xi(.1);function y(b){for(var I,T=0,A=c.length;T<A;++T)(I=c[T]).vx+=(g[T]-I.x)*h[T]*b}function x(){if(c){var b,T=c.length;for(h=new Array(T),g=new Array(T),b=0;b<T;++b)h[b]=isNaN(g[b]=+r(c[b],b,c))?0:+o(c[b],b,c)}}return"function"!=typeof r&&(r=xi(null==r?0:+r)),y.initialize=function(b){c=b,x()},y.strength=function(b){return arguments.length?(o="function"==typeof b?b:xi(+b),x(),y):o},y.x=function(b){return arguments.length?(r="function"==typeof b?b:xi(+b),x(),y):r},y}function SA(r){var c,h,g,o=xi(.1);function y(b){for(var I,T=0,A=c.length;T<A;++T)(I=c[T]).vy+=(g[T]-I.y)*h[T]*b}function x(){if(c){var b,T=c.length;for(h=new Array(T),g=new Array(T),b=0;b<T;++b)h[b]=isNaN(g[b]=+r(c[b],b,c))?0:+o(c[b],b,c)}}return"function"!=typeof r&&(r=xi(null==r?0:+r)),y.initialize=function(b){c=b,x()},y.strength=function(b){return arguments.length?(o="function"==typeof b?b:xi(+b),x(),y):o},y.y=function(b){return arguments.length?(r="function"==typeof b?b:xi(+b),x(),y):r},y}function Jh(r,o){if((c=(r=o?r.toExponential(o-1):r.toExponential()).indexOf("e"))<0)return null;var c,h=r.slice(0,c);return[h.length>1?h[0]+h.slice(2):h,+r.slice(c+1)]}function cf(r){return(r=Jh(Math.abs(r)))?r[1]:NaN}var qm,Y2=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ec(r){if(!(o=Y2.exec(r)))throw new Error("invalid format: "+r);var o;return new Ya({fill:o[1],align:o[2],sign:o[3],symbol:o[4],zero:o[5],width:o[6],comma:o[7],precision:o[8]&&o[8].slice(1),trim:o[9],type:o[10]})}function Ya(r){this.fill=void 0===r.fill?" ":r.fill+"",this.align=void 0===r.align?">":r.align+"",this.sign=void 0===r.sign?"-":r.sign+"",this.symbol=void 0===r.symbol?"":r.symbol+"",this.zero=!!r.zero,this.width=void 0===r.width?void 0:+r.width,this.comma=!!r.comma,this.precision=void 0===r.precision?void 0:+r.precision,this.trim=!!r.trim,this.type=void 0===r.type?"":r.type+""}function Ym(r,o){var c=Jh(r,o);if(!c)return r+"";var h=c[0],g=c[1];return g<0?"0."+new Array(-g).join("0")+h:h.length>g+1?h.slice(0,g+1)+"."+h.slice(g+1):h+new Array(g-h.length+2).join("0")}ec.prototype=Ya.prototype,Ya.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const X2={"%":function(r,o){return(100*r).toFixed(o)},b:function(r){return Math.round(r).toString(2)},c:function(r){return r+""},d:function MA(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)},e:function(r,o){return r.toExponential(o)},f:function(r,o){return r.toFixed(o)},g:function(r,o){return r.toPrecision(o)},o:function(r){return Math.round(r).toString(8)},p:function(r,o){return Ym(100*r,o)},r:Ym,s:function O1(r,o){var c=Jh(r,o);if(!c)return r+"";var h=c[0],g=c[1],y=g-(qm=3*Math.max(-8,Math.min(8,Math.floor(g/3))))+1,x=h.length;return y===x?h:y>x?h+new Array(y-x+1).join("0"):y>0?h.slice(0,y)+"."+h.slice(y):"0."+new Array(1-y).join("0")+Jh(r,Math.max(0,o+y-1))[0]},X:function(r){return Math.round(r).toString(16).toUpperCase()},x:function(r){return Math.round(r).toString(16)}};function Z2(r){return r}var Xm,Zm,Kp,Q2=Array.prototype.map,Zp=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Qp(r){var o=void 0===r.grouping||void 0===r.thousands?Z2:function W2(r,o){return function(c,h){for(var g=c.length,y=[],x=0,b=r[0],T=0;g>0&&b>0&&(T+b+1>h&&(b=Math.max(1,h-T)),y.push(c.substring(g-=b,g+b)),!((T+=b+1)>h));)b=r[x=(x+1)%r.length];return y.reverse().join(o)}}(Q2.call(r.grouping,Number),r.thousands+""),c=void 0===r.currency?"":r.currency[0]+"",h=void 0===r.currency?"":r.currency[1]+"",g=void 0===r.decimal?".":r.decimal+"",y=void 0===r.numerals?Z2:function q2(r){return function(o){return o.replace(/[0-9]/g,function(c){return r[+c]})}}(Q2.call(r.numerals,String)),x=void 0===r.percent?"%":r.percent+"",b=void 0===r.minus?"-":r.minus+"",T=void 0===r.nan?"NaN":r.nan+"";function A(F){var N=(F=ec(F)).fill,Y=F.align,it=F.sign,rt=F.symbol,at=F.zero,lt=F.width,At=F.comma,dt=F.precision,St=F.trim,jt=F.type;"n"===jt?(At=!0,jt="g"):X2[jt]||(void 0===dt&&(dt=12),St=!0,jt="g"),(at||"0"===N&&"="===Y)&&(at=!0,N="0",Y="=");var Kt="$"===rt?c:"#"===rt&&/[boxX]/.test(jt)?"0"+jt.toLowerCase():"",Xt="$"===rt?h:/[%p]/.test(jt)?x:"",ve=X2[jt],se=/[defgprs%]/.test(jt);function pe(ie){var Se,Qt,ye,It=Kt,Jt=Xt;if("c"===jt)Jt=ve(ie)+Jt,ie="";else{var je=(ie=+ie)<0||1/ie<0;if(ie=isNaN(ie)?T:ve(Math.abs(ie),dt),St&&(ie=function td(r){t:for(var g,o=r.length,c=1,h=-1;c<o;++c)switch(r[c]){case".":h=g=c;break;case"0":0===h&&(h=c),g=c;break;default:if(!+r[c])break t;h>0&&(h=0)}return h>0?r.slice(0,h)+r.slice(g+1):r}(ie)),je&&0==+ie&&"+"!==it&&(je=!1),It=(je?"("===it?it:b:"-"===it||"("===it?"":it)+It,Jt=("s"===jt?Zp[8+qm/3]:"")+Jt+(je&&"("===it?")":""),se)for(Se=-1,Qt=ie.length;++Se<Qt;)if(48>(ye=ie.charCodeAt(Se))||ye>57){Jt=(46===ye?g+ie.slice(Se+1):ie.slice(Se))+Jt,ie=ie.slice(0,Se);break}}At&&!at&&(ie=o(ie,1/0));var $e=It.length+ie.length+Jt.length,Ke=$e<lt?new Array(lt-$e+1).join(N):"";switch(At&&at&&(ie=o(Ke+ie,Ke.length?lt-Jt.length:1/0),Ke=""),Y){case"<":ie=It+ie+Jt+Ke;break;case"=":ie=It+Ke+ie+Jt;break;case"^":ie=Ke.slice(0,$e=Ke.length>>1)+It+ie+Jt+Ke.slice($e);break;default:ie=Ke+It+ie+Jt}return y(ie)}return dt=void 0===dt?6:/[gprs]/.test(jt)?Math.max(1,Math.min(21,dt)):Math.max(0,Math.min(20,dt)),pe.toString=function(){return F+""},pe}return{format:A,formatPrefix:function I(F,N){var Y=A(((F=ec(F)).type="f",F)),it=3*Math.max(-8,Math.min(8,Math.floor(cf(N)/3))),rt=Math.pow(10,-it),at=Zp[8+it/3];return function(lt){return Y(rt*lt)+at}}}}function N1(r){return Xm=Qp(r),Zm=Xm.format,Kp=Xm.formatPrefix,Xm}function k1(r){return Math.max(0,-cf(Math.abs(r)))}function F1(r,o){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(cf(o)/3)))-cf(Math.abs(r)))}function V1(r,o){return r=Math.abs(r),o=Math.abs(o)-r,Math.max(0,cf(o)-cf(r))+1}function Cu(){return new nc}function nc(){this.reset()}N1({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),nc.prototype={constructor:nc,reset:function(){this.s=this.t=0},add:function(r){tg(Jp,r,this.t),tg(this,Jp.s,this.s),this.s?this.t+=Jp.t:this.s=Jp.t},valueOf:function(){return this.s}};var Jp=new nc;function tg(r,o,c){var h=r.s=o+c,g=h-o;r.t=o-(h-g)+(c-g)}var rn=1e-6,ai=1e-12,Wn=Math.PI,gi=Wn/2,ed=Wn/4,To=2*Wn,kr=180/Wn,ln=Wn/180,fr=Math.abs,ff=Math.atan,Eo=Math.atan2,Je=Math.cos,Qm=Math.ceil,hf=Math.exp,nd=(Math,Math.log),eg=Math.pow,ze=Math.sin,ys=Math.sign||function(r){return r>0?1:r<0?-1:0},Pi=Math.sqrt,ng=Math.tan;function Jm(r){return r>1?0:r<-1?Wn:Math.acos(r)}function co(r){return r>1?gi:r<-1?-gi:Math.asin(r)}function K2(r){return(r=ze(r/2))*r}function Hr(){}function rg(r,o){r&&tv.hasOwnProperty(r.type)&&tv[r.type](r,o)}var ig={Feature:function(r,o){rg(r.geometry,o)},FeatureCollection:function(r,o){for(var c=r.features,h=-1,g=c.length;++h<g;)rg(c[h].geometry,o)}},tv={Sphere:function(r,o){o.sphere()},Point:function(r,o){o.point((r=r.coordinates)[0],r[1],r[2])},MultiPoint:function(r,o){for(var c=r.coordinates,h=-1,g=c.length;++h<g;)o.point((r=c[h])[0],r[1],r[2])},LineString:function(r,o){og(r.coordinates,o,0)},MultiLineString:function(r,o){for(var c=r.coordinates,h=-1,g=c.length;++h<g;)og(c[h],o,0)},Polygon:function(r,o){hl(r.coordinates,o)},MultiPolygon:function(r,o){for(var c=r.coordinates,h=-1,g=c.length;++h<g;)hl(c[h],o)},GeometryCollection:function(r,o){for(var c=r.geometries,h=-1,g=c.length;++h<g;)rg(c[h],o)}};function og(r,o,c){var y,h=-1,g=r.length-c;for(o.lineStart();++h<g;)o.point((y=r[h])[0],y[1],y[2]);o.lineEnd()}function hl(r,o){var c=-1,h=r.length;for(o.polygonStart();++c<h;)og(r[c],o,1);o.polygonEnd()}function ws(r,o){r&&ig.hasOwnProperty(r.type)?ig[r.type](r,o):rg(r,o)}var B1,ag,pf,xs,sg,df=Cu(),rc=Cu(),Xa={point:Hr,lineStart:Hr,lineEnd:Hr,polygonStart:function(){df.reset(),Xa.lineStart=J2,Xa.lineEnd=tM},polygonEnd:function(){var r=+df;rc.add(r<0?To+r:r),this.lineStart=this.lineEnd=this.point=Hr},sphere:function(){rc.add(To)}};function J2(){Xa.point=$1}function tM(){ic(B1,ag)}function $1(r,o){Xa.point=ic,B1=r,ag=o,pf=r*=ln,xs=Je(o=(o*=ln)/2+ed),sg=ze(o)}function ic(r,o){var c=(r*=ln)-pf,h=c>=0?1:-1,g=h*c,y=Je(o=(o*=ln)/2+ed),x=ze(o),b=sg*x,T=xs*y+b*Je(g),A=b*h*ze(g);df.add(Eo(A,T)),pf=r,xs=y,sg=x}function eM(r){return rc.reset(),ws(r,Xa),2*rc}function ug(r){return[Eo(r[1],r[0]),co(r[2])]}function oc(r){var o=r[0],c=r[1],h=Je(c);return[h*Je(o),h*ze(o),ze(c)]}function gf(r,o){return r[0]*o[0]+r[1]*o[1]+r[2]*o[2]}function mf(r,o){return[r[1]*o[2]-r[2]*o[1],r[2]*o[0]-r[0]*o[2],r[0]*o[1]-r[1]*o[0]]}function lg(r,o){r[0]+=o[0],r[1]+=o[1],r[2]+=o[2]}function cg(r,o){return[r[0]*o,r[1]*o,r[2]*o]}function rd(r){var o=Pi(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=o,r[1]/=o,r[2]/=o}var mi,fa,zr,Da,Za,Tu,z1,ac,pl,Eu,dl=Cu(),Qa={point:ev,lineStart:hg,lineEnd:G1,polygonStart:function(){Qa.point=dg,Qa.lineStart=vf,Qa.lineEnd=nM,dl.reset(),Xa.polygonStart()},polygonEnd:function(){Xa.polygonEnd(),Qa.point=ev,Qa.lineStart=hg,Qa.lineEnd=G1,df<0?(mi=-(zr=180),fa=-(Da=90)):dl>rn?Da=90:dl<-rn&&(fa=-90),Eu[0]=mi,Eu[1]=zr},sphere:function(){mi=-(zr=180),fa=-(Da=90)}};function ev(r,o){pl.push(Eu=[mi=r,zr=r]),o<fa&&(fa=o),o>Da&&(Da=o)}function fg(r,o){var c=oc([r*ln,o*ln]);if(ac){var h=mf(ac,c),y=mf([h[1],-h[0],0],h);rd(y),y=ug(y);var A,x=r-Za,b=x>0?1:-1,T=y[0]*kr*b,I=fr(x)>180;I^(b*Za<T&&T<b*r)?(A=y[1]*kr)>Da&&(Da=A):I^(b*Za<(T=(T+360)%360-180)&&T<b*r)?(A=-y[1]*kr)<fa&&(fa=A):(o<fa&&(fa=o),o>Da&&(Da=o)),I?r<Za?Pa(mi,r)>Pa(mi,zr)&&(zr=r):Pa(r,zr)>Pa(mi,zr)&&(mi=r):zr>=mi?(r<mi&&(mi=r),r>zr&&(zr=r)):r>Za?Pa(mi,r)>Pa(mi,zr)&&(zr=r):Pa(r,zr)>Pa(mi,zr)&&(mi=r)}else pl.push(Eu=[mi=r,zr=r]);o<fa&&(fa=o),o>Da&&(Da=o),ac=c,Za=r}function hg(){Qa.point=fg}function G1(){Eu[0]=mi,Eu[1]=zr,Qa.point=ev,ac=null}function dg(r,o){if(ac){var c=r-Za;dl.add(fr(c)>180?c+(c>0?360:-360):c)}else Tu=r,z1=o;Xa.point(r,o),fg(r,o)}function vf(){Xa.lineStart()}function nM(){dg(Tu,z1),Xa.lineEnd(),fr(dl)>rn&&(mi=-(zr=180)),Eu[0]=mi,Eu[1]=zr,ac=null}function Pa(r,o){return(o-=r)<0?o+360:o}function rM(r,o){return r[0]-o[0]}function U1(r,o){return r[0]<=r[1]?r[0]<=o&&o<=r[1]:o<r[0]||r[1]<o}function iM(r){var o,c,h,g,y,x,b;if(Da=zr=-(mi=fa=1/0),pl=[],ws(r,Qa),c=pl.length){for(pl.sort(rM),o=1,y=[h=pl[0]];o<c;++o)U1(h,(g=pl[o])[0])||U1(h,g[1])?(Pa(h[0],g[1])>Pa(h[0],h[1])&&(h[1]=g[1]),Pa(g[0],h[1])>Pa(h[0],h[1])&&(h[0]=g[0])):y.push(h=g);for(x=-1/0,o=0,h=y[c=y.length-1];o<=c;h=g,++o)(b=Pa(h[1],(g=y[o])[0]))>x&&(x=b,mi=g[0],zr=h[1])}return pl=Eu=null,mi===1/0||fa===1/0?[[NaN,NaN],[NaN,NaN]]:[[mi,fa],[zr,Da]]}var id,pg,Au,Ka,gg,mg,nv,rv,vg,j1,_g,iv,H1,Ao,Wo,qo,bi={sphere:Hr,point:ov,lineStart:W1,lineEnd:q1,polygonStart:function(){bi.lineStart=Y1,bi.lineEnd=sM},polygonEnd:function(){bi.lineStart=W1,bi.lineEnd=q1}};function ov(r,o){r*=ln;var c=Je(o*=ln);_f(c*Je(r),c*ze(r),ze(o))}function _f(r,o,c){++id,Au+=(r-Au)/id,Ka+=(o-Ka)/id,gg+=(c-gg)/id}function W1(){bi.point=oM}function oM(r,o){r*=ln;var c=Je(o*=ln);Ao=c*Je(r),Wo=c*ze(r),qo=ze(o),bi.point=aM,_f(Ao,Wo,qo)}function aM(r,o){r*=ln;var c=Je(o*=ln),h=c*Je(r),g=c*ze(r),y=ze(o),x=Eo(Pi((x=Wo*y-qo*g)*x+(x=qo*h-Ao*y)*x+(x=Ao*g-Wo*h)*x),Ao*h+Wo*g+qo*y);pg+=x,mg+=x*(Ao+(Ao=h)),nv+=x*(Wo+(Wo=g)),rv+=x*(qo+(qo=y)),_f(Ao,Wo,qo)}function q1(){bi.point=ov}function Y1(){bi.point=uM}function sM(){X1(iv,H1),bi.point=ov}function uM(r,o){iv=r,H1=o,r*=ln,o*=ln,bi.point=X1;var c=Je(o);Ao=c*Je(r),Wo=c*ze(r),qo=ze(o),_f(Ao,Wo,qo)}function X1(r,o){r*=ln;var c=Je(o*=ln),h=c*Je(r),g=c*ze(r),y=ze(o),x=Wo*y-qo*g,b=qo*h-Ao*y,T=Ao*g-Wo*h,A=Pi(x*x+b*b+T*T),I=co(A),F=A&&-I/A;vg+=F*x,j1+=F*b,_g+=F*T,pg+=I,mg+=I*(Ao+(Ao=h)),nv+=I*(Wo+(Wo=g)),rv+=I*(qo+(qo=y)),_f(Ao,Wo,qo)}function Pn(r){id=pg=Au=Ka=gg=mg=nv=rv=vg=j1=_g=0,ws(r,bi);var o=vg,c=j1,h=_g,g=o*o+c*c+h*h;return g<ai&&(o=mg,c=nv,h=rv,pg<rn&&(o=Au,c=Ka,h=gg),(g=o*o+c*c+h*h)<ai)?[NaN,NaN]:[Eo(c,o)*kr,co(h/Pi(g))*kr]}function yf(r){return function(){return r}}function yg(r,o){function c(h,g){return h=r(h,g),o(h[0],h[1])}return r.invert&&o.invert&&(c.invert=function(h,g){return(h=o.invert(h,g))&&r.invert(h[0],h[1])}),c}function wg(r,o){return[fr(r)>Wn?r+Math.round(-r/To)*To:r,o]}function av(r,o,c){return(r%=To)?o||c?yg(sv(r),Q1(o,c)):sv(r):o||c?Q1(o,c):wg}function Z1(r){return function(o,c){return[(o+=r)>Wn?o-To:o<-Wn?o+To:o,c]}}function sv(r){var o=Z1(r);return o.invert=Z1(-r),o}function Q1(r,o){var c=Je(r),h=ze(r),g=Je(o),y=ze(o);function x(b,T){var A=Je(T),I=Je(b)*A,F=ze(b)*A,N=ze(T),Y=N*c+I*h;return[Eo(F*g-Y*y,I*c-N*h),co(Y*g+F*y)]}return x.invert=function(b,T){var A=Je(T),I=Je(b)*A,F=ze(b)*A,N=ze(T),Y=N*g-F*y;return[Eo(F*g+N*y,I*c+Y*h),co(Y*c-I*h)]},x}function uv(r){function o(c){return(c=r(c[0]*ln,c[1]*ln))[0]*=kr,c[1]*=kr,c}return r=av(r[0]*ln,r[1]*ln,r.length>2?r[2]*ln:0),o.invert=function(c){return(c=r.invert(c[0]*ln,c[1]*ln))[0]*=kr,c[1]*=kr,c},o}function K1(r,o,c,h,g,y){if(c){var x=Je(o),b=ze(o),T=h*c;null==g?(g=o+h*To,y=o-T/2):(g=J1(x,g),y=J1(x,y),(h>0?g<y:g>y)&&(g+=h*To));for(var A,I=g;h>0?I>y:I<y;I-=T)A=ug([x,-b*Je(I),-b*ze(I)]),r.point(A[0],A[1])}}function J1(r,o){(o=oc(o))[0]-=r,rd(o);var c=Jm(-o[1]);return((-o[2]<0?-c:c)+To-rn)%To}function CA(){var h,g,r=yf([0,0]),o=yf(90),c=yf(6),y={point:function x(T,A){h.push(T=g(T,A)),T[0]*=kr,T[1]*=kr}};function b(){var T=r.apply(this,arguments),A=o.apply(this,arguments)*ln,I=c.apply(this,arguments)*ln;return h=[],g=av(-T[0]*ln,-T[1]*ln,0).invert,K1(y,A,I,1),T={type:"Polygon",coordinates:[h]},h=g=null,T}return b.center=function(T){return arguments.length?(r="function"==typeof T?T:yf([+T[0],+T[1]]),b):r},b.radius=function(T){return arguments.length?(o="function"==typeof T?T:yf(+T),b):o},b.precision=function(T){return arguments.length?(c="function"==typeof T?T:yf(+T),b):c},b}function lv(){var o,r=[];return{point:function(c,h,g){o.push([c,h,g])},lineStart:function(){r.push(o=[])},lineEnd:Hr,rejoin:function(){r.length>1&&r.push(r.pop().concat(r.shift()))},result:function(){var c=r;return r=[],o=null,c}}}function od(r,o){return fr(r[0]-o[0])<rn&&fr(r[1]-o[1])<rn}function Ja(r,o,c,h){this.x=r,this.z=o,this.o=c,this.e=h,this.v=!1,this.n=this.p=null}function tw(r,o,c,h,g){var b,T,y=[],x=[];if(r.forEach(function(it){if(!((rt=it.length-1)<=0)){var rt,At,at=it[0],lt=it[rt];if(od(at,lt)){if(!at[2]&&!lt[2]){for(g.lineStart(),b=0;b<rt;++b)g.point((at=it[b])[0],at[1]);return void g.lineEnd()}lt[0]+=2*rn}y.push(At=new Ja(at,it,null,!0)),x.push(At.o=new Ja(at,null,At,!1)),y.push(At=new Ja(lt,it,null,!1)),x.push(At.o=new Ja(lt,null,At,!0))}}),y.length){for(x.sort(o),xg(y),xg(x),b=0,T=x.length;b<T;++b)x[b].e=c=!c;for(var I,F,A=y[0];;){for(var N=A,Y=!0;N.v;)if((N=N.n)===A)return;I=N.z,g.lineStart();do{if(N.v=N.o.v=!0,N.e){if(Y)for(b=0,T=I.length;b<T;++b)g.point((F=I[b])[0],F[1]);else h(N.x,N.n.x,1,g);N=N.n}else{if(Y)for(b=(I=N.p.z).length-1;b>=0;--b)g.point((F=I[b])[0],F[1]);else h(N.x,N.p.x,-1,g);N=N.p}I=(N=N.o).z,Y=!Y}while(!N.v);g.lineEnd()}}}function xg(r){if(o=r.length){for(var o,g,c=0,h=r[0];++c<o;)h.n=g=r[c],g.p=h,h=g;h.n=g=r[0],g.p=h}}wg.invert=wg;var ad=Cu();function cv(r){return fr(r[0])<=Wn?r[0]:ys(r[0])*((fr(r[0])+Wn)%To-Wn)}function lM(r,o){var c=cv(o),h=o[1],g=ze(h),y=[ze(c),-Je(c),0],x=0,b=0;ad.reset(),1===g?h=gi+rn:-1===g&&(h=-gi-rn);for(var T=0,A=r.length;T<A;++T)if(F=(I=r[T]).length)for(var I,F,N=I[F-1],Y=cv(N),it=N[1]/2+ed,rt=ze(it),at=Je(it),lt=0;lt<F;++lt,Y=dt,rt=jt,at=Kt,N=At){var At=I[lt],dt=cv(At),St=At[1]/2+ed,jt=ze(St),Kt=Je(St),Xt=dt-Y,ve=Xt>=0?1:-1,se=ve*Xt,pe=se>Wn,ie=rt*jt;if(ad.add(Eo(ie*ve*ze(se),at*Kt+ie*Je(se))),x+=pe?Xt+ve*To:Xt,pe^Y>=c^dt>=c){var It=mf(oc(N),oc(At));rd(It);var Jt=mf(y,It);rd(Jt);var Se=(pe^Xt>=0?-1:1)*co(Jt[2]);(h>Se||h===Se&&(It[0]||It[1]))&&(b+=pe^Xt>=0?1:-1)}}return(x<-rn||x<rn&&ad<-rn)^1&b}function cM(r,o,c,h){return function(g){var A,I,F,y=o(g),x=lv(),b=o(x),T=!1,N={point:Y,lineStart:rt,lineEnd:at,polygonStart:function(){N.point=lt,N.lineStart=At,N.lineEnd=dt,I=[],A=[]},polygonEnd:function(){N.point=Y,N.lineStart=rt,N.lineEnd=at,I=Ue(I);var St=lM(A,h);I.length?(T||(g.polygonStart(),T=!0),tw(I,fM,St,c,g)):St&&(T||(g.polygonStart(),T=!0),g.lineStart(),c(null,null,1,g),g.lineEnd()),T&&(g.polygonEnd(),T=!1),I=A=null},sphere:function(){g.polygonStart(),g.lineStart(),c(null,null,1,g),g.lineEnd(),g.polygonEnd()}};function Y(St,jt){r(St,jt)&&g.point(St,jt)}function it(St,jt){y.point(St,jt)}function rt(){N.point=it,y.lineStart()}function at(){N.point=Y,y.lineEnd()}function lt(St,jt){F.push([St,jt]),b.point(St,jt)}function At(){b.lineStart(),F=[]}function dt(){lt(F[0][0],F[0][1]),b.lineEnd();var Kt,ve,se,pe,St=b.clean(),jt=x.result(),Xt=jt.length;if(F.pop(),A.push(F),F=null,Xt){if(1&St){if((ve=(se=jt[0]).length-1)>0){for(T||(g.polygonStart(),T=!0),g.lineStart(),Kt=0;Kt<ve;++Kt)g.point((pe=se[Kt])[0],pe[1]);g.lineEnd()}return}Xt>1&&2&St&&jt.push(jt.pop().concat(jt.shift())),I.push(jt.filter(TA))}}return N}}function TA(r){return r.length>1}function fM(r,o){return((r=r.x)[0]<0?r[1]-gi-rn:gi-r[1])-((o=o.x)[0]<0?o[1]-gi-rn:gi-o[1])}const bg=cM(function(){return!0},function EA(r){var g,o=NaN,c=NaN,h=NaN;return{lineStart:function(){r.lineStart(),g=1},point:function(y,x){var b=y>0?Wn:-Wn,T=fr(y-o);fr(T-Wn)<rn?(r.point(o,c=(c+x)/2>0?gi:-gi),r.point(h,c),r.lineEnd(),r.lineStart(),r.point(b,c),r.point(y,c),g=0):h!==b&&T>=Wn&&(fr(o-h)<rn&&(o-=h*rn),fr(y-b)<rn&&(y-=b*rn),c=function hM(r,o,c,h){var g,y,x=ze(r-c);return fr(x)>rn?ff((ze(o)*(y=Je(h))*ze(c)-ze(h)*(g=Je(o))*ze(r))/(g*y*x)):(o+h)/2}(o,c,y,x),r.point(h,c),r.lineEnd(),r.lineStart(),r.point(b,c),g=0),r.point(o=y,c=x),h=b},lineEnd:function(){r.lineEnd(),o=c=NaN},clean:function(){return 2-g}}},function wf(r,o,c,h){var g;if(null==r)h.point(-Wn,g=c*gi),h.point(0,g),h.point(Wn,g),h.point(Wn,0),h.point(Wn,-g),h.point(0,-g),h.point(-Wn,-g),h.point(-Wn,0),h.point(-Wn,g);else if(fr(r[0]-o[0])>rn){var y=r[0]<o[0]?Wn:-Wn;h.point(-y,g=c*y/2),h.point(0,g),h.point(y,g)}else h.point(o[0],o[1])},[-Wn,-gi]);function ew(r){var o=Je(r),c=6*ln,h=o>0,g=fr(o)>rn;function x(I,F){return Je(I)*Je(F)>o}function T(I,F,N){var rt=[1,0,0],at=mf(oc(I),oc(F)),lt=gf(at,at),At=at[0],dt=lt-At*At;if(!dt)return!N&&I;var St=o*lt/dt,jt=-o*At/dt,Kt=mf(rt,at),Xt=cg(rt,St);lg(Xt,cg(at,jt));var se=Kt,pe=gf(Xt,se),ie=gf(se,se),It=pe*pe-ie*(gf(Xt,Xt)-1);if(!(It<0)){var Jt=Pi(It),Se=cg(se,(-pe-Jt)/ie);if(lg(Se,Xt),Se=ug(Se),!N)return Se;var Ke,Qt=I[0],ye=F[0],je=I[1],$e=F[1];ye<Qt&&(Ke=Qt,Qt=ye,ye=Ke);var Dn=ye-Qt,Rn=fr(Dn-Wn)<rn;if(!Rn&&$e<je&&(Ke=je,je=$e,$e=Ke),Rn||Dn<rn?Rn?je+$e>0^Se[1]<(fr(Se[0]-Qt)<rn?je:$e):je<=Se[1]&&Se[1]<=$e:Dn>Wn^(Qt<=Se[0]&&Se[0]<=ye)){var Fr=cg(se,(-pe+Jt)/ie);return lg(Fr,Xt),[Se,ug(Fr)]}}}function A(I,F){var N=h?r:Wn-r,Y=0;return I<-N?Y|=1:I>N&&(Y|=2),F<-N?Y|=4:F>N&&(Y|=8),Y}return cM(x,function b(I){var F,N,Y,it,rt;return{lineStart:function(){it=Y=!1,rt=1},point:function(at,lt){var dt,At=[at,lt],St=x(at,lt),jt=h?St?0:A(at,lt):St?A(at+(at<0?Wn:-Wn),lt):0;if(!F&&(it=Y=St)&&I.lineStart(),St!==Y&&(!(dt=T(F,At))||od(F,dt)||od(At,dt))&&(At[2]=1),St!==Y)rt=0,St?(I.lineStart(),dt=T(At,F),I.point(dt[0],dt[1])):(dt=T(F,At),I.point(dt[0],dt[1],2),I.lineEnd()),F=dt;else if(g&&F&&h^St){var Kt;!(jt&N)&&(Kt=T(At,F,!0))&&(rt=0,h?(I.lineStart(),I.point(Kt[0][0],Kt[0][1]),I.point(Kt[1][0],Kt[1][1]),I.lineEnd()):(I.point(Kt[1][0],Kt[1][1]),I.lineEnd(),I.lineStart(),I.point(Kt[0][0],Kt[0][1],3)))}St&&(!F||!od(F,At))&&I.point(At[0],At[1]),F=At,Y=St,N=jt},lineEnd:function(){Y&&I.lineEnd(),F=null},clean:function(){return rt|(it&&Y)<<1}}},function y(I,F,N,Y){K1(Y,r,c,N,I,F)},h?[0,-r]:[-Wn,r-Wn])}var gl=1e9,Sg=-gl;function sd(r,o,c,h){function g(A,I){return r<=A&&A<=c&&o<=I&&I<=h}function y(A,I,F,N){var Y=0,it=0;if(null==A||(Y=x(A,F))!==(it=x(I,F))||T(A,I)<0^F>0)do{N.point(0===Y||3===Y?r:c,Y>1?h:o)}while((Y=(Y+F+4)%4)!==it);else N.point(I[0],I[1])}function x(A,I){return fr(A[0]-r)<rn?I>0?0:3:fr(A[0]-c)<rn?I>0?2:1:fr(A[1]-o)<rn?I>0?1:0:I>0?3:2}function b(A,I){return T(A.x,I.x)}function T(A,I){var F=x(A,1),N=x(I,1);return F!==N?F-N:0===F?I[1]-A[1]:1===F?A[0]-I[0]:2===F?A[1]-I[1]:I[0]-A[0]}return function(A){var N,Y,it,rt,at,lt,At,dt,St,jt,Kt,I=A,F=lv(),Xt={point:ve,lineStart:function It(){Xt.point=Se,Y&&Y.push(it=[]),jt=!0,St=!1,At=dt=NaN},lineEnd:function Jt(){N&&(Se(rt,at),lt&&St&&F.rejoin(),N.push(F.result())),Xt.point=ve,St&&I.lineEnd()},polygonStart:function pe(){I=F,N=[],Y=[],Kt=!0},polygonEnd:function ie(){var Qt=function se(){for(var Qt=0,ye=0,je=Y.length;ye<je;++ye)for(var Wr,Fr,$e=Y[ye],Ke=1,Dn=$e.length,Rn=$e[0],vr=Rn[0],wr=Rn[1];Ke<Dn;++Ke)Wr=vr,Fr=wr,vr=(Rn=$e[Ke])[0],wr=Rn[1],Fr<=h?wr>h&&(vr-Wr)*(h-Fr)>(wr-Fr)*(r-Wr)&&++Qt:wr<=h&&(vr-Wr)*(h-Fr)<(wr-Fr)*(r-Wr)&&--Qt;return Qt}(),ye=Kt&&Qt,je=(N=Ue(N)).length;(ye||je)&&(A.polygonStart(),ye&&(A.lineStart(),y(null,null,1,A),A.lineEnd()),je&&tw(N,b,Qt,y,A),A.polygonEnd()),I=A,N=Y=it=null}};function ve(Qt,ye){g(Qt,ye)&&I.point(Qt,ye)}function Se(Qt,ye){var je=g(Qt,ye);if(Y&&it.push([Qt,ye]),jt)rt=Qt,at=ye,lt=je,jt=!1,je&&(I.lineStart(),I.point(Qt,ye));else if(je&&St)I.point(Qt,ye);else{var $e=[At=Math.max(Sg,Math.min(gl,At)),dt=Math.max(Sg,Math.min(gl,dt))],Ke=[Qt=Math.max(Sg,Math.min(gl,Qt)),ye=Math.max(Sg,Math.min(gl,ye))];!function nw(r,o,c,h,g,y){var it,x=r[0],b=r[1],I=0,F=1,N=o[0]-x,Y=o[1]-b;if(it=c-x,N||!(it>0)){if(it/=N,N<0){if(it<I)return;it<F&&(F=it)}else if(N>0){if(it>F)return;it>I&&(I=it)}if(it=g-x,N||!(it<0)){if(it/=N,N<0){if(it>F)return;it>I&&(I=it)}else if(N>0){if(it<I)return;it<F&&(F=it)}if(it=h-b,Y||!(it>0)){if(it/=Y,Y<0){if(it<I)return;it<F&&(F=it)}else if(Y>0){if(it>F)return;it>I&&(I=it)}if(it=y-b,Y||!(it<0)){if(it/=Y,Y<0){if(it>F)return;it>I&&(I=it)}else if(Y>0){if(it<I)return;it<F&&(F=it)}return I>0&&(r[0]=x+I*N,r[1]=b+I*Y),F<1&&(o[0]=x+F*N,o[1]=b+F*Y),!0}}}}}($e,Ke,r,o,c,h)?je&&(I.lineStart(),I.point(Qt,ye),Kt=!1):(St||(I.lineStart(),I.point($e[0],$e[1])),I.point(Ke[0],Ke[1]),je||I.lineEnd(),Kt=!1)}At=Qt,dt=ye,St=je}return Xt}}function dM(){var g,y,x,r=0,o=0,c=960,h=500;return x={stream:function(b){return g&&y===b?g:g=sd(r,o,c,h)(y=b)},extent:function(b){return arguments.length?(r=+b[0][0],o=+b[0][1],c=+b[1][0],h=+b[1][1],g=y=null,x):[[r,o],[c,h]]}}}var hv,Mg,Cg,fv=Cu(),sc={sphere:Hr,point:Hr,lineStart:function pM(){sc.point=iw,sc.lineEnd=rw},lineEnd:Hr,polygonStart:Hr,polygonEnd:Hr};function rw(){sc.point=sc.lineEnd=Hr}function iw(r,o){hv=r*=ln,Mg=ze(o*=ln),Cg=Je(o),sc.point=dv}function dv(r,o){r*=ln;var c=ze(o*=ln),h=Je(o),g=fr(r-hv),y=Je(g),b=h*ze(g),T=Cg*c-Mg*h*y,A=Mg*c+Cg*h*y;fv.add(Eo(Pi(b*b+T*T),A)),hv=r,Mg=c,Cg=h}function gM(r){return fv.reset(),ws(r,sc),+fv}var ud=[null,null],mM={type:"LineString",coordinates:ud};function pv(r,o){return ud[0]=r,ud[1]=o,gM(mM)}var mn={Feature:function(r,o){return Tg(r.geometry,o)},FeatureCollection:function(r,o){for(var c=r.features,h=-1,g=c.length;++h<g;)if(Tg(c[h].geometry,o))return!0;return!1}},gv={Sphere:function(){return!0},Point:function(r,o){return mv(r.coordinates,o)},MultiPoint:function(r,o){for(var c=r.coordinates,h=-1,g=c.length;++h<g;)if(mv(c[h],o))return!0;return!1},LineString:function(r,o){return ow(r.coordinates,o)},MultiLineString:function(r,o){for(var c=r.coordinates,h=-1,g=c.length;++h<g;)if(ow(c[h],o))return!0;return!1},Polygon:function(r,o){return aw(r.coordinates,o)},MultiPolygon:function(r,o){for(var c=r.coordinates,h=-1,g=c.length;++h<g;)if(aw(c[h],o))return!0;return!1},GeometryCollection:function(r,o){for(var c=r.geometries,h=-1,g=c.length;++h<g;)if(Tg(c[h],o))return!0;return!1}};function Tg(r,o){return!(!r||!gv.hasOwnProperty(r.type))&&gv[r.type](r,o)}function mv(r,o){return 0===pv(r,o)}function ow(r,o){for(var c,h,g,y=0,x=r.length;y<x;y++){if(0===(h=pv(r[y],o))||y>0&&(g=pv(r[y],r[y-1]))>0&&c<=g&&h<=g&&(c+h-g)*(1-Math.pow((c-h)/g,2))<ai*g)return!0;c=h}return!1}function aw(r,o){return!!lM(r.map(Eg),uc(o))}function Eg(r){return(r=r.map(uc)).pop(),r}function uc(r){return[r[0]*ln,r[1]*ln]}function vv(r,o){return(r&&mn.hasOwnProperty(r.type)?mn[r.type]:Tg)(r,o)}function xf(r,o,c){var h=_(r,o-rn,c).concat(o);return function(g){return h.map(function(y){return[g,y]})}}function Ag(r,o,c){var h=_(r,o-rn,c).concat(o);return function(g){return h.map(function(y){return[y,g]})}}function ld(){var r,o,c,h,g,y,x,b,N,Y,it,rt,T=10,A=T,I=90,F=360,at=2.5;function lt(){return{type:"MultiLineString",coordinates:At()}}function At(){return _(Qm(h/I)*I,c,I).map(it).concat(_(Qm(b/F)*F,x,F).map(rt)).concat(_(Qm(o/T)*T,r,T).filter(function(dt){return fr(dt%I)>rn}).map(N)).concat(_(Qm(y/A)*A,g,A).filter(function(dt){return fr(dt%F)>rn}).map(Y))}return lt.lines=function(){return At().map(function(dt){return{type:"LineString",coordinates:dt}})},lt.outline=function(){return{type:"Polygon",coordinates:[it(h).concat(rt(x).slice(1),it(c).reverse().slice(1),rt(b).reverse().slice(1))]}},lt.extent=function(dt){return arguments.length?lt.extentMajor(dt).extentMinor(dt):lt.extentMinor()},lt.extentMajor=function(dt){return arguments.length?(b=+dt[0][1],x=+dt[1][1],(h=+dt[0][0])>(c=+dt[1][0])&&(dt=h,h=c,c=dt),b>x&&(dt=b,b=x,x=dt),lt.precision(at)):[[h,b],[c,x]]},lt.extentMinor=function(dt){return arguments.length?(y=+dt[0][1],g=+dt[1][1],(o=+dt[0][0])>(r=+dt[1][0])&&(dt=o,o=r,r=dt),y>g&&(dt=y,y=g,g=dt),lt.precision(at)):[[o,y],[r,g]]},lt.step=function(dt){return arguments.length?lt.stepMajor(dt).stepMinor(dt):lt.stepMinor()},lt.stepMajor=function(dt){return arguments.length?(I=+dt[0],F=+dt[1],lt):[I,F]},lt.stepMinor=function(dt){return arguments.length?(T=+dt[0],A=+dt[1],lt):[T,A]},lt.precision=function(dt){return arguments.length?(at=+dt,N=xf(y,g,90),Y=Ag(o,r,at),it=xf(b,x,90),rt=Ag(h,c,at),lt):at},lt.extentMajor([[-180,-90+rn],[180,90-rn]]).extentMinor([[-180,-80-rn],[180,80+rn]])}function sw(){return ld()()}function _v(r,o){var c=r[0]*ln,h=r[1]*ln,g=o[0]*ln,y=o[1]*ln,x=Je(h),b=ze(h),T=Je(y),A=ze(y),I=x*Je(c),F=x*ze(c),N=T*Je(g),Y=T*ze(g),it=2*co(Pi(K2(y-h)+x*T*K2(g-c))),rt=ze(it),at=it?function(lt){var At=ze(lt*=it)/rt,dt=ze(it-lt)/rt,St=dt*I+At*N,jt=dt*F+At*Y,Kt=dt*b+At*A;return[Eo(jt,St)*kr,Eo(Kt,Pi(St*St+jt*jt))*kr]}:function(){return[c*kr,h*kr]};return at.distance=it,at}function lc(r){return r}var Pg,uw,yv,Ig,cd=Cu(),Dg=Cu(),ml={point:Hr,lineStart:Hr,lineEnd:Hr,polygonStart:function(){ml.lineStart=lw,ml.lineEnd=vM},polygonEnd:function(){ml.lineStart=ml.lineEnd=ml.point=Hr,cd.add(fr(Dg)),Dg.reset()},result:function(){var r=cd/2;return cd.reset(),r}};function lw(){ml.point=cw}function cw(r,o){ml.point=fw,Pg=yv=r,uw=Ig=o}function fw(r,o){Dg.add(Ig*r-yv*o),yv=r,Ig=o}function vM(){fw(Pg,uw)}const ha=ml;var bf=1/0,Lg=bf,Rg=-bf,Sf=Rg;const Og={point:function _M(r,o){r<bf&&(bf=r),r>Rg&&(Rg=r),o<Lg&&(Lg=o),o>Sf&&(Sf=o)},lineStart:Hr,lineEnd:Hr,polygonStart:Hr,polygonEnd:Hr,result:function(){var r=[[bf,Lg],[Rg,Sf]];return Rg=Sf=-(Lg=bf=1/0),r}};var dw,bs,ts,Xs,wv=0,Ng=0,fd=0,kg=0,Mf=0,Cf=0,xv=0,bv=0,hd=0,Ss={point:vl,lineStart:pw,lineEnd:Fg,polygonStart:function(){Ss.lineStart=xM,Ss.lineEnd=bM},polygonEnd:function(){Ss.point=vl,Ss.lineStart=pw,Ss.lineEnd=Fg},result:function(){var r=hd?[xv/hd,bv/hd]:Cf?[kg/Cf,Mf/Cf]:fd?[wv/fd,Ng/fd]:[NaN,NaN];return wv=Ng=fd=kg=Mf=Cf=xv=bv=hd=0,r}};function vl(r,o){wv+=r,Ng+=o,++fd}function pw(){Ss.point=yM}function yM(r,o){Ss.point=wM,vl(ts=r,Xs=o)}function wM(r,o){var c=r-ts,h=o-Xs,g=Pi(c*c+h*h);kg+=g*(ts+r)/2,Mf+=g*(Xs+o)/2,Cf+=g,vl(ts=r,Xs=o)}function Fg(){Ss.point=vl}function xM(){Ss.point=Vg}function bM(){dd(dw,bs)}function Vg(r,o){Ss.point=dd,vl(dw=ts=r,bs=Xs=o)}function dd(r,o){var c=r-ts,h=o-Xs,g=Pi(c*c+h*h);kg+=g*(ts+r)/2,Mf+=g*(Xs+o)/2,Cf+=g,xv+=(g=Xs*r-ts*o)*(ts+r),bv+=g*(Xs+o),hd+=3*g,vl(ts=r,Xs=o)}const pd=Ss;function SM(r){this._context=r}SM.prototype={_radius:4.5,pointRadius:function(r){return this._radius=r,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(r,o){switch(this._point){case 0:this._context.moveTo(r,o),this._point=1;break;case 1:this._context.lineTo(r,o);break;default:this._context.moveTo(r+this._radius,o),this._context.arc(r,o,this._radius,0,To)}},result:Hr};var gw,Sv,Mv,Tf,Ef,gd=Cu(),Af={point:Hr,lineStart:function(){Af.point=Du},lineEnd:function(){gw&&md(Sv,Mv),Af.point=Hr},polygonStart:function(){gw=!0},polygonEnd:function(){gw=null},result:function(){var r=+gd;return gd.reset(),r}};function Du(r,o){Af.point=md,Sv=Tf=r,Mv=Ef=o}function md(r,o){gd.add(Pi((Tf-=r)*Tf+(Ef-=o)*Ef)),Tf=r,Ef=o}const vd=Af;function Df(){this._string=[]}function mw(r){return"m0,"+r+"a"+r+","+r+" 0 1,1 0,"+-2*r+"a"+r+","+r+" 0 1,1 0,"+2*r+"z"}function vw(r,o){var h,g,c=4.5;function y(x){return x&&("function"==typeof c&&g.pointRadius(+c.apply(this,arguments)),ws(x,h(g))),g.result()}return y.area=function(x){return ws(x,h(ha)),ha.result()},y.measure=function(x){return ws(x,h(vd)),vd.result()},y.bounds=function(x){return ws(x,h(Og)),Og.result()},y.centroid=function(x){return ws(x,h(pd)),pd.result()},y.projection=function(x){return arguments.length?(h=null==x?(r=null,lc):(r=x).stream,y):r},y.context=function(x){return arguments.length?(g=null==x?(o=null,new Df):new SM(o=x),"function"!=typeof c&&g.pointRadius(c),y):o},y.pointRadius=function(x){return arguments.length?(c="function"==typeof x?x:(g.pointRadius(+x),+x),y):c},y.projection(r).context(o)}function _w(r){return{stream:_d(r)}}function _d(r){return function(o){var c=new Cv;for(var h in r)c[h]=r[h];return c.stream=o,c}}function Cv(){}function cc(r,o,c){var h=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),null!=h&&r.clipExtent(null),ws(c,r.stream(Og)),o(Og.result()),null!=h&&r.clipExtent(h),r}function Bg(r,o,c){return cc(r,function(h){var g=o[1][0]-o[0][0],y=o[1][1]-o[0][1],x=Math.min(g/(h[1][0]-h[0][0]),y/(h[1][1]-h[0][1])),b=+o[0][0]+(g-x*(h[1][0]+h[0][0]))/2,T=+o[0][1]+(y-x*(h[1][1]+h[0][1]))/2;r.scale(150*x).translate([b,T])},c)}function yw(r,o,c){return Bg(r,[[0,0],o],c)}function Tv(r,o,c){return cc(r,function(h){var g=+o,y=g/(h[1][0]-h[0][0]),x=(g-y*(h[1][0]+h[0][0]))/2,b=-y*h[0][1];r.scale(150*y).translate([x,b])},c)}function Ev(r,o,c){return cc(r,function(h){var g=+o,y=g/(h[1][1]-h[0][1]),x=-y*h[0][0],b=(g-y*(h[1][1]+h[0][1]))/2;r.scale(150*y).translate([x,b])},c)}Df.prototype={_radius:4.5,_circle:mw(4.5),pointRadius:function(r){return(r=+r)!==this._radius&&(this._radius=r,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(r,o){switch(this._point){case 0:this._string.push("M",r,",",o),this._point=1;break;case 1:this._string.push("L",r,",",o);break;default:null==this._circle&&(this._circle=mw(this._radius)),this._string.push("M",r,",",o,this._circle)}},result:function(){if(this._string.length){var r=this._string.join("");return this._string=[],r}return null}},Cv.prototype={constructor:Cv,point:function(r,o){this.stream.point(r,o)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ww=16,MM=Je(30*ln);function xw(r,o){return+o?function TM(r,o){function c(h,g,y,x,b,T,A,I,F,N,Y,it,rt,at){var lt=A-h,At=I-g,dt=lt*lt+At*At;if(dt>4*o&&rt--){var St=x+N,jt=b+Y,Kt=T+it,Xt=Pi(St*St+jt*jt+Kt*Kt),ve=co(Kt/=Xt),se=fr(fr(Kt)-1)<rn||fr(y-F)<rn?(y+F)/2:Eo(jt,St),pe=r(se,ve),ie=pe[0],It=pe[1],Jt=ie-h,Se=It-g,Qt=At*Jt-lt*Se;(Qt*Qt/dt>o||fr((lt*Jt+At*Se)/dt-.5)>.3||x*N+b*Y+T*it<MM)&&(c(h,g,y,x,b,T,ie,It,se,St/=Xt,jt/=Xt,Kt,rt,at),at.point(ie,It),c(ie,It,se,St,jt,Kt,A,I,F,N,Y,it,rt,at))}}return function(h){var g,y,x,b,T,A,I,F,N,Y,it,rt,at={point:lt,lineStart:At,lineEnd:St,polygonStart:function(){h.polygonStart(),at.lineStart=jt},polygonEnd:function(){h.polygonEnd(),at.lineStart=At}};function lt(ve,se){ve=r(ve,se),h.point(ve[0],ve[1])}function At(){F=NaN,at.point=dt,h.lineStart()}function dt(ve,se){var pe=oc([ve,se]),ie=r(ve,se);c(F,N,I,Y,it,rt,F=ie[0],N=ie[1],I=ve,Y=pe[0],it=pe[1],rt=pe[2],ww,h),h.point(F,N)}function St(){at.point=lt,h.lineEnd()}function jt(){At(),at.point=Kt,at.lineEnd=Xt}function Kt(ve,se){dt(g=ve,se),y=F,x=N,b=Y,T=it,A=rt,at.point=dt}function Xt(){c(F,N,I,Y,it,rt,y,x,g,b,T,A,ww,h),at.lineEnd=St,St()}return at}}(r,o):function CM(r){return _d({point:function(o,c){o=r(o,c),this.stream.point(o[0],o[1])}})}(r)}var bw=_d({point:function(r,o){this.stream.point(r*ln,o*ln)}});function EM(r,o,c,h,g){function y(x,b){return[o+r*(x*=h),c-r*(b*=g)]}return y.invert=function(x,b){return[(x-o)/r*h,(c-b)/r*g]},y}function $g(r,o,c,h,g,y){var x=Je(y),b=ze(y),T=x*r,A=b*r,I=x/r,F=b/r,N=(b*c-x*o)/r,Y=(b*o+x*c)/r;function it(rt,at){return[T*(rt*=h)-A*(at*=g)+o,c-A*rt-T*at]}return it.invert=function(rt,at){return[h*(I*rt-F*at+N),g*(Y-F*rt-I*at)]},it}function Zs(r){return Av(function(){return r})()}function Av(r){var o,I,lt,At,dt,Kt,Xt,ve,se,pe,c=150,h=480,g=250,y=0,x=0,b=0,T=0,A=0,F=0,N=1,Y=1,it=null,rt=bg,at=null,St=lc,jt=.5;function ie(Qt){return ve(Qt[0]*ln,Qt[1]*ln)}function It(Qt){return(Qt=ve.invert(Qt[0],Qt[1]))&&[Qt[0]*kr,Qt[1]*kr]}function Jt(){var Qt=$g(c,0,0,N,Y,F).apply(null,o(y,x)),ye=(F?$g:EM)(c,h-Qt[0],g-Qt[1],N,Y,F);return I=av(b,T,A),Xt=yg(o,ye),ve=yg(I,Xt),Kt=xw(Xt,jt),Se()}function Se(){return se=pe=null,ie}return ie.stream=function(Qt){return se&&pe===Qt?se:se=bw(function Sw(r){return _d({point:function(o,c){var h=r(o,c);return this.stream.point(h[0],h[1])}})}(I)(rt(Kt(St(pe=Qt)))))},ie.preclip=function(Qt){return arguments.length?(rt=Qt,it=void 0,Se()):rt},ie.postclip=function(Qt){return arguments.length?(St=Qt,at=lt=At=dt=null,Se()):St},ie.clipAngle=function(Qt){return arguments.length?(rt=+Qt?ew(it=Qt*ln):(it=null,bg),Se()):it*kr},ie.clipExtent=function(Qt){return arguments.length?(St=null==Qt?(at=lt=At=dt=null,lc):sd(at=+Qt[0][0],lt=+Qt[0][1],At=+Qt[1][0],dt=+Qt[1][1]),Se()):null==at?null:[[at,lt],[At,dt]]},ie.scale=function(Qt){return arguments.length?(c=+Qt,Jt()):c},ie.translate=function(Qt){return arguments.length?(h=+Qt[0],g=+Qt[1],Jt()):[h,g]},ie.center=function(Qt){return arguments.length?(y=Qt[0]%360*ln,x=Qt[1]%360*ln,Jt()):[y*kr,x*kr]},ie.rotate=function(Qt){return arguments.length?(b=Qt[0]%360*ln,T=Qt[1]%360*ln,A=Qt.length>2?Qt[2]%360*ln:0,Jt()):[b*kr,T*kr,A*kr]},ie.angle=function(Qt){return arguments.length?(F=Qt%360*ln,Jt()):F*kr},ie.reflectX=function(Qt){return arguments.length?(N=Qt?-1:1,Jt()):N<0},ie.reflectY=function(Qt){return arguments.length?(Y=Qt?-1:1,Jt()):Y<0},ie.precision=function(Qt){return arguments.length?(Kt=xw(Xt,jt=Qt*Qt),Se()):Pi(jt)},ie.fitExtent=function(Qt,ye){return Bg(ie,Qt,ye)},ie.fitSize=function(Qt,ye){return yw(ie,Qt,ye)},ie.fitWidth=function(Qt,ye){return Tv(ie,Qt,ye)},ie.fitHeight=function(Qt,ye){return Ev(ie,Qt,ye)},function(){return o=r.apply(this,arguments),ie.invert=o.invert&&It,Jt()}}function Dv(r){var o=0,c=Wn/3,h=Av(r),g=h(o,c);return g.parallels=function(y){return arguments.length?h(o=y[0]*ln,c=y[1]*ln):[o*kr,c*kr]},g}function Mw(r,o){var c=ze(r),h=(c+ze(o))/2;if(fr(h)<rn)return function AM(r){var o=Je(r);function c(h,g){return[h*o,ze(g)/o]}return c.invert=function(h,g){return[h/o,co(g*o)]},c}(r);var g=1+c*(2*h-c),y=Pi(g)/h;function x(b,T){var A=Pi(g-2*h*ze(T))/h;return[A*ze(b*=h),y-A*Je(b)]}return x.invert=function(b,T){var A=y-T,I=Eo(b,fr(A))*ys(A);return A*h<0&&(I-=Wn*ys(b)*ys(A)),[I/h,co((g-(b*b+A*A)*h*h)/(2*h))]},x}function zg(){return Dv(Mw).scale(155.424).center([0,33.6442])}function Cw(){return zg().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ew(){var r,o,h,y,b,T,c=Cw(),g=zg().rotate([154,0]).center([-2,58.5]).parallels([55,65]),x=zg().rotate([157,0]).center([-3,19.9]).parallels([8,18]),A={point:function(N,Y){T=[N,Y]}};function I(N){var Y=N[0],it=N[1];return T=null,h.point(Y,it),T||(y.point(Y,it),T)||(b.point(Y,it),T)}function F(){return r=o=null,I}return I.invert=function(N){var Y=c.scale(),it=c.translate(),rt=(N[0]-it[0])/Y,at=(N[1]-it[1])/Y;return(at>=.12&&at<.234&&rt>=-.425&&rt<-.214?g:at>=.166&&at<.234&&rt>=-.214&&rt<-.115?x:c).invert(N)},I.stream=function(N){return r&&o===N?r:r=function Tw(r){var o=r.length;return{point:function(c,h){for(var g=-1;++g<o;)r[g].point(c,h)},sphere:function(){for(var c=-1;++c<o;)r[c].sphere()},lineStart:function(){for(var c=-1;++c<o;)r[c].lineStart()},lineEnd:function(){for(var c=-1;++c<o;)r[c].lineEnd()},polygonStart:function(){for(var c=-1;++c<o;)r[c].polygonStart()},polygonEnd:function(){for(var c=-1;++c<o;)r[c].polygonEnd()}}}([c.stream(o=N),g.stream(N),x.stream(N)])},I.precision=function(N){return arguments.length?(c.precision(N),g.precision(N),x.precision(N),F()):c.precision()},I.scale=function(N){return arguments.length?(c.scale(N),g.scale(.35*N),x.scale(N),I.translate(c.translate())):c.scale()},I.translate=function(N){if(!arguments.length)return c.translate();var Y=c.scale(),it=+N[0],rt=+N[1];return h=c.translate(N).clipExtent([[it-.455*Y,rt-.238*Y],[it+.455*Y,rt+.238*Y]]).stream(A),y=g.translate([it-.307*Y,rt+.201*Y]).clipExtent([[it-.425*Y+rn,rt+.12*Y+rn],[it-.214*Y-rn,rt+.234*Y-rn]]).stream(A),b=x.translate([it-.205*Y,rt+.212*Y]).clipExtent([[it-.214*Y+rn,rt+.166*Y+rn],[it-.115*Y-rn,rt+.234*Y-rn]]).stream(A),F()},I.fitExtent=function(N,Y){return Bg(I,N,Y)},I.fitSize=function(N,Y){return yw(I,N,Y)},I.fitWidth=function(N,Y){return Tv(I,N,Y)},I.fitHeight=function(N,Y){return Ev(I,N,Y)},I.scale(1070)}function Aw(r){return function(o,c){var h=Je(o),g=Je(c),y=r(h*g);return[y*g*ze(o),y*ze(c)]}}function Gg(r){return function(o,c){var h=Pi(o*o+c*c),g=r(h),y=ze(g),x=Je(g);return[Eo(o*y,h*x),co(h&&c*y/h)]}}var Ug=Aw(function(r){return Pi(2/(1+r))});function AA(){return Zs(Ug).scale(124.75).clipAngle(179.999)}Ug.invert=Gg(function(r){return 2*co(r/2)});var Pf=Aw(function(r){return(r=Jm(r))&&r/ze(r)});function DM(){return Zs(Pf).scale(79.4188).clipAngle(179.999)}function yd(r,o){return[r,nd(ng((gi+o)/2))]}function Pv(){return Dw(yd).scale(961/To)}function Dw(r){var b,T,A,o=Zs(r),c=o.center,h=o.scale,g=o.translate,y=o.clipExtent,x=null;function I(){var F=Wn*h(),N=o(uv(o.rotate()).invert([0,0]));return y(null==x?[[N[0]-F,N[1]-F],[N[0]+F,N[1]+F]]:r===yd?[[Math.max(N[0]-F,x),b],[Math.min(N[0]+F,T),A]]:[[x,Math.max(N[1]-F,b)],[T,Math.min(N[1]+F,A)]])}return o.scale=function(F){return arguments.length?(h(F),I()):h()},o.translate=function(F){return arguments.length?(g(F),I()):g()},o.center=function(F){return arguments.length?(c(F),I()):c()},o.clipExtent=function(F){return arguments.length?(null==F?x=b=T=A=null:(x=+F[0][0],b=+F[0][1],T=+F[1][0],A=+F[1][1]),I()):null==x?null:[[x,b],[T,A]]},I()}function Ia(r){return ng((gi+r)/2)}function If(r,o){var c=Je(r),h=r===o?ze(r):nd(c/Je(o))/nd(Ia(o)/Ia(r)),g=c*eg(Ia(r),h)/h;if(!h)return yd;function y(x,b){g>0?b<-gi+rn&&(b=-gi+rn):b>gi-rn&&(b=gi-rn);var T=g/eg(Ia(b),h);return[T*ze(h*x),g-T*Je(h*x)]}return y.invert=function(x,b){var T=g-b,A=ys(h)*Pi(x*x+T*T),I=Eo(x,fr(T))*ys(T);return T*h<0&&(I-=Wn*ys(x)*ys(T)),[I/h,2*ff(eg(g/A,1/h))-gi]},y}function Do(){return Dv(If).scale(109.5).parallels([30,30])}function Ms(r,o){return[r,o]}function jg(){return Zs(Ms).scale(152.63)}function La(r,o){var c=Je(r),h=r===o?ze(r):(c-Je(o))/(o-r),g=c/h+r;if(fr(h)<rn)return Ms;function y(x,b){var T=g-b,A=h*x;return[T*ze(A),g-T*Je(A)]}return y.invert=function(x,b){var T=g-b,A=Eo(x,fr(T))*ys(T);return T*h<0&&(A-=Wn*ys(x)*ys(T)),[A/h,g-ys(h)*Pi(x*x+T*T)]},y}function Iv(){return Dv(La).scale(131.154).center([0,13.9389])}Pf.invert=Gg(function(r){return r}),yd.invert=function(r,o){return[r,2*ff(hf(o))-gi]},Ms.invert=Ms;var Qs=1.340264,Ks=-.081106,Js=893e-6,tu=.003796,Pu=Pi(3)/2;function _l(r,o){var c=co(Pu*ze(o)),h=c*c,g=h*h*h;return[r*Je(c)/(Pu*(Qs+3*Ks*h+g*(7*Js+9*tu*h))),c*(Qs+Ks*h+g*(Js+tu*h))]}function Rf(){return Zs(_l).scale(177.158)}function yl(r,o){var c=Je(o),h=Je(r)*c;return[c*ze(r)/h,ze(o)/h]}function Pw(){return Zs(yl).scale(144.049).clipAngle(60)}function Iw(){var x,b,A,I,F,at,lt,r=1,o=0,c=0,h=1,g=1,y=0,T=null,N=1,Y=1,it=_d({point:function(St,jt){var Kt=dt([St,jt]);this.stream.point(Kt[0],Kt[1])}}),rt=lc;function At(){return N=r*h,Y=r*g,at=lt=null,dt}function dt(St){var jt=St[0]*N,Kt=St[1]*Y;if(y){var Xt=Kt*x-jt*b;jt=jt*x+Kt*b,Kt=Xt}return[jt+o,Kt+c]}return dt.invert=function(St){var jt=St[0]-o,Kt=St[1]-c;if(y){var Xt=Kt*x+jt*b;jt=jt*x-Kt*b,Kt=Xt}return[jt/N,Kt/Y]},dt.stream=function(St){return at&&lt===St?at:at=it(rt(lt=St))},dt.postclip=function(St){return arguments.length?(rt=St,T=A=I=F=null,At()):rt},dt.clipExtent=function(St){return arguments.length?(rt=null==St?(T=A=I=F=null,lc):sd(T=+St[0][0],A=+St[0][1],I=+St[1][0],F=+St[1][1]),At()):null==T?null:[[T,A],[I,F]]},dt.scale=function(St){return arguments.length?(r=+St,At()):r},dt.translate=function(St){return arguments.length?(o=+St[0],c=+St[1],At()):[o,c]},dt.angle=function(St){return arguments.length?(b=ze(y=St%360*ln),x=Je(y),At()):y*kr},dt.reflectX=function(St){return arguments.length?(h=St?-1:1,At()):h<0},dt.reflectY=function(St){return arguments.length?(g=St?-1:1,At()):g<0},dt.fitExtent=function(St,jt){return Bg(dt,St,jt)},dt.fitSize=function(St,jt){return yw(dt,St,jt)},dt.fitWidth=function(St,jt){return Tv(dt,St,jt)},dt.fitHeight=function(St,jt){return Ev(dt,St,jt)},dt}function Hg(r,o){var c=o*o,h=c*c;return[r*(.8707-.131979*c+h*(h*(.003971*c-.001529*h)-.013791)),o*(1.007226+c*(.015085+h*(.028874*c-.044475-.005916*h)))]}function Lw(){return Zs(Hg).scale(175.295)}function Wg(r,o){return[Je(o)*ze(r),ze(o)]}function Rw(){return Zs(Wg).scale(249.5).clipAngle(90+rn)}function qg(r,o){var c=Je(o),h=1+Je(r)*c;return[c*ze(r)/h,ze(o)/h]}function Ow(){return Zs(qg).scale(250).clipAngle(142)}function Yg(r,o){return[nd(ng((gi+o)/2)),-r]}function PM(){var r=Dw(Yg),o=r.center,c=r.rotate;return r.center=function(h){return arguments.length?o([-h[1],h[0]]):[(h=o())[1],-h[0]]},r.rotate=function(h){return arguments.length?c([h[0],h[1],h.length>2?h[2]+90:90]):[(h=c())[0],h[1],h[2]-90]},c([0,0,90]).scale(159.155)}function IM(r,o){return r.parent===o.parent?1:2}function RM(r,o){return r+o.x}function Nw(r,o){return Math.max(r,o.y)}function wl(){var r=IM,o=1,c=1,h=!1;function g(y){var x,b=0;y.eachAfter(function(N){var Y=N.children;Y?(N.x=function LM(r){return r.reduce(RM,0)/r.length}(Y),N.y=function OM(r){return 1+r.reduce(Nw,0)}(Y)):(N.x=x?b+=r(N,x):0,N.y=0,x=N)});var T=function Lv(r){for(var o;o=r.children;)r=o[0];return r}(y),A=function NM(r){for(var o;o=r.children;)r=o[o.length-1];return r}(y),I=T.x-r(T,A)/2,F=A.x+r(A,T)/2;return y.eachAfter(h?function(N){N.x=(N.x-y.x)*o,N.y=(y.y-N.y)*c}:function(N){N.x=(N.x-I)/(F-I)*o,N.y=(1-(y.y?N.y/y.y:1))*c})}return g.separation=function(y){return arguments.length?(r=y,g):r},g.size=function(y){return arguments.length?(h=!1,o=+y[0],c=+y[1],g):h?null:[o,c]},g.nodeSize=function(y){return arguments.length?(h=!0,o=+y[0],c=+y[1],g):h?[o,c]:null},g}function Of(r){var o=0,c=r.children,h=c&&c.length;if(h)for(;--h>=0;)o+=c[h].value;else o=1;r.value=o}function Kg(r,o){var g,x,b,T,A,c=new Nf(r),h=+r.value&&(c.value=r.value),y=[c];for(null==o&&(o=zw);g=y.pop();)if(h&&(g.value=+g.data.value),(b=o(g.data))&&(A=b.length))for(g.children=new Array(A),T=A-1;T>=0;--T)y.push(x=g.children[T]=new Nf(b[T])),x.parent=g,x.depth=g.depth+1;return c.eachBefore(Gw)}function zw(r){return r.children}function BM(r){r.data=r.data.data}function Gw(r){var o=0;do{r.height=o}while((r=r.parent)&&r.height<++o)}function Nf(r){this.data=r,this.depth=this.height=0,this.parent=null}_l.invert=function(r,o){for(var x,c=o,h=c*c,g=h*h*h,y=0;y<12&&(g=(h=(c-=x=(c*(Qs+Ks*h+g*(Js+tu*h))-o)/(Qs+3*Ks*h+g*(7*Js+9*tu*h)))*c)*h*h,!(fr(x)<ai));++y);return[Pu*r*(Qs+3*Ks*h+g*(7*Js+9*tu*h))/Je(c),co(ze(c)/Pu)]},yl.invert=Gg(ff),Hg.invert=function(r,o){var g,c=o,h=25;do{var y=c*c,x=y*y;c-=g=(c*(1.007226+y*(.015085+x*(.028874*y-.044475-.005916*x)))-o)/(1.007226+y*(.045255+x*(.259866*y-.311325-.005916*11*x)))}while(fr(g)>rn&&--h>0);return[r/(.8707+(y=c*c)*(y*(y*y*y*(.003971-.001529*y)-.013791)-.131979)),c]},Wg.invert=Gg(co),qg.invert=Gg(function(r){return 2*ff(r)}),Yg.invert=function(r,o){return[-o,2*ff(hf(r))-gi]},Nf.prototype=Kg.prototype={constructor:Nf,count:function Xg(){return this.eachAfter(Of)},each:function kM(r){var c,g,y,x,o=this,h=[o];do{for(c=h.reverse(),h=[];o=c.pop();)if(r(o),g=o.children)for(y=0,x=g.length;y<x;++y)h.push(g[y])}while(h.length);return this},eachAfter:function Ov(r){for(var g,y,x,o=this,c=[o],h=[];o=c.pop();)if(h.push(o),g=o.children)for(y=0,x=g.length;y<x;++y)c.push(g[y]);for(;o=h.pop();)r(o);return this},eachBefore:function Rv(r){for(var h,g,o=this,c=[o];o=c.pop();)if(r(o),h=o.children)for(g=h.length-1;g>=0;--g)c.push(h[g]);return this},sum:function kw(r){return this.eachAfter(function(o){for(var c=+r(o.data)||0,h=o.children,g=h&&h.length;--g>=0;)c+=h[g].value;o.value=c})},sort:function FM(r){return this.eachBefore(function(o){o.children&&o.children.sort(r)})},path:function Zg(r){for(var o=this,c=function Fw(r,o){if(r===o)return r;var c=r.ancestors(),h=o.ancestors(),g=null;for(r=c.pop(),o=h.pop();r===o;)g=r,r=c.pop(),o=h.pop();return g}(o,r),h=[o];o!==c;)h.push(o=o.parent);for(var g=h.length;r!==c;)h.splice(g,0,r),r=r.parent;return h},ancestors:function Vw(){for(var r=this,o=[r];r=r.parent;)o.push(r);return o},descendants:function Qg(){var r=[];return this.each(function(o){r.push(o)}),r},leaves:function Bw(){var r=[];return this.eachBefore(function(o){o.children||r.push(o)}),r},links:function VM(){var r=this,o=[];return r.each(function(c){c!==r&&o.push({source:c.parent,target:c})}),o},copy:function $w(){return Kg(this).eachBefore(BM)}};var $M=Array.prototype.slice;function Jg(r){for(var g,y,o=0,c=(r=function Uw(r){for(var c,h,o=r.length;o;)h=Math.random()*o--|0,c=r[o],r[o]=r[h],r[h]=c;return r}($M.call(r))).length,h=[];o<c;)g=r[o],y&&Nv(y,g)?++o:(y=Hw(h=jw(h,g)),o=0);return y}function jw(r,o){var c,h;if(t0(o,r))return[o];for(c=0;c<r.length;++c)if(wd(o,r[c])&&t0(kf(r[c],o),r))return[r[c],o];for(c=0;c<r.length-1;++c)for(h=c+1;h<r.length;++h)if(wd(kf(r[c],r[h]),o)&&wd(kf(r[c],o),r[h])&&wd(kf(r[h],o),r[c])&&t0(kv(r[c],r[h],o),r))return[r[c],r[h],o];throw new Error}function wd(r,o){var c=r.r-o.r,h=o.x-r.x,g=o.y-r.y;return c<0||c*c<h*h+g*g}function Nv(r,o){var c=r.r-o.r+1e-6,h=o.x-r.x,g=o.y-r.y;return c>0&&c*c>h*h+g*g}function t0(r,o){for(var c=0;c<o.length;++c)if(!Nv(r,o[c]))return!1;return!0}function Hw(r){switch(r.length){case 1:return function Ww(r){return{x:r.x,y:r.y,r:r.r}}(r[0]);case 2:return kf(r[0],r[1]);case 3:return kv(r[0],r[1],r[2])}}function kf(r,o){var c=r.x,h=r.y,g=r.r,y=o.x,x=o.y,b=o.r,T=y-c,A=x-h,I=b-g,F=Math.sqrt(T*T+A*A);return{x:(c+y+T/F*I)/2,y:(h+x+A/F*I)/2,r:(F+g+b)/2}}function kv(r,o,c){var h=r.x,g=r.y,y=r.r,x=o.x,b=o.y,T=o.r,A=c.x,I=c.y,F=c.r,N=h-x,Y=h-A,it=g-b,rt=g-I,at=T-y,lt=F-y,At=h*h+g*g-y*y,dt=At-x*x-b*b+T*T,St=At-A*A-I*I+F*F,jt=Y*it-N*rt,Kt=(it*St-rt*dt)/(2*jt)-h,Xt=(rt*at-it*lt)/jt,ve=(Y*dt-N*St)/(2*jt)-g,se=(N*lt-Y*at)/jt,pe=Xt*Xt+se*se-1,ie=2*(y+Kt*Xt+ve*se),It=Kt*Kt+ve*ve-y*y,Jt=-(pe?(ie+Math.sqrt(ie*ie-4*pe*It))/(2*pe):It/ie);return{x:h+Kt+Xt*Jt,y:g+ve+se*Jt,r:Jt}}function xd(r,o,c){var g,y,b,T,h=r.x-o.x,x=r.y-o.y,A=h*h+x*x;A?(y=o.r+c.r,T=r.r+c.r,(y*=y)>(T*=T)?(g=(A+T-y)/(2*A),b=Math.sqrt(Math.max(0,T/A-g*g)),c.x=r.x-g*h-b*x,c.y=r.y-g*x+b*h):(g=(A+y-T)/(2*A),b=Math.sqrt(Math.max(0,y/A-g*g)),c.x=o.x+g*h-b*x,c.y=o.y+g*x+b*h)):(c.x=o.x+c.r,c.y=o.y)}function Iu(r,o){var c=r.r+o.r-1e-6,h=o.x-r.x,g=o.y-r.y;return c>0&&c*c>h*h+g*g}function qw(r){var o=r._,c=r.next._,h=o.r+c.r,g=(o.x*c.r+c.x*o.r)/h,y=(o.y*c.r+c.y*o.r)/h;return g*g+y*y}function e0(r){this._=r,this.next=null,this.previous=null}function n0(r){if(!(g=r.length))return 0;var o,c,h,g,y,x,b,T,A,I,F;if((o=r[0]).x=0,o.y=0,!(g>1))return o.r;if(o.x=-(c=r[1]).r,c.x=o.r,c.y=0,!(g>2))return o.r+c.r;xd(c,o,h=r[2]),o=new e0(o),c=new e0(c),h=new e0(h),o.next=h.previous=c,c.next=o.previous=h,h.next=c.previous=o;t:for(b=3;b<g;++b){xd(o._,c._,h=r[b]),h=new e0(h),T=c.next,A=o.previous,I=c._.r,F=o._.r;do{if(I<=F){if(Iu(T._,h._)){o.next=c=T,c.previous=o,--b;continue t}I+=T._.r,T=T.next}else{if(Iu(A._,h._)){(o=A).next=c,c.previous=o,--b;continue t}F+=A._.r,A=A.previous}}while(T!==A.next);for(h.previous=o,h.next=c,o.next=c.previous=c=h,y=qw(o);(h=h.next)!==c;)(x=qw(h))<y&&(o=h,y=x);c=o.next}for(o=[c._],h=c;(h=h.next)!==c;)o.push(h._);for(h=Jg(o),b=0;b<g;++b)(o=r[b]).x-=h.x,o.y-=h.y;return h.r}function fc(r){return n0(r),r}function r0(r){if("function"!=typeof r)throw new Error;return r}function Lu(){return 0}function bd(r){return function(){return r}}function DA(r){return Math.sqrt(r.value)}function zM(){var r=null,o=1,c=1,h=Lu;function g(y){return y.x=o/2,y.y=c/2,r?y.eachBefore(Yw(r)).eachAfter(o0(h,.5)).eachBefore(Xw(1)):y.eachBefore(Yw(DA)).eachAfter(o0(Lu,1)).eachAfter(o0(h,y.r/Math.min(o,c))).eachBefore(Xw(Math.min(o,c)/(2*y.r))),y}return g.radius=function(y){return arguments.length?(r=function Fv(r){return null==r?null:r0(r)}(y),g):r},g.size=function(y){return arguments.length?(o=+y[0],c=+y[1],g):[o,c]},g.padding=function(y){return arguments.length?(h="function"==typeof y?y:bd(+y),g):h},g}function Yw(r){return function(o){o.children||(o.r=Math.max(0,+r(o)||0))}}function o0(r,o){return function(c){if(h=c.children){var h,g,b,y=h.length,x=r(c)*o||0;if(x)for(g=0;g<y;++g)h[g].r+=x;if(b=n0(h),x)for(g=0;g<y;++g)h[g].r-=x;c.r=b+x}}}function Xw(r){return function(o){var c=o.parent;o.r*=r,c&&(o.x=c.x+r*o.x,o.y=c.y+r*o.y)}}function Ii(r){r.x0=Math.round(r.x0),r.y0=Math.round(r.y0),r.x1=Math.round(r.x1),r.y1=Math.round(r.y1)}function Ff(r,o,c,h,g){for(var x,y=r.children,b=-1,T=y.length,A=r.value&&(h-o)/r.value;++b<T;)(x=y[b]).y0=c,x.y1=g,x.x0=o,x.x1=o+=x.value*A}function GM(){var r=1,o=1,c=0,h=!1;function g(x){var b=x.height+1;return x.x0=x.y0=c,x.x1=r,x.y1=o/b,x.eachBefore(function y(x,b){return function(T){T.children&&Ff(T,T.x0,x*(T.depth+1)/b,T.x1,x*(T.depth+2)/b);var A=T.x0,I=T.y0,F=T.x1-c,N=T.y1-c;F<A&&(A=F=(A+F)/2),N<I&&(I=N=(I+N)/2),T.x0=A,T.y0=I,T.x1=F,T.y1=N}}(o,b)),h&&x.eachBefore(Ii),x}return g.round=function(x){return arguments.length?(h=!!x,g):h},g.size=function(x){return arguments.length?(r=+x[0],o=+x[1],g):[r,o]},g.padding=function(x){return arguments.length?(c=+x,g):c},g}var Zw="$",Qw={depth:-1},Kw={};function Jw(r){return r.id}function tx(r){return r.parentId}function Vf(){var r=Jw,o=tx;function c(h){var g,y,b,T,A,F,N,x=h.length,I=new Array(x),Y={};for(y=0;y<x;++y)A=I[y]=new Nf(g=h[y]),null!=(F=r(g,y,h))&&(F+="")&&(Y[N=Zw+(A.id=F)]=N in Y?Kw:A);for(y=0;y<x;++y)if(A=I[y],null!=(F=o(h[y],y,h))&&(F+="")){if(!(T=Y[Zw+F]))throw new Error("missing: "+F);if(T===Kw)throw new Error("ambiguous: "+F);T.children?T.children.push(A):T.children=[A],A.parent=T}else{if(b)throw new Error("multiple roots");b=A}if(!b)throw new Error("no root");if(b.parent=Qw,b.eachBefore(function(it){it.depth=it.parent.depth+1,--x}).eachBefore(Gw),b.parent=null,x>0)throw new Error("cycle");return b}return c.id=function(h){return arguments.length?(r=r0(h),c):r},c.parentId=function(h){return arguments.length?(o=r0(h),c):o},c}function UM(r,o){return r.parent===o.parent?1:2}function Vv(r){var o=r.children;return o?o[0]:r.t}function a0(r){var o=r.children;return o?o[o.length-1]:r.t}function jM(r,o,c){var h=c/(o.i-r.i);o.c-=h,o.s+=c,r.c+=h,o.z+=c,o.m+=c}function PA(r,o,c){return r.a.parent===o.parent?r.a:c}function Sd(r,o){this._=r,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=o}function eu(){var r=UM,o=1,c=1,h=null;function g(A){var I=function nx(r){for(var c,g,y,x,b,o=new Sd(r,0),h=[o];c=h.pop();)if(y=c._.children)for(c.children=new Array(b=y.length),x=b-1;x>=0;--x)h.push(g=c.children[x]=new Sd(y[x],x)),g.parent=c;return(o.parent=new Sd(null,0)).children=[o],o}(A);if(I.eachAfter(y),I.parent.m=-I.z,I.eachBefore(x),h)A.eachBefore(T);else{var F=A,N=A,Y=A;A.eachBefore(function(At){At.x<F.x&&(F=At),At.x>N.x&&(N=At),At.depth>Y.depth&&(Y=At)});var it=F===N?1:r(F,N)/2,rt=it-F.x,at=o/(N.x+it+rt),lt=c/(Y.depth||1);A.eachBefore(function(At){At.x=(At.x+rt)*at,At.y=At.depth*lt})}return A}function y(A){var I=A.children,F=A.parent.children,N=A.i?F[A.i-1]:null;if(I){!function ex(r){for(var y,o=0,c=0,h=r.children,g=h.length;--g>=0;)(y=h[g]).z+=o,y.m+=o,o+=y.s+(c+=y.c)}(A);var Y=(I[0].z+I[I.length-1].z)/2;N?(A.z=N.z+r(A._,N._),A.m=A.z-Y):A.z=Y}else N&&(A.z=N.z+r(A._,N._));A.parent.A=function b(A,I,F){if(I){for(var St,N=A,Y=A,it=I,rt=N.parent.children[0],at=N.m,lt=Y.m,At=it.m,dt=rt.m;it=a0(it),N=Vv(N),it&&N;)rt=Vv(rt),(Y=a0(Y)).a=A,(St=it.z+At-N.z-at+r(it._,N._))>0&&(jM(PA(it,A,F),A,St),at+=St,lt+=St),At+=it.m,at+=N.m,dt+=rt.m,lt+=Y.m;it&&!a0(Y)&&(Y.t=it,Y.m+=At-lt),N&&!Vv(rt)&&(rt.t=N,rt.m+=at-dt,F=A)}return F}(A,N,A.parent.A||F[0])}function x(A){A._.x=A.z+A.parent.m,A.m+=A.parent.m}function T(A){A.x*=o,A.y=A.depth*c}return g.separation=function(A){return arguments.length?(r=A,g):r},g.size=function(A){return arguments.length?(h=!1,o=+A[0],c=+A[1],g):h?null:[o,c]},g.nodeSize=function(A){return arguments.length?(h=!0,o=+A[0],c=+A[1],g):h?[o,c]:null},g}function s0(r,o,c,h,g){for(var x,y=r.children,b=-1,T=y.length,A=r.value&&(g-c)/r.value;++b<T;)(x=y[b]).x0=o,x.x1=h,x.y0=c,x.y1=c+=x.value*A}Sd.prototype=Object.create(Nf.prototype);var rx=(1+Math.sqrt(5))/2;function Cs(r,o,c,h,g,y){for(var T,A,Y,it,at,lt,At,dt,St,jt,Kt,x=[],b=o.children,I=0,F=0,N=b.length,rt=o.value;I<N;){Y=g-c,it=y-h;do{at=b[F++].value}while(!at&&F<N);for(lt=At=at,Kt=at*at*(jt=Math.max(it/Y,Y/it)/(rt*r)),St=Math.max(At/Kt,Kt/lt);F<N;++F){if(at+=A=b[F].value,A<lt&&(lt=A),A>At&&(At=A),Kt=at*at*jt,(dt=Math.max(At/Kt,Kt/lt))>St){at-=A;break}St=dt}x.push(T={value:at,dice:Y<it,children:b.slice(I,F)}),T.dice?Ff(T,c,h,g,rt?h+=it*at/rt:y):s0(T,c,h,rt?c+=Y*at/rt:g,y),rt-=at,I=F}return x}const es=function r(o){function c(h,g,y,x,b){Cs(o,h,g,y,x,b)}return c.ratio=function(h){return r((h=+h)>1?h:1)},c}(rx);function Ts(){var r=es,o=!1,c=1,h=1,g=[0],y=Lu,x=Lu,b=Lu,T=Lu,A=Lu;function I(N){return N.x0=N.y0=0,N.x1=c,N.y1=h,N.eachBefore(F),g=[0],o&&N.eachBefore(Ii),N}function F(N){var Y=g[N.depth],it=N.x0+Y,rt=N.y0+Y,at=N.x1-Y,lt=N.y1-Y;at<it&&(it=at=(it+at)/2),lt<rt&&(rt=lt=(rt+lt)/2),N.x0=it,N.y0=rt,N.x1=at,N.y1=lt,N.children&&(Y=g[N.depth+1]=y(N)/2,it+=A(N)-Y,rt+=x(N)-Y,(at-=b(N)-Y)<it&&(it=at=(it+at)/2),(lt-=T(N)-Y)<rt&&(rt=lt=(rt+lt)/2),r(N,it,rt,at,lt))}return I.round=function(N){return arguments.length?(o=!!N,I):o},I.size=function(N){return arguments.length?(c=+N[0],h=+N[1],I):[c,h]},I.tile=function(N){return arguments.length?(r=r0(N),I):r},I.padding=function(N){return arguments.length?I.paddingInner(N).paddingOuter(N):I.paddingInner()},I.paddingInner=function(N){return arguments.length?(y="function"==typeof N?N:bd(+N),I):y},I.paddingOuter=function(N){return arguments.length?I.paddingTop(N).paddingRight(N).paddingBottom(N).paddingLeft(N):I.paddingTop()},I.paddingTop=function(N){return arguments.length?(x="function"==typeof N?N:bd(+N),I):x},I.paddingRight=function(N){return arguments.length?(b="function"==typeof N?N:bd(+N),I):b},I.paddingBottom=function(N){return arguments.length?(T="function"==typeof N?N:bd(+N),I):T},I.paddingLeft=function(N){return arguments.length?(A="function"==typeof N?N:bd(+N),I):A},I}function ix(r,o,c,h,g){var x,T,y=r.children,b=y.length,A=new Array(b+1);for(A[0]=T=x=0;x<b;++x)A[x+1]=T+=y[x].value;!function I(F,N,Y,it,rt,at,lt){if(F>=N-1){var At=y[F];return At.x0=it,At.y0=rt,At.x1=at,void(At.y1=lt)}for(var dt=A[F],St=Y/2+dt,jt=F+1,Kt=N-1;jt<Kt;){var Xt=jt+Kt>>>1;A[Xt]<St?jt=Xt+1:Kt=Xt}St-A[jt-1]<A[jt]-St&&F+1<jt&&--jt;var ve=A[jt]-dt,se=Y-ve;if(at-it>lt-rt){var pe=(it*se+at*ve)/Y;I(F,jt,ve,it,rt,pe,lt),I(jt,N,se,pe,rt,at,lt)}else{var ie=(rt*se+lt*ve)/Y;I(F,jt,ve,it,rt,at,ie),I(jt,N,se,it,ie,at,lt)}}(0,b,r.value,o,c,h,g)}function ox(r,o,c,h,g){(1&r.depth?s0:Ff)(r,o,c,h,g)}const HM=function r(o){function c(h,g,y,x,b){if((T=h._squarify)&&T.ratio===o)for(var T,A,I,F,Y,N=-1,it=T.length,rt=h.value;++N<it;){for(I=(A=T[N]).children,F=A.value=0,Y=I.length;F<Y;++F)A.value+=I[F].value;A.dice?Ff(A,g,y,x,y+=(b-y)*A.value/rt):s0(A,g,y,g+=(x-g)*A.value/rt,b),rt-=A.value}else h._squarify=T=Cs(o,h,g,y,x,b),T.ratio=o}return c.ratio=function(h){return r((h=+h)>1?h:1)},c}(rx);function WM(r){var o=r.length;return function(c){return r[Math.max(0,Math.min(o-1,Math.floor(c*o)))]}}function qM(r,o){var c=Ba(+r,+o);return function(h){var g=c(h);return g-360*Math.floor(g/360)}}function ax(r,o){return r=+r,o=+o,function(c){return Math.round(r*(1-c)+o*c)}}var hc=Math.SQRT2,dc=2,sx=4,ux=1e-12;function lx(r){return((r=Math.exp(r))+1/r)/2}function Bv(r,o){var F,N,c=r[0],h=r[1],g=r[2],b=o[2],T=o[0]-c,A=o[1]-h,I=T*T+A*A;if(I<ux)N=Math.log(b/g)/hc,F=function(At){return[c+At*T,h+At*A,g*Math.exp(hc*At*N)]};else{var Y=Math.sqrt(I),it=(b*b-g*g+sx*I)/(2*g*dc*Y),rt=(b*b-g*g-sx*I)/(2*b*dc*Y),at=Math.log(Math.sqrt(it*it+1)-it),lt=Math.log(Math.sqrt(rt*rt+1)-rt);N=(lt-at)/hc,F=function(At){var dt=At*N,St=lx(at),jt=g/(dc*Y)*(St*function cx(r){return((r=Math.exp(2*r))-1)/(r+1)}(hc*dt+at)-function YM(r){return((r=Math.exp(r))-1/r)/2}(at));return[c+jt*T,h+jt*A,g*St/lx(hc*dt+at)]}}return F.duration=1e3*N,F}function Md(r){return function(o,c){var h=r((o=gu(o)).h,(c=gu(c)).h),g=er(o.s,c.s),y=er(o.l,c.l),x=er(o.opacity,c.opacity);return function(b){return o.h=h(b),o.s=g(b),o.l=y(b),o.opacity=x(b),o+""}}}const XM=Md(Ba);var fx=Md(er);function u0(r,o){var c=er((r=Dp(r)).l,(o=Dp(o)).l),h=er(r.a,o.a),g=er(r.b,o.b),y=er(r.opacity,o.opacity);return function(x){return r.l=c(x),r.a=h(x),r.b=g(x),r.opacity=y(x),r+""}}function $v(r){return function(o,c){var h=r((o=Ip(o)).h,(c=Ip(c)).h),g=er(o.c,c.c),y=er(o.l,c.l),x=er(o.opacity,c.opacity);return function(b){return o.h=h(b),o.c=g(b),o.l=y(b),o.opacity=x(b),o+""}}}const zv=$v(Ba);var hx=$v(er);function Gv(r){return function o(c){function h(g,y){var x=r((g=_s(g)).h,(y=_s(y)).h),b=er(g.s,y.s),T=er(g.l,y.l),A=er(g.opacity,y.opacity);return function(I){return g.h=x(I),g.s=b(I),g.l=T(Math.pow(I,c)),g.opacity=A(I),g+""}}return c=+c,h.gamma=o,h}(1)}const dx=Gv(Ba);var Cd=Gv(er);function px(r,o){for(var c=0,h=o.length-1,g=o[0],y=new Array(h<0?0:h);c<h;)y[c]=r(g,g=o[++c]);return function(x){var b=Math.max(0,Math.min(h-1,Math.floor(x*=h)));return y[b](x-b)}}function gx(r,o){for(var c=new Array(o),h=0;h<o;++h)c[h]=r(h/(o-1));return c}function mx(r){for(var h,o=-1,c=r.length,g=r[c-1],y=0;++o<c;)y+=(h=g)[1]*(g=r[o])[0]-h[0]*g[1];return y/2}function vx(r){for(var y,b,o=-1,c=r.length,h=0,g=0,x=r[c-1],T=0;++o<c;)T+=b=(y=x)[0]*(x=r[o])[1]-x[0]*y[1],h+=(y[0]+x[0])*b,g+=(y[1]+x[1])*b;return[h/(T*=3),g/T]}function ZM(r,o,c){return(o[0]-r[0])*(c[1]-r[1])-(o[1]-r[1])*(c[0]-r[0])}function QM(r,o){return r[0]-o[0]||r[1]-o[1]}function _x(r){for(var o=r.length,c=[0,1],h=2,g=2;g<o;++g){for(;h>1&&ZM(r[c[h-2]],r[c[h-1]],r[g])<=0;)--h;c[h++]=g}return c.slice(0,h)}function KM(r){if((c=r.length)<3)return null;var o,c,h=new Array(c),g=new Array(c);for(o=0;o<c;++o)h[o]=[+r[o][0],+r[o][1],o];for(h.sort(QM),o=0;o<c;++o)g[o]=[h[o][0],-h[o][1]];var y=_x(h),x=_x(g),b=x[0]===y[0],T=x[x.length-1]===y[y.length-1],A=[];for(o=y.length-1;o>=0;--o)A.push(r[h[y[o]][2]]);for(o=+b;o<x.length-T;++o)A.push(r[h[x[o]][2]]);return A}function JM(r,o){for(var T,A,c=r.length,h=r[c-1],g=o[0],y=o[1],x=h[0],b=h[1],I=!1,F=0;F<c;++F)T=(h=r[F])[0],(A=h[1])>y!=b>y&&g<(x-T)*(y-A)/(b-A)+T&&(I=!I),x=T,b=A;return I}function tC(r){for(var g,y,o=-1,c=r.length,h=r[c-1],x=h[0],b=h[1],T=0;++o<c;)g=x,y=b,g-=x=(h=r[o])[0],y-=b=h[1],T+=Math.sqrt(g*g+y*y);return T}function Bf(){return Math.random()}const eC=function r(o){function c(h,g){return h=null==h?0:+h,g=null==g?1:+g,1===arguments.length?(g=h,h=0):g-=h,function(){return o()*g+h}}return c.source=r,c}(Bf),yx=function r(o){function c(h,g){var y,x;return h=null==h?0:+h,g=null==g?1:+g,function(){var b;if(null!=y)b=y,y=null;else do{y=2*o()-1,b=2*o()-1,x=y*y+b*b}while(!x||x>1);return h+g*b*Math.sqrt(-2*Math.log(x)/x)}}return c.source=r,c}(Bf),nC=function r(o){function c(){var h=yx.source(o).apply(this,arguments);return function(){return Math.exp(h())}}return c.source=r,c}(Bf),wx=function r(o){function c(h){return function(){for(var g=0,y=0;y<h;++y)g+=o();return g}}return c.source=r,c}(Bf),rC=function r(o){function c(h){var g=wx.source(o)(h);return function(){return g()/h}}return c.source=r,c}(Bf),iC=function r(o){function c(h){return function(){return-Math.log(1-o())/h}}return c.source=r,c}(Bf);function Es(r,o){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(o).domain(r)}return this}function Ru(r,o){switch(arguments.length){case 0:break;case 1:this.interpolator(r);break;default:this.interpolator(o).domain(r)}return this}var xx=Array.prototype,l0=xx.map,pc=xx.slice,c0={name:"implicit"};function f0(){var r=ll(),o=[],c=[],h=c0;function g(y){var x=y+"",b=r.get(x);if(!b){if(h!==c0)return h;r.set(x,b=o.push(y))}return c[(b-1)%c.length]}return g.domain=function(y){if(!arguments.length)return o.slice();o=[],r=ll();for(var T,A,x=-1,b=y.length;++x<b;)r.has(A=(T=y[x])+"")||r.set(A,o.push(T));return g},g.range=function(y){return arguments.length?(c=pc.call(y),g):c.slice()},g.unknown=function(y){return arguments.length?(h=y,g):h},g.copy=function(){return f0(o,c).unknown(h)},Es.apply(g,arguments),g}function h0(){var g,y,r=f0().unknown(void 0),o=r.domain,c=r.range,h=[0,1],x=!1,b=0,T=0,A=.5;function I(){var F=o().length,N=h[1]<h[0],Y=h[N-0],it=h[1-N];g=(it-Y)/Math.max(1,F-b+2*T),x&&(g=Math.floor(g)),Y+=(it-Y-g*(F-b))*A,y=g*(1-b),x&&(Y=Math.round(Y),y=Math.round(y));var rt=_(F).map(function(at){return Y+g*at});return c(N?rt.reverse():rt)}return delete r.unknown,r.domain=function(F){return arguments.length?(o(F),I()):o()},r.range=function(F){return arguments.length?(h=[+F[0],+F[1]],I()):h.slice()},r.rangeRound=function(F){return h=[+F[0],+F[1]],x=!0,I()},r.bandwidth=function(){return y},r.step=function(){return g},r.round=function(F){return arguments.length?(x=!!F,I()):x},r.padding=function(F){return arguments.length?(b=Math.min(1,T=+F),I()):b},r.paddingInner=function(F){return arguments.length?(b=Math.min(1,F),I()):b},r.paddingOuter=function(F){return arguments.length?(T=+F,I()):T},r.align=function(F){return arguments.length?(A=Math.max(0,Math.min(1,F)),I()):A},r.copy=function(){return h0(o(),h).round(x).paddingInner(b).paddingOuter(T).align(A)},Es.apply(I(),arguments)}function Uv(r){var o=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return Uv(o())},r}function bx(){return Uv(h0.apply(null,arguments).paddingInner(1))}function d0(r){return+r}var jv=[0,1];function Ki(r){return r}function p0(r,o){return(o-=r=+r)?function(c){return(c-r)/o}:function Sx(r){return function(){return r}}(isNaN(o)?NaN:.5)}function Hv(r){var h,o=r[0],c=r[r.length-1];return o>c&&(h=o,o=c,c=h),function(g){return Math.max(o,Math.min(c,g))}}function gc(r,o,c){var h=r[0],g=r[1],y=o[0],x=o[1];return g<h?(h=p0(g,h),y=c(x,y)):(h=p0(h,g),y=c(y,x)),function(b){return y(h(b))}}function oC(r,o,c){var h=Math.min(r.length,o.length)-1,g=new Array(h),y=new Array(h),x=-1;for(r[h]<r[0]&&(r=r.slice().reverse(),o=o.slice().reverse());++x<h;)g[x]=p0(r[x],r[x+1]),y[x]=c(o[x],o[x+1]);return function(b){var T=bt(r,b,1,h)-1;return y[T](g[T](b))}}function Td(r,o){return o.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function Ou(){var h,g,y,b,T,A,r=jv,o=jv,c=ao,x=Ki;function I(){return b=Math.min(r.length,o.length)>2?oC:gc,T=A=null,F}function F(N){return isNaN(N=+N)?y:(T||(T=b(r.map(h),o,c)))(h(x(N)))}return F.invert=function(N){return x(g((A||(A=b(o,r.map(h),Nr)))(N)))},F.domain=function(N){return arguments.length?(r=l0.call(N,d0),x===Ki||(x=Hv(r)),I()):r.slice()},F.range=function(N){return arguments.length?(o=pc.call(N),I()):o.slice()},F.rangeRound=function(N){return o=pc.call(N),c=ax,I()},F.clamp=function(N){return arguments.length?(x=N?Hv(r):Ki,F):x!==Ki},F.interpolate=function(N){return arguments.length?(c=N,I()):c},F.unknown=function(N){return arguments.length?(y=N,F):y},function(N,Y){return h=N,g=Y,I()}}function aC(r,o){return Ou()(r,o)}function Po(r,o,c,h){var y,g=ot(r,o,c);switch((h=ec(h??",f")).type){case"s":var x=Math.max(Math.abs(r),Math.abs(o));return null==h.precision&&!isNaN(y=F1(g,x))&&(h.precision=y),Kp(h,x);case"":case"e":case"g":case"p":case"r":null==h.precision&&!isNaN(y=V1(g,Math.max(Math.abs(r),Math.abs(o))))&&(h.precision=y-("e"===h.type));break;case"f":case"%":null==h.precision&&!isNaN(y=k1(g))&&(h.precision=y-2*("%"===h.type))}return Zm(h)}function $f(r){var o=r.domain;return r.ticks=function(c){var h=o();return W(h[0],h[h.length-1],c??10)},r.tickFormat=function(c,h){var g=o();return Po(g[0],g[g.length-1],c??10,h)},r.nice=function(c){null==c&&(c=10);var T,h=o(),g=0,y=h.length-1,x=h[g],b=h[y];return b<x&&(T=x,x=b,b=T,T=g,g=y,y=T),(T=ut(x,b,c))>0?T=ut(x=Math.floor(x/T)*T,b=Math.ceil(b/T)*T,c):T<0&&(T=ut(x=Math.ceil(x*T)/T,b=Math.floor(b*T)/T,c)),T>0?(h[g]=Math.floor(x/T)*T,h[y]=Math.ceil(b/T)*T,o(h)):T<0&&(h[g]=Math.ceil(x*T)/T,h[y]=Math.floor(b*T)/T,o(h)),r},r}function Wv(){var r=aC(Ki,Ki);return r.copy=function(){return Td(r,Wv())},Es.apply(r,arguments),$f(r)}function qv(r){var o;function c(h){return isNaN(h=+h)?o:h}return c.invert=c,c.domain=c.range=function(h){return arguments.length?(r=l0.call(h,d0),c):r.slice()},c.unknown=function(h){return arguments.length?(o=h,c):o},c.copy=function(){return qv(r).unknown(o)},r=arguments.length?l0.call(r,d0):[0,1],$f(c)}function sC(r,o){var x,c=0,h=(r=r.slice()).length-1,g=r[c],y=r[h];return y<g&&(x=c,c=h,h=x,x=g,g=y,y=x),r[c]=o.floor(g),r[h]=o.ceil(y),r}function Ve(r){return Math.log(r)}function Mx(r){return Math.exp(r)}function uC(r){return-Math.log(-r)}function lC(r){return-Math.exp(-r)}function zf(r){return isFinite(r)?+("1e"+r):r<0?0:r}function Ed(r){return function(o){return-r(-o)}}function Kr(r){var g,y,o=r(Ve,Mx),c=o.domain,h=10;function x(){return g=function g0(r){return r===Math.E?Math.log:10===r&&Math.log10||2===r&&Math.log2||(r=Math.log(r),function(o){return Math.log(o)/r})}(h),y=function cC(r){return 10===r?zf:r===Math.E?Math.exp:function(o){return Math.pow(r,o)}}(h),c()[0]<0?(g=Ed(g),y=Ed(y),r(uC,lC)):r(Ve,Mx),o}return o.base=function(b){return arguments.length?(h=+b,x()):h},o.domain=function(b){return arguments.length?(c(b),x()):c()},o.ticks=function(b){var F,T=c(),A=T[0],I=T[T.length-1];(F=I<A)&&(N=A,A=I,I=N);var it,rt,at,N=g(A),Y=g(I),lt=null==b?10:+b,At=[];if(!(h%1)&&Y-N<lt){if(N=Math.round(N)-1,Y=Math.round(Y)+1,A>0){for(;N<Y;++N)for(rt=1,it=y(N);rt<h;++rt)if(!((at=it*rt)<A)){if(at>I)break;At.push(at)}}else for(;N<Y;++N)for(rt=h-1,it=y(N);rt>=1;--rt)if(!((at=it*rt)<A)){if(at>I)break;At.push(at)}}else At=W(N,Y,Math.min(Y-N,lt)).map(y);return F?At.reverse():At},o.tickFormat=function(b,T){if(null==T&&(T=10===h?".0e":","),"function"!=typeof T&&(T=Zm(T)),b===1/0)return T;null==b&&(b=10);var A=Math.max(1,h*b/o.ticks().length);return function(I){var F=I/y(Math.round(g(I)));return F*h<h-.5&&(F*=h),F<=A?T(I):""}},o.nice=function(){return c(sC(c(),{floor:function(b){return y(Math.floor(g(b)))},ceil:function(b){return y(Math.ceil(g(b)))}}))},o}function fC(){var r=Kr(Ou()).domain([1,10]);return r.copy=function(){return Td(r,fC()).base(r.base())},Es.apply(r,arguments),r}function Yv(r){return function(o){return Math.sign(o)*Math.log1p(Math.abs(o/r))}}function Xv(r){return function(o){return Math.sign(o)*Math.expm1(Math.abs(o))*r}}function Zv(r){var o=1,c=r(Yv(o),Xv(o));return c.constant=function(h){return arguments.length?r(Yv(o=+h),Xv(o)):o},$f(c)}function Qv(){var r=Zv(Ou());return r.copy=function(){return Td(r,Qv()).constant(r.constant())},Es.apply(r,arguments)}function Kv(r){return function(o){return o<0?-Math.pow(-o,r):Math.pow(o,r)}}function Cx(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function Tx(r){return r<0?-r*r:r*r}function Jv(r){var o=r(Ki,Ki),c=1;return o.exponent=function(g){return arguments.length?(c=+g,function h(){return 1===c?r(Ki,Ki):.5===c?r(Cx,Tx):r(Kv(c),Kv(1/c))}()):c},$f(o)}function t_(){var r=Jv(Ou());return r.copy=function(){return Td(r,t_()).exponent(r.exponent())},Es.apply(r,arguments),r}function hC(){return t_.apply(null,arguments).exponent(.5)}function Gf(){var h,r=[],o=[],c=[];function g(){var x=0,b=Math.max(1,o.length);for(c=new Array(b-1);++x<b;)c[x-1]=Ht(r,x/b);return y}function y(x){return isNaN(x=+x)?h:o[bt(c,x)]}return y.invertExtent=function(x){var b=o.indexOf(x);return b<0?[NaN,NaN]:[b>0?c[b-1]:r[0],b<c.length?c[b]:r[r.length-1]]},y.domain=function(x){if(!arguments.length)return r.slice();r=[];for(var A,b=0,T=x.length;b<T;++b)null!=(A=x[b])&&!isNaN(A=+A)&&r.push(A);return r.sort(K),g()},y.range=function(x){return arguments.length?(o=pc.call(x),g()):o.slice()},y.unknown=function(x){return arguments.length?(h=x,y):h},y.quantiles=function(){return c.slice()},y.copy=function(){return Gf().domain(r).range(o).unknown(h)},Es.apply(y,arguments)}function Ex(){var y,r=0,o=1,c=1,h=[.5],g=[0,1];function x(T){return T<=T?g[bt(h,T,0,c)]:y}function b(){var T=-1;for(h=new Array(c);++T<c;)h[T]=((T+1)*o-(T-c)*r)/(c+1);return x}return x.domain=function(T){return arguments.length?(r=+T[0],o=+T[1],b()):[r,o]},x.range=function(T){return arguments.length?(c=(g=pc.call(T)).length-1,b()):g.slice()},x.invertExtent=function(T){var A=g.indexOf(T);return A<0?[NaN,NaN]:A<1?[r,h[0]]:A>=c?[h[c-1],o]:[h[A-1],h[A]]},x.unknown=function(T){return arguments.length&&(y=T),x},x.thresholds=function(){return h.slice()},x.copy=function(){return Ex().domain([r,o]).range(g).unknown(y)},Es.apply($f(x),arguments)}function Ax(){var c,r=[.5],o=[0,1],h=1;function g(y){return y<=y?o[bt(r,y,0,h)]:c}return g.domain=function(y){return arguments.length?(r=pc.call(y),h=Math.min(r.length,o.length-1),g):r.slice()},g.range=function(y){return arguments.length?(o=pc.call(y),h=Math.min(r.length,o.length-1),g):o.slice()},g.invertExtent=function(y){var x=o.indexOf(y);return[r[x-1],r[x]]},g.unknown=function(y){return arguments.length?(c=y,g):c},g.copy=function(){return Ax().domain(r).range(o).unknown(c)},Es.apply(g,arguments)}var e_=new Date,Uf=new Date;function Li(r,o,c,h){function g(y){return r(y=0===arguments.length?new Date:new Date(+y)),y}return g.floor=function(y){return r(y=new Date(+y)),y},g.ceil=function(y){return r(y=new Date(y-1)),o(y,1),r(y),y},g.round=function(y){var x=g(y),b=g.ceil(y);return y-x<b-y?x:b},g.offset=function(y,x){return o(y=new Date(+y),null==x?1:Math.floor(x)),y},g.range=function(y,x,b){var A,T=[];if(y=g.ceil(y),b=null==b?1:Math.floor(b),!(y<x&&b>0))return T;do{T.push(A=new Date(+y)),o(y,b),r(y)}while(A<y&&y<x);return T},g.filter=function(y){return Li(function(x){if(x>=x)for(;r(x),!y(x);)x.setTime(x-1)},function(x,b){if(x>=x)if(b<0)for(;++b<=0;)for(;o(x,-1),!y(x););else for(;--b>=0;)for(;o(x,1),!y(x););})},c&&(g.count=function(y,x){return e_.setTime(+y),Uf.setTime(+x),r(e_),r(Uf),Math.floor(c(e_,Uf))},g.every=function(y){return y=Math.floor(y),isFinite(y)&&y>0?y>1?g.filter(h?function(x){return h(x)%y==0}:function(x){return g.count(0,x)%y==0}):g:null}),g}var m0=Li(function(r){r.setMonth(0,1),r.setHours(0,0,0,0)},function(r,o){r.setFullYear(r.getFullYear()+o)},function(r,o){return o.getFullYear()-r.getFullYear()},function(r){return r.getFullYear()});m0.every=function(r){return isFinite(r=Math.floor(r))&&r>0?Li(function(o){o.setFullYear(Math.floor(o.getFullYear()/r)*r),o.setMonth(0,1),o.setHours(0,0,0,0)},function(o,c){o.setFullYear(o.getFullYear()+c*r)}):null};const xl=m0;var dC=m0.range,jf=Li(function(r){r.setDate(1),r.setHours(0,0,0,0)},function(r,o){r.setMonth(r.getMonth()+o)},function(r,o){return o.getMonth()-r.getMonth()+12*(o.getFullYear()-r.getFullYear())},function(r){return r.getMonth()});const Hf=jf;var pC=jf.range,mc=6e4,Ad=36e5,r_=6048e5;function vc(r){return Li(function(o){o.setDate(o.getDate()-(o.getDay()+7-r)%7),o.setHours(0,0,0,0)},function(o,c){o.setDate(o.getDate()+7*c)},function(o,c){return(c-o-(c.getTimezoneOffset()-o.getTimezoneOffset())*mc)/r_})}var Wf=vc(0),Dd=vc(1),Dx=vc(2),gC=vc(3),qf=vc(4),mC=vc(5),vC=vc(6),i_=Wf.range,_0=Dd.range,_C=Dx.range,yC=gC.range,Px=qf.range,Pd=mC.range,wC=vC.range,Ix=Li(function(r){r.setHours(0,0,0,0)},function(r,o){r.setDate(r.getDate()+o)},function(r,o){return(o-r-(o.getTimezoneOffset()-r.getTimezoneOffset())*mc)/864e5},function(r){return r.getDate()-1});const y0=Ix;var xC=Ix.range,bC=Li(function(r){r.setTime(r-r.getMilliseconds()-1e3*r.getSeconds()-r.getMinutes()*mc)},function(r,o){r.setTime(+r+o*Ad)},function(r,o){return(o-r)/Ad},function(r){return r.getHours()});const Lx=bC;var Rx=bC.range,Ox=Li(function(r){r.setTime(r-r.getMilliseconds()-1e3*r.getSeconds())},function(r,o){r.setTime(+r+o*mc)},function(r,o){return(o-r)/mc},function(r){return r.getMinutes()});const Nx=Ox;var Id=Ox.range,kx=Li(function(r){r.setTime(r-r.getMilliseconds())},function(r,o){r.setTime(+r+1e3*o)},function(r,o){return(o-r)/1e3},function(r){return r.getUTCSeconds()});const Ld=kx;var Fx=kx.range,Rd=Li(function(){},function(r,o){r.setTime(+r+o)},function(r,o){return o-r});Rd.every=function(r){return r=Math.floor(r),isFinite(r)&&r>0?r>1?Li(function(o){o.setTime(Math.floor(o/r)*r)},function(o,c){o.setTime(+o+c*r)},function(o,c){return(c-o)/r}):Rd:null};const w0=Rd;var o_=Rd.range;function _c(r){return Li(function(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-r)%7),o.setUTCHours(0,0,0,0)},function(o,c){o.setUTCDate(o.getUTCDate()+7*c)},function(o,c){return(c-o)/r_})}var yc=_c(0),Od=_c(1),a_=_c(2),s_=_c(3),wc=_c(4),Vx=_c(5),Bx=_c(6),x0=yc.range,SC=Od.range,$x=a_.range,MC=s_.range,CC=wc.range,TC=Vx.range,EC=Bx.range,zx=Li(function(r){r.setUTCHours(0,0,0,0)},function(r,o){r.setUTCDate(r.getUTCDate()+o)},function(r,o){return(o-r)/864e5},function(r){return r.getUTCDate()-1});const b0=zx;var AC=zx.range,u_=Li(function(r){r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,o){r.setUTCFullYear(r.getUTCFullYear()+o)},function(r,o){return o.getUTCFullYear()-r.getUTCFullYear()},function(r){return r.getUTCFullYear()});u_.every=function(r){return isFinite(r=Math.floor(r))&&r>0?Li(function(o){o.setUTCFullYear(Math.floor(o.getUTCFullYear()/r)*r),o.setUTCMonth(0,1),o.setUTCHours(0,0,0,0)},function(o,c){o.setUTCFullYear(o.getUTCFullYear()+c*r)}):null};const bl=u_;var Gx=u_.range;function l_(r){if(0<=r.y&&r.y<100){var o=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return o.setFullYear(r.y),o}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function c_(r){if(0<=r.y&&r.y<100){var o=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return o.setUTCFullYear(r.y),o}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function Yf(r,o,c){return{y:r,m:o,d:c,H:0,M:0,S:0,L:0}}function Ux(r){var o=r.dateTime,c=r.date,h=r.time,g=r.periods,y=r.days,x=r.shortDays,b=r.months,T=r.shortMonths,A=Nd(g),I=kd(g),F=Nd(y),N=kd(y),Y=Nd(x),it=kd(x),rt=Nd(b),at=kd(b),lt=Nd(T),At=kd(T),dt={a:function je(Be){return x[Be.getDay()]},A:function $e(Be){return y[Be.getDay()]},b:function Ke(Be){return T[Be.getMonth()]},B:function Dn(Be){return b[Be.getMonth()]},c:null,d:Kx,e:Kx,f:FC,g:WC,G:YC,H:kC,I:Jx,j:IA,L:__,m:VC,M:LA,p:function Rn(Be){return g[+(Be.getHours()>=12)]},q:function Wr(Be){return 1+~~(Be.getMonth()/3)},Q:ab,s:sb,S:BC,u:$C,U:zC,V:GC,w:UC,W:jC,x:null,X:null,y:HC,Y:qC,Z:XC,"%":nu},St={a:function Fr(Be){return x[Be.getUTCDay()]},A:function vr(Be){return y[Be.getUTCDay()]},b:function wr(Be){return T[Be.getUTCMonth()]},B:function is(Be){return b[Be.getUTCMonth()]},c:null,d:Zf,e:Zf,f:ib,g:w_,G:rT,H:eb,I:nb,j:rb,L:y_,m:ZC,M:QC,p:function Is(Be){return g[+(Be.getUTCHours()>=12)]},q:function Ls(Be){return 1+~~(Be.getUTCMonth()/3)},Q:ab,s:sb,S:RA,u:KC,U:JC,V:tT,w:eT,W:Vd,x:null,X:null,y:nT,Y:Yo,Z:x_,"%":nu},jt={a:function pe(Be,On,Kn){var Ae=Y.exec(On.slice(Kn));return Ae?(Be.w=it[Ae[0].toLowerCase()],Kn+Ae[0].length):-1},A:function ie(Be,On,Kn){var Ae=F.exec(On.slice(Kn));return Ae?(Be.w=N[Ae[0].toLowerCase()],Kn+Ae[0].length):-1},b:function It(Be,On,Kn){var Ae=lt.exec(On.slice(Kn));return Ae?(Be.m=At[Ae[0].toLowerCase()],Kn+Ae[0].length):-1},B:function Jt(Be,On,Kn){var Ae=rt.exec(On.slice(Kn));return Ae?(Be.m=at[Ae[0].toLowerCase()],Kn+Ae[0].length):-1},c:function Se(Be,On,Kn){return ve(Be,o,On,Kn)},d:Fd,e:Fd,f:Zx,g:IC,G:Wx,H:m_,I:m_,j:RC,L:Xx,m:LC,M:v_,p:function se(Be,On,Kn){var Ae=A.exec(On.slice(Kn));return Ae?(Be.p=I[Ae[0].toLowerCase()],Kn+Ae[0].length):-1},q:g_,Q:OC,s:NC,S:Yx,u:DC,U:PC,V:Xf,w:p_,W:Hx,x:function Qt(Be,On,Kn){return ve(Be,c,On,Kn)},X:function ye(Be,On,Kn){return ve(Be,h,On,Kn)},y:IC,Y:Wx,Z:qx,"%":Qx};function Kt(Be,On){return function(Kn){var Zo,Bu,Qo,Ae=[],ho=-1,mr=0,Oo=Be.length;for(Kn instanceof Date||(Kn=new Date(+Kn));++ho<Oo;)37===Be.charCodeAt(ho)&&(Ae.push(Be.slice(mr,ho)),null!=(Bu=jx[Zo=Be.charAt(++ho)])?Zo=Be.charAt(++ho):Bu="e"===Zo?" ":"0",(Qo=On[Zo])&&(Zo=Qo(Kn,Bu)),Ae.push(Zo),mr=ho+1);return Ae.push(Be.slice(mr,ho)),Ae.join("")}}function Xt(Be,On){return function(Kn){var mr,Oo,Ae=Yf(1900,void 0,1);if(ve(Ae,Be,Kn+="",0)!=Kn.length)return null;if("Q"in Ae)return new Date(Ae.Q);if("s"in Ae)return new Date(1e3*Ae.s+("L"in Ae?Ae.L:0));if(On&&!("Z"in Ae)&&(Ae.Z=0),"p"in Ae&&(Ae.H=Ae.H%12+12*Ae.p),void 0===Ae.m&&(Ae.m="q"in Ae?Ae.q:0),"V"in Ae){if(Ae.V<1||Ae.V>53)return null;"w"in Ae||(Ae.w=1),"Z"in Ae?(Oo=(mr=c_(Yf(Ae.y,0,1))).getUTCDay(),mr=Oo>4||0===Oo?Od.ceil(mr):Od(mr),mr=b0.offset(mr,7*(Ae.V-1)),Ae.y=mr.getUTCFullYear(),Ae.m=mr.getUTCMonth(),Ae.d=mr.getUTCDate()+(Ae.w+6)%7):(Oo=(mr=l_(Yf(Ae.y,0,1))).getDay(),mr=Oo>4||0===Oo?Dd.ceil(mr):Dd(mr),mr=y0.offset(mr,7*(Ae.V-1)),Ae.y=mr.getFullYear(),Ae.m=mr.getMonth(),Ae.d=mr.getDate()+(Ae.w+6)%7)}else("W"in Ae||"U"in Ae)&&("w"in Ae||(Ae.w="u"in Ae?Ae.u%7:"W"in Ae?1:0),Oo="Z"in Ae?c_(Yf(Ae.y,0,1)).getUTCDay():l_(Yf(Ae.y,0,1)).getDay(),Ae.m=0,Ae.d="W"in Ae?(Ae.w+6)%7+7*Ae.W-(Oo+5)%7:Ae.w+7*Ae.U-(Oo+6)%7);return"Z"in Ae?(Ae.H+=Ae.Z/100|0,Ae.M+=Ae.Z%100,c_(Ae)):l_(Ae)}}function ve(Be,On,Kn,Ae){for(var Zo,Bu,ho=0,mr=On.length,Oo=Kn.length;ho<mr;){if(Ae>=Oo)return-1;if(37===(Zo=On.charCodeAt(ho++))){if(Zo=On.charAt(ho++),!(Bu=jt[Zo in jx?On.charAt(ho++):Zo])||(Ae=Bu(Be,Kn,Ae))<0)return-1}else if(Zo!=Kn.charCodeAt(Ae++))return-1}return Ae}return dt.x=Kt(c,dt),dt.X=Kt(h,dt),dt.c=Kt(o,dt),St.x=Kt(c,St),St.X=Kt(h,St),St.c=Kt(o,St),{format:function(Be){var On=Kt(Be+="",dt);return On.toString=function(){return Be},On},parse:function(Be){var On=Xt(Be+="",!1);return On.toString=function(){return Be},On},utcFormat:function(Be){var On=Kt(Be+="",St);return On.toString=function(){return Be},On},utcParse:function(Be){var On=Xt(Be+="",!0);return On.toString=function(){return Be},On}}}var Qf,Kf,ns,S0,b_,jx={"-":"",_:" ",0:"0"},Ji=/^\s*\d+/,f_=/^%/,h_=/[\\^$*+?|[\]().{}]/g;function gr(r,o,c){var h=r<0?"-":"",g=(h?-r:r)+"",y=g.length;return h+(y<c?new Array(c-y+1).join(o)+g:g)}function d_(r){return r.replace(h_,"\\$&")}function Nd(r){return new RegExp("^(?:"+r.map(d_).join("|")+")","i")}function kd(r){for(var o={},c=-1,h=r.length;++c<h;)o[r[c].toLowerCase()]=c;return o}function p_(r,o,c){var h=Ji.exec(o.slice(c,c+1));return h?(r.w=+h[0],c+h[0].length):-1}function DC(r,o,c){var h=Ji.exec(o.slice(c,c+1));return h?(r.u=+h[0],c+h[0].length):-1}function PC(r,o,c){var h=Ji.exec(o.slice(c,c+2));return h?(r.U=+h[0],c+h[0].length):-1}function Xf(r,o,c){var h=Ji.exec(o.slice(c,c+2));return h?(r.V=+h[0],c+h[0].length):-1}function Hx(r,o,c){var h=Ji.exec(o.slice(c,c+2));return h?(r.W=+h[0],c+h[0].length):-1}function Wx(r,o,c){var h=Ji.exec(o.slice(c,c+4));return h?(r.y=+h[0],c+h[0].length):-1}function IC(r,o,c){var h=Ji.exec(o.slice(c,c+2));return h?(r.y=+h[0]+(+h[0]>68?1900:2e3),c+h[0].length):-1}function qx(r,o,c){var h=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(o.slice(c,c+6));return h?(r.Z=h[1]?0:-(h[2]+(h[3]||"00")),c+h[0].length):-1}function g_(r,o,c){var h=Ji.exec(o.slice(c,c+1));return h?(r.q=3*h[0]-3,c+h[0].length):-1}function LC(r,o,c){var h=Ji.exec(o.slice(c,c+2));return h?(r.m=h[0]-1,c+h[0].length):-1}function Fd(r,o,c){var h=Ji.exec(o.slice(c,c+2));return h?(r.d=+h[0],c+h[0].length):-1}function RC(r,o,c){var h=Ji.exec(o.slice(c,c+3));return h?(r.m=0,r.d=+h[0],c+h[0].length):-1}function m_(r,o,c){var h=Ji.exec(o.slice(c,c+2));return h?(r.H=+h[0],c+h[0].length):-1}function v_(r,o,c){var h=Ji.exec(o.slice(c,c+2));return h?(r.M=+h[0],c+h[0].length):-1}function Yx(r,o,c){var h=Ji.exec(o.slice(c,c+2));return h?(r.S=+h[0],c+h[0].length):-1}function Xx(r,o,c){var h=Ji.exec(o.slice(c,c+3));return h?(r.L=+h[0],c+h[0].length):-1}function Zx(r,o,c){var h=Ji.exec(o.slice(c,c+6));return h?(r.L=Math.floor(h[0]/1e3),c+h[0].length):-1}function Qx(r,o,c){var h=f_.exec(o.slice(c,c+1));return h?c+h[0].length:-1}function OC(r,o,c){var h=Ji.exec(o.slice(c));return h?(r.Q=+h[0],c+h[0].length):-1}function NC(r,o,c){var h=Ji.exec(o.slice(c));return h?(r.s=+h[0],c+h[0].length):-1}function Kx(r,o){return gr(r.getDate(),o,2)}function kC(r,o){return gr(r.getHours(),o,2)}function Jx(r,o){return gr(r.getHours()%12||12,o,2)}function IA(r,o){return gr(1+y0.count(xl(r),r),o,3)}function __(r,o){return gr(r.getMilliseconds(),o,3)}function FC(r,o){return __(r,o)+"000"}function VC(r,o){return gr(r.getMonth()+1,o,2)}function LA(r,o){return gr(r.getMinutes(),o,2)}function BC(r,o){return gr(r.getSeconds(),o,2)}function $C(r){var o=r.getDay();return 0===o?7:o}function zC(r,o){return gr(Wf.count(xl(r)-1,r),o,2)}function tb(r){var o=r.getDay();return o>=4||0===o?qf(r):qf.ceil(r)}function GC(r,o){return r=tb(r),gr(qf.count(xl(r),r)+(4===xl(r).getDay()),o,2)}function UC(r){return r.getDay()}function jC(r,o){return gr(Dd.count(xl(r)-1,r),o,2)}function HC(r,o){return gr(r.getFullYear()%100,o,2)}function WC(r,o){return gr((r=tb(r)).getFullYear()%100,o,2)}function qC(r,o){return gr(r.getFullYear()%1e4,o,4)}function YC(r,o){var c=r.getDay();return gr((r=c>=4||0===c?qf(r):qf.ceil(r)).getFullYear()%1e4,o,4)}function XC(r){var o=r.getTimezoneOffset();return(o>0?"-":(o*=-1,"+"))+gr(o/60|0,"0",2)+gr(o%60,"0",2)}function Zf(r,o){return gr(r.getUTCDate(),o,2)}function eb(r,o){return gr(r.getUTCHours(),o,2)}function nb(r,o){return gr(r.getUTCHours()%12||12,o,2)}function rb(r,o){return gr(1+b0.count(bl(r),r),o,3)}function y_(r,o){return gr(r.getUTCMilliseconds(),o,3)}function ib(r,o){return y_(r,o)+"000"}function ZC(r,o){return gr(r.getUTCMonth()+1,o,2)}function QC(r,o){return gr(r.getUTCMinutes(),o,2)}function RA(r,o){return gr(r.getUTCSeconds(),o,2)}function KC(r){var o=r.getUTCDay();return 0===o?7:o}function JC(r,o){return gr(yc.count(bl(r)-1,r),o,2)}function ob(r){var o=r.getUTCDay();return o>=4||0===o?wc(r):wc.ceil(r)}function tT(r,o){return r=ob(r),gr(wc.count(bl(r),r)+(4===bl(r).getUTCDay()),o,2)}function eT(r){return r.getUTCDay()}function Vd(r,o){return gr(Od.count(bl(r)-1,r),o,2)}function nT(r,o){return gr(r.getUTCFullYear()%100,o,2)}function w_(r,o){return gr((r=ob(r)).getUTCFullYear()%100,o,2)}function Yo(r,o){return gr(r.getUTCFullYear()%1e4,o,4)}function rT(r,o){var c=r.getUTCDay();return gr((r=c>=4||0===c?wc(r):wc.ceil(r)).getUTCFullYear()%1e4,o,4)}function x_(){return"+0000"}function nu(){return"%"}function ab(r){return+r}function sb(r){return Math.floor(+r/1e3)}function S_(r){return Qf=Ux(r),Kf=Qf.format,ns=Qf.parse,S0=Qf.utcFormat,b_=Qf.utcParse,Qf}S_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Jf=1e3,xc=60*Jf,th=60*xc,bc=24*th,M_=7*bc,C_=30*bc,Bd=365*bc;function T_(r){return new Date(r)}function iT(r){return r instanceof Date?+r:+new Date(+r)}function E_(r,o,c,h,g,y,x,b,T){var A=aC(Ki,Ki),I=A.invert,F=A.domain,N=T(".%L"),Y=T(":%S"),it=T("%I:%M"),rt=T("%I %p"),at=T("%a %d"),lt=T("%b %d"),At=T("%B"),dt=T("%Y"),St=[[x,1,Jf],[x,5,5*Jf],[x,15,15*Jf],[x,30,30*Jf],[y,1,xc],[y,5,5*xc],[y,15,15*xc],[y,30,30*xc],[g,1,th],[g,3,3*th],[g,6,6*th],[g,12,12*th],[h,1,bc],[h,2,2*bc],[c,1,M_],[o,1,C_],[o,3,3*C_],[r,1,Bd]];function jt(Xt){return(x(Xt)<Xt?N:y(Xt)<Xt?Y:g(Xt)<Xt?it:h(Xt)<Xt?rt:o(Xt)<Xt?c(Xt)<Xt?at:lt:r(Xt)<Xt?At:dt)(Xt)}function Kt(Xt,ve,se,pe){if(null==Xt&&(Xt=10),"number"==typeof Xt){var ie=Math.abs(se-ve)/Xt,It=X(function(Jt){return Jt[2]}).right(St,ie);It===St.length?(pe=ot(ve/Bd,se/Bd,Xt),Xt=r):It?(pe=(It=St[ie/St[It-1][2]<St[It][2]/ie?It-1:It])[1],Xt=It[0]):(pe=Math.max(ot(ve,se,Xt),1),Xt=b)}return null==pe?Xt:Xt.every(pe)}return A.invert=function(Xt){return new Date(I(Xt))},A.domain=function(Xt){return arguments.length?F(l0.call(Xt,iT)):F().map(T_)},A.ticks=function(Xt,ve){var Jt,se=F(),pe=se[0],ie=se[se.length-1],It=ie<pe;return It&&(Jt=pe,pe=ie,ie=Jt),Jt=(Jt=Kt(Xt,pe,ie,ve))?Jt.range(pe,ie+1):[],It?Jt.reverse():Jt},A.tickFormat=function(Xt,ve){return null==ve?jt:T(ve)},A.nice=function(Xt,ve){var se=F();return(Xt=Kt(Xt,se[0],se[se.length-1],ve))?F(sC(se,Xt)):A},A.copy=function(){return Td(A,E_(r,o,c,h,g,y,x,b,T))},A}function oT(){return Es.apply(E_(xl,Hf,Wf,y0,Lx,Nx,Ld,w0,Kf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var ub=Li(function(r){r.setUTCDate(1),r.setUTCHours(0,0,0,0)},function(r,o){r.setUTCMonth(r.getUTCMonth()+o)},function(r,o){return o.getUTCMonth()-r.getUTCMonth()+12*(o.getUTCFullYear()-r.getUTCFullYear())},function(r){return r.getUTCMonth()});const A_=ub;var D_=ub.range,P_=Li(function(r){r.setUTCMinutes(0,0,0)},function(r,o){r.setTime(+r+o*Ad)},function(r,o){return(o-r)/Ad},function(r){return r.getUTCHours()});const lb=P_;var cb=P_.range,I_=Li(function(r){r.setUTCSeconds(0,0)},function(r,o){r.setTime(+r+o*mc)},function(r,o){return(o-r)/mc},function(r){return r.getUTCMinutes()});const fb=I_;var hb=I_.range;function db(){return Es.apply(E_(bl,A_,yc,b0,lb,fb,Ld,w0,S0).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function M0(){var c,h,g,y,T,r=0,o=1,x=Ki,b=!1;function A(I){return isNaN(I=+I)?T:x(0===g?.5:(I=(y(I)-c)*g,b?Math.max(0,Math.min(1,I)):I))}return A.domain=function(I){return arguments.length?(c=y(r=+I[0]),h=y(o=+I[1]),g=c===h?0:1/(h-c),A):[r,o]},A.clamp=function(I){return arguments.length?(b=!!I,A):b},A.interpolator=function(I){return arguments.length?(x=I,A):x},A.unknown=function(I){return arguments.length?(T=I,A):T},function(I){return y=I,c=I(r),h=I(o),g=c===h?0:1/(h-c),A}}function Nu(r,o){return o.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function pb(){var r=$f(M0()(Ki));return r.copy=function(){return Nu(r,pb())},Ru.apply(r,arguments)}function Io(){var r=Kr(M0()).domain([1,10]);return r.copy=function(){return Nu(r,Io()).base(r.base())},Ru.apply(r,arguments)}function Sc(){var r=Zv(M0());return r.copy=function(){return Nu(r,Sc()).constant(r.constant())},Ru.apply(r,arguments)}function L_(){var r=Jv(M0());return r.copy=function(){return Nu(r,L_()).exponent(r.exponent())},Ru.apply(r,arguments)}function aT(){return L_.apply(null,arguments).exponent(.5)}function sT(){var r=[],o=Ki;function c(h){if(!isNaN(h=+h))return o((bt(r,h)-1)/(r.length-1))}return c.domain=function(h){if(!arguments.length)return r.slice();r=[];for(var x,g=0,y=h.length;g<y;++g)null!=(x=h[g])&&!isNaN(x=+x)&&r.push(x);return r.sort(K),c},c.interpolator=function(h){return arguments.length?(o=h,c):o},c.copy=function(){return sT(o).domain(r)},Ru.apply(c,arguments)}function R_(){var h,g,y,x,b,A,F,r=0,o=.5,c=1,T=Ki,I=!1;function N(Y){return isNaN(Y=+Y)?F:(Y=.5+((Y=+A(Y))-g)*(Y<g?x:b),T(I?Math.max(0,Math.min(1,Y)):Y))}return N.domain=function(Y){return arguments.length?(h=A(r=+Y[0]),g=A(o=+Y[1]),y=A(c=+Y[2]),x=h===g?0:.5/(g-h),b=g===y?0:.5/(y-g),N):[r,o,c]},N.clamp=function(Y){return arguments.length?(I=!!Y,N):I},N.interpolator=function(Y){return arguments.length?(T=Y,N):T},N.unknown=function(Y){return arguments.length?(F=Y,N):F},function(Y){return A=Y,h=Y(r),g=Y(o),y=Y(c),x=h===g?0:.5/(g-h),b=g===y?0:.5/(y-g),N}}function O_(){var r=$f(R_()(Ki));return r.copy=function(){return Nu(r,O_())},Ru.apply(r,arguments)}function C0(){var r=Kr(R_()).domain([.1,1,10]);return r.copy=function(){return Nu(r,C0()).base(r.base())},Ru.apply(r,arguments)}function eh(){var r=Zv(R_());return r.copy=function(){return Nu(r,eh()).constant(r.constant())},Ru.apply(r,arguments)}function N_(){var r=Jv(R_());return r.copy=function(){return Nu(r,N_()).exponent(r.exponent())},Ru.apply(r,arguments)}function k_(){return N_.apply(null,arguments).exponent(.5)}function Bn(r){for(var o=r.length/6|0,c=new Array(o),h=0;h<o;)c[h]="#"+r.slice(6*h,6*++h);return c}const gb=Bn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),uT=Bn("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),lT=Bn("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),cT=Bn("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),F_=Bn("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),mb=Bn("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),vb=Bn("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),T0=Bn("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),V_=Bn("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),OA=Bn("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Er(r){return _r(r[r.length-1])}var _b=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Bn);const yb=Er(_b);var Mc=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Bn);const fT=Er(Mc);var B_=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Bn);const $_=Er(B_);var hT=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Bn);const dT=Er(hT);var pT=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Bn);const gT=Er(pT);var wb=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Bn);const mT=Er(wb);var z_=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Bn);const xb=Er(z_);var bb=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Bn);const Sb=Er(bb);var G_=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Bn);const vT=Er(G_);var Mb=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Bn);const Cb=Er(Mb);var Tb=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Bn);const Eb=Er(Tb);var U_=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Bn);const Ab=Er(U_);var j_=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Bn);const _T=Er(j_);var Db=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Bn);const NA=Er(Db);var H_=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Bn);const kA=Er(H_);var yT=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Bn);const FA=Er(yT);var wT=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Bn);const VA=Er(wT);var xT=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Bn);const BA=Er(xT);var bT=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Bn);const E0=Er(bT);var ST=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Bn);const A0=Er(ST);var $d=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Bn);const zd=Er($d);var W_=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Bn);const $A=Er(W_);var D0=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Bn);const Pb=Er(D0);var q_=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Bn);const zA=Er(q_);var MT=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Bn);const CT=Er(MT);var Ib=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Bn);const ku=Er(Ib);var Lb=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Bn);const GA=Er(Lb);function UA(r){return r=Math.max(0,Math.min(1,r)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-r*(35.34-r*(2381.73-r*(6402.7-r*(7024.72-2710.57*r)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+r*(170.73+r*(52.82-r*(131.46-r*(176.58-67.37*r)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+r*(442.36-r*(2482.43-r*(6167.24-r*(6614.94-2475.67*r)))))))+")"}const jA=Cd(_s(300,.5,0),_s(-240,.5,1));var TT=Cd(_s(-100,.75,.35),_s(80,1.5,.8)),Rb=Cd(_s(260,.75,.35),_s(80,1.5,.8)),P0=_s();function HA(r){(r<0||r>1)&&(r-=Math.floor(r));var o=Math.abs(r-.5);return P0.h=360*r-100,P0.s=1.5-1.5*o,P0.l=.8-.9*o,P0+""}var I0=zo(),Ob=Math.PI/3,Nb=2*Math.PI/3;function WA(r){var o;return r=(.5-r)*Math.PI,I0.r=255*(o=Math.sin(r))*o,I0.g=255*(o=Math.sin(r+Ob))*o,I0.b=255*(o=Math.sin(r+Nb))*o,I0+""}function As(r){return r=Math.max(0,Math.min(1,r)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+r*(1172.33-r*(10793.56-r*(33300.12-r*(38394.49-14825.05*r)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+r*(557.33+r*(1225.33-r*(3574.96-r*(1073.77+707.56*r)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+r*(3211.1-r*(15327.97-r*(27814-r*(22569.18-6838.66*r)))))))+")"}function L0(r){var o=r.length;return function(c){return r[Math.max(0,Math.min(o-1,Math.floor(c*o)))]}}const Y_=L0(Bn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var ET=L0(Bn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),qA=L0(Bn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Si=L0(Bn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function AT(r){return _i(Hn(r).call(document.documentElement))}var X_=0;function kb(){return new Z_}function Z_(){this._="@"+(++X_).toString(36)}function Q_(r){return"string"==typeof r?new Hi([document.querySelectorAll(r)],[document.documentElement]):new Hi([r??[]],kl)}function Fb(r,o){null==o&&(o=$a().touches);for(var c=0,h=o?o.length:0,g=new Array(h);c<h;++c)g[c]=fi(r,o[c]);return g}function qn(r){return function(){return r}}Z_.prototype=kb.prototype={constructor:Z_,get:function(r){for(var o=this._;!(o in r);)if(!(r=r.parentNode))return;return r[o]},set:function(r,o){return r[this._]=o},remove:function(r){return this._ in r&&delete r[this._]},toString:function(){return this._}};var Vb=Math.abs,fo=Math.atan2,ru=Math.cos,K_=Math.max,Gd=Math.min,iu=Math.sin,Sl=Math.sqrt,Jr=1e-12,Xo=Math.PI,Ud=Xo/2,ou=2*Xo;function $b(r){return r>=1?Ud:r<=-1?-Ud:Math.asin(r)}function YA(r){return r.innerRadius}function DT(r){return r.outerRadius}function zb(r){return r.startAngle}function PT(r){return r.endAngle}function IT(r){return r&&r.padAngle}function J_(r,o,c,h,g,y,x){var b=r-c,T=o-h,A=(x?y:-y)/Sl(b*b+T*T),I=A*T,F=-A*b,N=r+I,Y=o+F,it=c+I,rt=h+F,at=(N+it)/2,lt=(Y+rt)/2,At=it-N,dt=rt-Y,St=At*At+dt*dt,jt=g-y,Kt=N*rt-it*Y,Xt=(dt<0?-1:1)*Sl(K_(0,jt*jt*St-Kt*Kt)),ve=(Kt*dt-At*Xt)/St,se=(-Kt*At-dt*Xt)/St,pe=(Kt*dt+At*Xt)/St,ie=(-Kt*At+dt*Xt)/St,It=ve-at,Jt=se-lt,Se=pe-at,Qt=ie-lt;return It*It+Jt*Jt>Se*Se+Qt*Qt&&(ve=pe,se=ie),{cx:ve,cy:se,x01:-I,y01:-F,x11:ve*(g/jt-1),y11:se*(g/jt-1)}}function Ub(){var r=YA,o=DT,c=qn(0),h=null,g=zb,y=PT,x=IT,b=null;function T(){var A,I,F=+r.apply(this,arguments),N=+o.apply(this,arguments),Y=g.apply(this,arguments)-Ud,it=y.apply(this,arguments)-Ud,rt=Vb(it-Y),at=it>Y;if(b||(b=A=Hl()),N<F&&(I=N,N=F,F=I),N>Jr)if(rt>ou-Jr)b.moveTo(N*ru(Y),N*iu(Y)),b.arc(0,0,N,Y,it,!at),F>Jr&&(b.moveTo(F*ru(it),F*iu(it)),b.arc(0,0,F,it,Y,at));else{var It,Jt,lt=Y,At=it,dt=Y,St=it,jt=rt,Kt=rt,Xt=x.apply(this,arguments)/2,ve=Xt>Jr&&(h?+h.apply(this,arguments):Sl(F*F+N*N)),se=Gd(Vb(N-F)/2,+c.apply(this,arguments)),pe=se,ie=se;if(ve>Jr){var Se=$b(ve/F*iu(Xt)),Qt=$b(ve/N*iu(Xt));(jt-=2*Se)>Jr?(dt+=Se*=at?1:-1,St-=Se):(jt=0,dt=St=(Y+it)/2),(Kt-=2*Qt)>Jr?(lt+=Qt*=at?1:-1,At-=Qt):(Kt=0,lt=At=(Y+it)/2)}var ye=N*ru(lt),je=N*iu(lt),$e=F*ru(St),Ke=F*iu(St);if(se>Jr){var vr,Dn=N*ru(At),Rn=N*iu(At),Wr=F*ru(dt),Fr=F*iu(dt);if(rt<Xo&&(vr=function Gb(r,o,c,h,g,y,x,b){var T=c-r,A=h-o,I=x-g,F=b-y,N=F*T-I*A;if(!(N*N<Jr))return[r+(N=(I*(o-y)-F*(r-g))/N)*T,o+N*A]}(ye,je,Wr,Fr,Dn,Rn,$e,Ke))){var wr=ye-vr[0],is=je-vr[1],Is=Dn-vr[0],Ls=Rn-vr[1],Be=1/iu(function Bb(r){return r>1?0:r<-1?Xo:Math.acos(r)}((wr*Is+is*Ls)/(Sl(wr*wr+is*is)*Sl(Is*Is+Ls*Ls)))/2),On=Sl(vr[0]*vr[0]+vr[1]*vr[1]);pe=Gd(se,(F-On)/(Be-1)),ie=Gd(se,(N-On)/(Be+1))}}Kt>Jr?ie>Jr?(It=J_(Wr,Fr,ye,je,N,ie,at),Jt=J_(Dn,Rn,$e,Ke,N,ie,at),b.moveTo(It.cx+It.x01,It.cy+It.y01),ie<se?b.arc(It.cx,It.cy,ie,fo(It.y01,It.x01),fo(Jt.y01,Jt.x01),!at):(b.arc(It.cx,It.cy,ie,fo(It.y01,It.x01),fo(It.y11,It.x11),!at),b.arc(0,0,N,fo(It.cy+It.y11,It.cx+It.x11),fo(Jt.cy+Jt.y11,Jt.cx+Jt.x11),!at),b.arc(Jt.cx,Jt.cy,ie,fo(Jt.y11,Jt.x11),fo(Jt.y01,Jt.x01),!at))):(b.moveTo(ye,je),b.arc(0,0,N,lt,At,!at)):b.moveTo(ye,je),F>Jr&&jt>Jr?pe>Jr?(It=J_($e,Ke,Dn,Rn,F,-pe,at),Jt=J_(ye,je,Wr,Fr,F,-pe,at),b.lineTo(It.cx+It.x01,It.cy+It.y01),pe<se?b.arc(It.cx,It.cy,pe,fo(It.y01,It.x01),fo(Jt.y01,Jt.x01),!at):(b.arc(It.cx,It.cy,pe,fo(It.y01,It.x01),fo(It.y11,It.x11),!at),b.arc(0,0,F,fo(It.cy+It.y11,It.cx+It.x11),fo(Jt.cy+Jt.y11,Jt.cx+Jt.x11),at),b.arc(Jt.cx,Jt.cy,pe,fo(Jt.y11,Jt.x11),fo(Jt.y01,Jt.x01),!at))):b.arc(0,0,F,St,dt,at):b.lineTo($e,Ke)}else b.moveTo(0,0);if(b.closePath(),A)return b=null,A+""||null}return T.centroid=function(){var A=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2,I=(+g.apply(this,arguments)+ +y.apply(this,arguments))/2-Xo/2;return[ru(I)*A,iu(I)*A]},T.innerRadius=function(A){return arguments.length?(r="function"==typeof A?A:qn(+A),T):r},T.outerRadius=function(A){return arguments.length?(o="function"==typeof A?A:qn(+A),T):o},T.cornerRadius=function(A){return arguments.length?(c="function"==typeof A?A:qn(+A),T):c},T.padRadius=function(A){return arguments.length?(h=null==A?null:"function"==typeof A?A:qn(+A),T):h},T.startAngle=function(A){return arguments.length?(g="function"==typeof A?A:qn(+A),T):g},T.endAngle=function(A){return arguments.length?(y="function"==typeof A?A:qn(+A),T):y},T.padAngle=function(A){return arguments.length?(x="function"==typeof A?A:qn(+A),T):x},T.context=function(A){return arguments.length?(b=A??null,T):b},T}function jb(r){this._context=r}function jd(r){return new jb(r)}function Hb(r){return r[0]}function Hd(r){return r[1]}function R0(){var r=Hb,o=Hd,c=qn(!0),h=null,g=jd,y=null;function x(b){var T,I,N,A=b.length,F=!1;for(null==h&&(y=g(N=Hl())),T=0;T<=A;++T)!(T<A&&c(I=b[T],T,b))===F&&((F=!F)?y.lineStart():y.lineEnd()),F&&y.point(+r(I,T,b),+o(I,T,b));if(N)return y=null,N+""||null}return x.x=function(b){return arguments.length?(r="function"==typeof b?b:qn(+b),x):r},x.y=function(b){return arguments.length?(o="function"==typeof b?b:qn(+b),x):o},x.defined=function(b){return arguments.length?(c="function"==typeof b?b:qn(!!b),x):c},x.curve=function(b){return arguments.length?(g=b,null!=h&&(y=g(h)),x):g},x.context=function(b){return arguments.length?(null==b?h=y=null:y=g(h=b),x):h},x}function ty(){var r=Hb,o=null,c=qn(0),h=Hd,g=qn(!0),y=null,x=jd,b=null;function T(I){var F,N,Y,rt,lt,it=I.length,at=!1,At=new Array(it),dt=new Array(it);for(null==y&&(b=x(lt=Hl())),F=0;F<=it;++F){if(!(F<it&&g(rt=I[F],F,I))===at)if(at=!at)N=F,b.areaStart(),b.lineStart();else{for(b.lineEnd(),b.lineStart(),Y=F-1;Y>=N;--Y)b.point(At[Y],dt[Y]);b.lineEnd(),b.areaEnd()}at&&(At[F]=+r(rt,F,I),dt[F]=+c(rt,F,I),b.point(o?+o(rt,F,I):At[F],h?+h(rt,F,I):dt[F]))}if(lt)return b=null,lt+""||null}function A(){return R0().defined(g).curve(x).context(y)}return T.x=function(I){return arguments.length?(r="function"==typeof I?I:qn(+I),o=null,T):r},T.x0=function(I){return arguments.length?(r="function"==typeof I?I:qn(+I),T):r},T.x1=function(I){return arguments.length?(o=null==I?null:"function"==typeof I?I:qn(+I),T):o},T.y=function(I){return arguments.length?(c="function"==typeof I?I:qn(+I),h=null,T):c},T.y0=function(I){return arguments.length?(c="function"==typeof I?I:qn(+I),T):c},T.y1=function(I){return arguments.length?(h=null==I?null:"function"==typeof I?I:qn(+I),T):h},T.lineX0=T.lineY0=function(){return A().x(r).y(c)},T.lineY1=function(){return A().x(r).y(h)},T.lineX1=function(){return A().x(o).y(c)},T.defined=function(I){return arguments.length?(g="function"==typeof I?I:qn(!!I),T):g},T.curve=function(I){return arguments.length?(x=I,null!=y&&(b=x(y)),T):x},T.context=function(I){return arguments.length?(null==I?y=b=null:b=x(y=I),T):y},T}function Wb(r,o){return o<r?-1:o>r?1:o>=r?0:NaN}function qb(r){return r}function Yb(){var r=qb,o=Wb,c=null,h=qn(0),g=qn(ou),y=qn(0);function x(b){var T,I,F,lt,St,A=b.length,N=0,Y=new Array(A),it=new Array(A),rt=+h.apply(this,arguments),at=Math.min(ou,Math.max(-ou,g.apply(this,arguments)-rt)),At=Math.min(Math.abs(at)/A,y.apply(this,arguments)),dt=At*(at<0?-1:1);for(T=0;T<A;++T)(St=it[Y[T]=T]=+r(b[T],T,b))>0&&(N+=St);for(null!=o?Y.sort(function(jt,Kt){return o(it[jt],it[Kt])}):null!=c&&Y.sort(function(jt,Kt){return c(b[jt],b[Kt])}),T=0,F=N?(at-A*dt)/N:0;T<A;++T,rt=lt)it[I=Y[T]]={data:b[I],index:T,value:St=it[I],startAngle:rt,endAngle:lt=rt+(St>0?St*F:0)+dt,padAngle:At};return it}return x.value=function(b){return arguments.length?(r="function"==typeof b?b:qn(+b),x):r},x.sortValues=function(b){return arguments.length?(o=b,c=null,x):o},x.sort=function(b){return arguments.length?(c=b,o=null,x):c},x.startAngle=function(b){return arguments.length?(h="function"==typeof b?b:qn(+b),x):h},x.endAngle=function(b){return arguments.length?(g="function"==typeof b?b:qn(+b),x):g},x.padAngle=function(b){return arguments.length?(y="function"==typeof b?b:qn(+b),x):y},x}jb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(r,o){switch(r=+r,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,o):this._context.moveTo(r,o);break;case 1:this._point=2;default:this._context.lineTo(r,o)}}};var Wd=O0(jd);function qd(r){this._curve=r}function O0(r){function o(c){return new qd(r(c))}return o._curve=r,o}function Yd(r){var o=r.curve;return r.angle=r.x,delete r.x,r.radius=r.y,delete r.y,r.curve=function(c){return arguments.length?o(O0(c)):o()._curve},r}function LT(){return Yd(R0().curve(Wd))}function RT(){var r=ty().curve(Wd),o=r.curve,c=r.lineX0,h=r.lineX1,g=r.lineY0,y=r.lineY1;return r.angle=r.x,delete r.x,r.startAngle=r.x0,delete r.x0,r.endAngle=r.x1,delete r.x1,r.radius=r.y,delete r.y,r.innerRadius=r.y0,delete r.y0,r.outerRadius=r.y1,delete r.y1,r.lineStartAngle=function(){return Yd(c())},delete r.lineX0,r.lineEndAngle=function(){return Yd(h())},delete r.lineX1,r.lineInnerRadius=function(){return Yd(g())},delete r.lineY0,r.lineOuterRadius=function(){return Yd(y())},delete r.lineY1,r.curve=function(x){return arguments.length?o(O0(x)):o()._curve},r}function N0(r,o){return[(o=+o)*Math.cos(r-=Math.PI/2),o*Math.sin(r)]}qd.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(r,o){this._curve.point(o*Math.sin(r),o*-Math.cos(r))}};var Xb=Array.prototype.slice;function Zb(r){return r.source}function ey(r){return r.target}function ny(r){var o=Zb,c=ey,h=Hb,g=Hd,y=null;function x(){var b,T=Xb.call(arguments),A=o.apply(this,T),I=c.apply(this,T);if(y||(y=b=Hl()),r(y,+h.apply(this,(T[0]=A,T)),+g.apply(this,T),+h.apply(this,(T[0]=I,T)),+g.apply(this,T)),b)return y=null,b+""||null}return x.source=function(b){return arguments.length?(o=b,x):o},x.target=function(b){return arguments.length?(c=b,x):c},x.x=function(b){return arguments.length?(h="function"==typeof b?b:qn(+b),x):h},x.y=function(b){return arguments.length?(g="function"==typeof b?b:qn(+b),x):g},x.context=function(b){return arguments.length?(y=b??null,x):y},x}function OT(r,o,c,h,g){r.moveTo(o,c),r.bezierCurveTo(o=(o+h)/2,c,o,g,h,g)}function XA(r,o,c,h,g){r.moveTo(o,c),r.bezierCurveTo(o,c=(c+g)/2,h,c,h,g)}function ZA(r,o,c,h,g){var y=N0(o,c),x=N0(o,c=(c+g)/2),b=N0(h,c),T=N0(h,g);r.moveTo(y[0],y[1]),r.bezierCurveTo(x[0],x[1],b[0],b[1],T[0],T[1])}function QA(){return ny(OT)}function KA(){return ny(XA)}function JA(){var r=ny(ZA);return r.angle=r.x,delete r.x,r.radius=r.y,delete r.y,r}const ry={draw:function(r,o){var c=Math.sqrt(o/Xo);r.moveTo(c,0),r.arc(0,0,c,0,ou)}},Xd={draw:function(r,o){var c=Math.sqrt(o/5)/2;r.moveTo(-3*c,-c),r.lineTo(-c,-c),r.lineTo(-c,-3*c),r.lineTo(c,-3*c),r.lineTo(c,-c),r.lineTo(3*c,-c),r.lineTo(3*c,c),r.lineTo(c,c),r.lineTo(c,3*c),r.lineTo(-c,3*c),r.lineTo(-c,c),r.lineTo(-3*c,c),r.closePath()}};var Qb=Math.sqrt(1/3),NT=2*Qb;const iy={draw:function(r,o){var c=Math.sqrt(o/NT),h=c*Qb;r.moveTo(0,-c),r.lineTo(h,0),r.lineTo(0,c),r.lineTo(-h,0),r.closePath()}};var oy=Math.sin(Xo/10)/Math.sin(7*Xo/10),ay=Math.sin(ou/10)*oy,sy=-Math.cos(ou/10)*oy;const Kb={draw:function(r,o){var c=Math.sqrt(.8908130915292852*o),h=ay*c,g=sy*c;r.moveTo(0,-c),r.lineTo(h,g);for(var y=1;y<5;++y){var x=ou*y/5,b=Math.cos(x),T=Math.sin(x);r.lineTo(T*c,-b*c),r.lineTo(b*h-T*g,T*h+b*g)}r.closePath()}},k0={draw:function(r,o){var c=Math.sqrt(o),h=-c/2;r.rect(h,h,c,c)}};var Zd=Math.sqrt(3);const Qd={draw:function(r,o){var c=-Math.sqrt(o/(3*Zd));r.moveTo(0,2*c),r.lineTo(-Zd*c,-c),r.lineTo(Zd*c,-c),r.closePath()}};var Ds=-.5,Ps=Math.sqrt(3)/2,Jb=1/Math.sqrt(12),tD=3*(Jb/2+1);const uy={draw:function(r,o){var c=Math.sqrt(o/tD),h=c/2,g=c*Jb,y=h,x=c*Jb+c,b=-y,T=x;r.moveTo(h,g),r.lineTo(y,x),r.lineTo(b,T),r.lineTo(Ds*h-Ps*g,Ps*h+Ds*g),r.lineTo(Ds*y-Ps*x,Ps*y+Ds*x),r.lineTo(Ds*b-Ps*T,Ps*b+Ds*T),r.lineTo(Ds*h+Ps*g,Ds*g-Ps*h),r.lineTo(Ds*y+Ps*x,Ds*x-Ps*y),r.lineTo(Ds*b+Ps*T,Ds*T-Ps*b),r.closePath()}};var kT=[ry,Xd,iy,k0,Kb,Qd,uy];function FT(){var r=qn(ry),o=qn(64),c=null;function h(){var g;if(c||(c=g=Hl()),r.apply(this,arguments).draw(c,+o.apply(this,arguments)),g)return c=null,g+""||null}return h.type=function(g){return arguments.length?(r="function"==typeof g?g:qn(g),h):r},h.size=function(g){return arguments.length?(o="function"==typeof g?g:qn(+g),h):o},h.context=function(g){return arguments.length?(c=g??null,h):c},h}function Ml(){}function F0(r,o,c){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+o)/6,(r._y0+4*r._y1+c)/6)}function Kd(r){this._context=r}function tS(r){return new Kd(r)}function ly(r){this._context=r}function VT(r){return new ly(r)}function eS(r){this._context=r}function nS(r){return new eS(r)}function Jd(r,o){this._basis=new Kd(r),this._beta=o}Kd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:F0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(r,o){switch(r=+r,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,o):this._context.moveTo(r,o);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:F0(this,r,o)}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=o}},ly.prototype={areaStart:Ml,areaEnd:Ml,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(r,o){switch(r=+r,o=+o,this._point){case 0:this._point=1,this._x2=r,this._y2=o;break;case 1:this._point=2,this._x3=r,this._y3=o;break;case 2:this._point=3,this._x4=r,this._y4=o,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+o)/6);break;default:F0(this,r,o)}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=o}},eS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(r,o){switch(r=+r,o=+o,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var c=(this._x0+4*this._x1+r)/6,h=(this._y0+4*this._y1+o)/6;this._line?this._context.lineTo(c,h):this._context.moveTo(c,h);break;case 3:this._point=4;default:F0(this,r,o)}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=o}},Jd.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var r=this._x,o=this._y,c=r.length-1;if(c>0)for(var T,h=r[0],g=o[0],y=r[c]-h,x=o[c]-g,b=-1;++b<=c;)this._basis.point(this._beta*r[b]+(1-this._beta)*(h+(T=b/c)*y),this._beta*o[b]+(1-this._beta)*(g+T*x));this._x=this._y=null,this._basis.lineEnd()},point:function(r,o){this._x.push(+r),this._y.push(+o)}};const eD=function r(o){function c(h){return 1===o?new Kd(h):new Jd(h,o)}return c.beta=function(h){return r(+h)},c}(.85);function tp(r,o,c){r._context.bezierCurveTo(r._x1+r._k*(r._x2-r._x0),r._y1+r._k*(r._y2-r._y0),r._x2+r._k*(r._x1-o),r._y2+r._k*(r._y1-c),r._x2,r._y2)}function Tc(r,o){this._context=r,this._k=(1-o)/6}Tc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:tp(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(r,o){switch(r=+r,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,o):this._context.moveTo(r,o);break;case 1:this._point=2,this._x1=r,this._y1=o;break;case 2:this._point=3;default:tp(this,r,o)}this._x0=this._x1,this._x1=this._x2,this._x2=r,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const BT=function r(o){function c(h){return new Tc(h,o)}return c.tension=function(h){return r(+h)},c}(0);function cy(r,o){this._context=r,this._k=(1-o)/6}cy.prototype={areaStart:Ml,areaEnd:Ml,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(r,o){switch(r=+r,o=+o,this._point){case 0:this._point=1,this._x3=r,this._y3=o;break;case 1:this._point=2,this._context.moveTo(this._x4=r,this._y4=o);break;case 2:this._point=3,this._x5=r,this._y5=o;break;default:tp(this,r,o)}this._x0=this._x1,this._x1=this._x2,this._x2=r,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const nD=function r(o){function c(h){return new cy(h,o)}return c.tension=function(h){return r(+h)},c}(0);function rS(r,o){this._context=r,this._k=(1-o)/6}rS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(r,o){switch(r=+r,o=+o,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:tp(this,r,o)}this._x0=this._x1,this._x1=this._x2,this._x2=r,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const $T=function r(o){function c(h){return new rS(h,o)}return c.tension=function(h){return r(+h)},c}(0);function fy(r,o,c){var h=r._x1,g=r._y1,y=r._x2,x=r._y2;if(r._l01_a>Jr){var b=2*r._l01_2a+3*r._l01_a*r._l12_a+r._l12_2a,T=3*r._l01_a*(r._l01_a+r._l12_a);h=(h*b-r._x0*r._l12_2a+r._x2*r._l01_2a)/T,g=(g*b-r._y0*r._l12_2a+r._y2*r._l01_2a)/T}if(r._l23_a>Jr){var A=2*r._l23_2a+3*r._l23_a*r._l12_a+r._l12_2a,I=3*r._l23_a*(r._l23_a+r._l12_a);y=(y*A+r._x1*r._l23_2a-o*r._l12_2a)/I,x=(x*A+r._y1*r._l23_2a-c*r._l12_2a)/I}r._context.bezierCurveTo(h,g,y,x,r._x2,r._y2)}function V0(r,o){this._context=r,this._alpha=o}V0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(r,o){if(r=+r,o=+o,this._point){var c=this._x2-r,h=this._y2-o;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+h*h,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,o):this._context.moveTo(r,o);break;case 1:this._point=2;break;case 2:this._point=3;default:fy(this,r,o)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=r,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const rD=function r(o){function c(h){return o?new V0(h,o):new Tc(h,0)}return c.alpha=function(h){return r(+h)},c}(.5);function zT(r,o){this._context=r,this._alpha=o}zT.prototype={areaStart:Ml,areaEnd:Ml,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(r,o){if(r=+r,o=+o,this._point){var c=this._x2-r,h=this._y2-o;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+h*h,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=r,this._y3=o;break;case 1:this._point=2,this._context.moveTo(this._x4=r,this._y4=o);break;case 2:this._point=3,this._x5=r,this._y5=o;break;default:fy(this,r,o)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=r,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const iD=function r(o){function c(h){return o?new zT(h,o):new cy(h,0)}return c.alpha=function(h){return r(+h)},c}(.5);function GT(r,o){this._context=r,this._alpha=o}GT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(r,o){if(r=+r,o=+o,this._point){var c=this._x2-r,h=this._y2-o;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+h*h,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:fy(this,r,o)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=r,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const UT=function r(o){function c(h){return o?new GT(h,o):new rS(h,0)}return c.alpha=function(h){return r(+h)},c}(.5);function jT(r){this._context=r}function oD(r){return new jT(r)}function HT(r){return r<0?-1:1}function WT(r,o,c){var h=r._x1-r._x0,g=o-r._x1,y=(r._y1-r._y0)/(h||g<0&&-0),x=(c-r._y1)/(g||h<0&&-0),b=(y*g+x*h)/(h+g);return(HT(y)+HT(x))*Math.min(Math.abs(y),Math.abs(x),.5*Math.abs(b))||0}function qT(r,o){var c=r._x1-r._x0;return c?(3*(r._y1-r._y0)/c-o)/2:o}function iS(r,o,c){var h=r._x0,y=r._x1,x=r._y1,b=(y-h)/3;r._context.bezierCurveTo(h+b,r._y0+b*o,y-b,x-b*c,y,x)}function nh(r){this._context=r}function Cl(r){this._context=new oS(r)}function oS(r){this._context=r}function YT(r){return new nh(r)}function da(r){return new Cl(r)}function B0(r){this._context=r}function aS(r){var o,h,c=r.length-1,g=new Array(c),y=new Array(c),x=new Array(c);for(g[0]=0,y[0]=2,x[0]=r[0]+2*r[1],o=1;o<c-1;++o)g[o]=1,y[o]=4,x[o]=4*r[o]+2*r[o+1];for(g[c-1]=2,y[c-1]=7,x[c-1]=8*r[c-1]+r[c],o=1;o<c;++o)y[o]-=h=g[o]/y[o-1],x[o]-=h*x[o-1];for(g[c-1]=x[c-1]/y[c-1],o=c-2;o>=0;--o)g[o]=(x[o]-g[o+1])/y[o];for(y[c-1]=(r[c]+g[c-1])/2,o=0;o<c-1;++o)y[o]=2*r[o+1]-g[o+1];return[g,y]}function XT(r){return new B0(r)}function ep(r,o){this._context=r,this._t=o}function sS(r){return new ep(r,.5)}function ZT(r){return new ep(r,0)}function hy(r){return new ep(r,1)}function Ec(r,o){if((x=r.length)>1)for(var h,g,x,c=1,y=r[o[0]],b=y.length;c<x;++c)for(g=y,y=r[o[c]],h=0;h<b;++h)y[h][1]+=y[h][0]=isNaN(g[h][1])?g[h][0]:g[h][1]}function pa(r){for(var o=r.length,c=new Array(o);--o>=0;)c[o]=o;return c}function Ac(r,o){return r[o]}function uS(){var r=qn([]),o=pa,c=Ec,h=Ac;function g(y){var b,F,x=r.apply(this,arguments),T=y.length,A=x.length,I=new Array(A);for(b=0;b<A;++b){for(var rt,N=x[b],Y=I[b]=new Array(T),it=0;it<T;++it)Y[it]=rt=[0,+h(y[it],N,it,y)],rt.data=y[it];Y.key=N}for(b=0,F=o(I);b<A;++b)I[F[b]].index=b;return c(I,F),I}return g.keys=function(y){return arguments.length?(r="function"==typeof y?y:qn(Xb.call(y)),g):r},g.value=function(y){return arguments.length?(h="function"==typeof y?y:qn(+y),g):h},g.order=function(y){return arguments.length?(o=null==y?pa:"function"==typeof y?y:qn(Xb.call(y)),g):o},g.offset=function(y){return arguments.length?(c=y??Ec,g):c},g}function lS(r,o){if((h=r.length)>0){for(var c,h,x,g=0,y=r[0].length;g<y;++g){for(x=c=0;c<h;++c)x+=r[c][g][1]||0;if(x)for(c=0;c<h;++c)r[c][g][1]/=x}Ec(r,o)}}function QT(r,o){if((T=r.length)>0)for(var c,g,y,x,b,T,h=0,A=r[o[0]].length;h<A;++h)for(x=b=0,c=0;c<T;++c)(y=(g=r[o[c]][h])[1]-g[0])>0?(g[0]=x,g[1]=x+=y):y<0?(g[1]=b,g[0]=b+=y):(g[0]=0,g[1]=y)}function dy(r,o){if((g=r.length)>0){for(var g,c=0,h=r[o[0]],y=h.length;c<y;++c){for(var x=0,b=0;x<g;++x)b+=r[x][c][1]||0;h[c][1]+=h[c][0]=-b/2}Ec(r,o)}}function KT(r,o){if((x=r.length)>0&&(y=(g=r[o[0]]).length)>0){for(var g,y,x,c=0,h=1;h<y;++h){for(var b=0,T=0,A=0;b<x;++b){for(var I=r[o[b]],F=I[h][1]||0,Y=(F-(I[h-1][1]||0))/2,it=0;it<b;++it){var rt=r[o[it]];Y+=(rt[h][1]||0)-(rt[h-1][1]||0)}T+=F,A+=Y*F}g[h-1][1]+=g[h-1][0]=c,T&&(c-=A/T)}g[h-1][1]+=g[h-1][0]=c,Ec(r,o)}}function cS(r){var o=r.map(fS);return pa(r).sort(function(c,h){return o[c]-o[h]})}function fS(r){for(var g,o=-1,c=0,h=r.length,y=-1/0;++o<h;)(g=+r[o][1])>y&&(y=g,c=o);return c}function hS(r){var o=r.map(py);return pa(r).sort(function(c,h){return o[c]-o[h]})}function py(r){for(var g,o=0,c=-1,h=r.length;++c<h;)(g=+r[c][1])&&(o+=g);return o}function ga(r){return hS(r).reverse()}function Ri(r){var c,h,o=r.length,g=r.map(py),y=cS(r),x=0,b=0,T=[],A=[];for(c=0;c<o;++c)h=y[c],x<b?(x+=g[h],T.push(h)):(b+=g[h],A.push(h));return A.reverse().concat(T)}function Mi(r){return pa(r).reverse()}jT.prototype={areaStart:Ml,areaEnd:Ml,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,o){r=+r,o=+o,this._point?this._context.lineTo(r,o):(this._point=1,this._context.moveTo(r,o))}},nh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:iS(this,this._t0,qT(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(r,o){var c=NaN;if(o=+o,(r=+r)!==this._x1||o!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,o):this._context.moveTo(r,o);break;case 1:this._point=2;break;case 2:this._point=3,iS(this,qT(this,c=WT(this,r,o)),c);break;default:iS(this,this._t0,c=WT(this,r,o))}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=o,this._t0=c}}},(Cl.prototype=Object.create(nh.prototype)).point=function(r,o){nh.prototype.point.call(this,o,r)},oS.prototype={moveTo:function(r,o){this._context.moveTo(o,r)},closePath:function(){this._context.closePath()},lineTo:function(r,o){this._context.lineTo(o,r)},bezierCurveTo:function(r,o,c,h,g,y){this._context.bezierCurveTo(o,r,h,c,y,g)}},B0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,o=this._y,c=r.length;if(c)if(this._line?this._context.lineTo(r[0],o[0]):this._context.moveTo(r[0],o[0]),2===c)this._context.lineTo(r[1],o[1]);else for(var h=aS(r),g=aS(o),y=0,x=1;x<c;++y,++x)this._context.bezierCurveTo(h[0][y],g[0][y],h[1][y],g[1][y],r[x],o[x]);(this._line||0!==this._line&&1===c)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,o){this._x.push(+r),this._y.push(+o)}},ep.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,o){switch(r=+r,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,o):this._context.moveTo(r,o);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,o),this._context.lineTo(r,o);else{var c=this._x*(1-this._t)+r*this._t;this._context.lineTo(c,this._y),this._context.lineTo(c,o)}}this._x=r,this._y=o}};var Qn="%Y-%m-%dT%H:%M:%S.%LZ";const aD=Date.prototype.toISOString?function si(r){return r.toISOString()}:S0(Qn),eE=+new Date("2000-01-01T00:00:00.000Z")?function JT(r){var o=new Date(r);return isNaN(o)?null:o}:b_(Qn);function nE(r,o,c){var h=new Ca,g=o;return null==o?(h.restart(r,o,c),h):(o=+o,c=null==c?Ma():+c,h.restart(function y(x){x+=g,h.restart(y,g+=o,c),r(x)},o,c),h)}function dS(r){return function(){return r}}function sD(r){return r[0]}function uD(r){return r[1]}function rh(){this._=null}function Dc(r){r.U=r.C=r.L=r.R=r.P=r.N=null}function Tl(r,o){var c=o,h=o.R,g=c.U;g?g.L===c?g.L=h:g.R=h:r._=h,h.U=g,c.U=h,c.R=h.L,c.R&&(c.R.U=c),h.L=c}function Lo(r,o){var c=o,h=o.L,g=c.U;g?g.L===c?g.L=h:g.R=h:r._=h,h.U=g,c.U=h,c.L=h.R,c.L&&(c.L.U=c),h.R=c}function $0(r){for(;r.L;)r=r.L;return r}rh.prototype={constructor:rh,insert:function(r,o){var c,h,g;if(r){if(o.P=r,o.N=r.N,r.N&&(r.N.P=o),r.N=o,r.R){for(r=r.R;r.L;)r=r.L;r.L=o}else r.R=o;c=r}else this._?(r=$0(this._),o.P=null,o.N=r,r.P=r.L=o,c=r):(o.P=o.N=null,this._=o,c=null);for(o.L=o.R=null,o.U=c,o.C=!0,r=o;c&&c.C;)c===(h=c.U).L?(g=h.R)&&g.C?(c.C=g.C=!1,h.C=!0,r=h):(r===c.R&&(Tl(this,c),c=(r=c).U),c.C=!1,h.C=!0,Lo(this,h)):(g=h.L)&&g.C?(c.C=g.C=!1,h.C=!0,r=h):(r===c.L&&(Lo(this,c),c=(r=c).U),c.C=!1,h.C=!0,Tl(this,h)),c=r.U;this._.C=!1},remove:function(r){r.N&&(r.N.P=r.P),r.P&&(r.P.N=r.N),r.N=r.P=null;var c,y,x,o=r.U,h=r.L,g=r.R;if(y=h?g?$0(g):h:g,o?o.L===r?o.L=y:o.R=y:this._=y,h&&g?(x=y.C,y.C=r.C,y.L=h,h.U=y,y!==g?(o=y.U,y.U=r.U,o.L=r=y.R,y.R=g,g.U=y):(y.U=o,o=y,r=y.R)):(x=r.C,r=y),r&&(r.U=o),!x){if(r&&r.C)return void(r.C=!1);do{if(r===this._)break;if(r===o.L){if((c=o.R).C&&(c.C=!1,o.C=!0,Tl(this,o),c=o.R),c.L&&c.L.C||c.R&&c.R.C){(!c.R||!c.R.C)&&(c.L.C=!1,c.C=!0,Lo(this,c),c=o.R),c.C=o.C,o.C=c.R.C=!1,Tl(this,o),r=this._;break}}else if((c=o.L).C&&(c.C=!1,o.C=!0,Lo(this,o),c=o.L),c.L&&c.L.C||c.R&&c.R.C){(!c.L||!c.L.C)&&(c.R.C=!1,c.C=!0,Tl(this,c),c=o.L),c.C=o.C,o.C=c.L.C=!1,Lo(this,o),r=this._;break}c.C=!0,r=o,o=o.U}while(!r.C);r&&(r.C=!1)}}};const rE=rh;function z0(r,o,c,h){var g=[null,null],y=Ro.push(g)-1;return g.left=r,g.right=o,c&&U0(g,r,o,c),h&&U0(g,o,r,h),Oa[r.index].halfedges.push(y),Oa[o.index].halfedges.push(y),g}function G0(r,o,c){var h=[o,c];return h.left=r,h}function U0(r,o,c,h){r[0]||r[1]?r.left===c?r[1]=h:r[0]=h:(r[0]=h,r.left=o,r.right=c)}function iE(r,o,c,h,g){var rt,y=r[0],x=r[1],b=y[0],T=y[1],F=0,N=1,Y=x[0]-b,it=x[1]-T;if(rt=o-b,Y||!(rt>0)){if(rt/=Y,Y<0){if(rt<F)return;rt<N&&(N=rt)}else if(Y>0){if(rt>N)return;rt>F&&(F=rt)}if(rt=h-b,Y||!(rt<0)){if(rt/=Y,Y<0){if(rt>N)return;rt>F&&(F=rt)}else if(Y>0){if(rt<F)return;rt<N&&(N=rt)}if(rt=c-T,it||!(rt>0)){if(rt/=it,it<0){if(rt<F)return;rt<N&&(N=rt)}else if(it>0){if(rt>N)return;rt>F&&(F=rt)}if(rt=g-T,it||!(rt<0)){if(rt/=it,it<0){if(rt>N)return;rt>F&&(F=rt)}else if(it>0){if(rt<F)return;rt<N&&(N=rt)}return!(F>0)&&!(N<1)||(F>0&&(r[0]=[b+F*Y,T+F*it]),N<1&&(r[1]=[b+N*Y,T+N*it])),!0}}}}}function pS(r,o,c,h,g){var y=r[1];if(y)return!0;var rt,at,x=r[0],b=r.left,T=r.right,A=b[0],I=b[1],F=T[0],N=T[1],Y=(A+F)/2;if(N===I){if(Y<o||Y>=h)return;if(A>F){if(x){if(x[1]>=g)return}else x=[Y,c];y=[Y,g]}else{if(x){if(x[1]<c)return}else x=[Y,g];y=[Y,c]}}else if(at=(I+N)/2-(rt=(A-F)/(N-I))*Y,rt<-1||rt>1)if(A>F){if(x){if(x[1]>=g)return}else x=[(c-at)/rt,c];y=[(g-at)/rt,g]}else{if(x){if(x[1]<c)return}else x=[(g-at)/rt,g];y=[(c-at)/rt,c]}else if(I<N){if(x){if(x[0]>=h)return}else x=[o,rt*o+at];y=[h,rt*h+at]}else{if(x){if(x[0]<o)return}else x=[h,rt*h+at];y=[o,rt*o+at]}return r[0]=x,r[1]=y,!0}function lD(r,o){var c=r.site,h=o.left,g=o.right;return c===g&&(g=h,h=c),g?Math.atan2(g[1]-h[1],g[0]-h[0]):(c===h?(h=o[1],g=o[0]):(h=o[0],g=o[1]),Math.atan2(h[0]-g[0],g[1]-h[1]))}function Ra(r,o){return o[+(o.left!==r.site)]}function gy(r,o){return o[+(o.left===r.site)]}var my,gS=[];function np(){Dc(this),this.x=this.y=this.arc=this.site=this.cy=null}function ih(r){var o=r.P,c=r.N;if(o&&c){var h=o.site,g=r.site,y=c.site;if(h!==y){var x=g[0],b=g[1],T=h[0]-x,A=h[1]-b,I=y[0]-x,F=y[1]-b,N=2*(T*F-A*I);if(!(N>=-cE)){var Y=T*T+A*A,it=I*I+F*F,rt=(F*Y-A*it)/N,at=(T*it-I*Y)/N,lt=gS.pop()||new np;lt.arc=r,lt.site=g,lt.x=rt+x,lt.y=(lt.cy=at+b)+Math.sqrt(rt*rt+at*at),r.circle=lt;for(var At=null,dt=El._;dt;)if(lt.y<dt.y||lt.y===dt.y&&lt.x<=dt.x){if(!dt.L){At=dt.P;break}dt=dt.L}else{if(!dt.R){At=dt;break}dt=dt.R}El.insert(At,lt),At||(my=lt)}}}}function ti(r){var o=r.circle;o&&(o.P||(my=o.N),El.remove(o),gS.push(o),Dc(o),r.circle=null)}var vn=[];function $n(){Dc(this),this.edge=this.site=this.circle=null}function mS(r){var o=vn.pop()||new $n;return o.site=r,o}function oh(r){ti(r),yr.remove(r),vn.push(r),Dc(r)}function Fu(r){var o=r.circle,c=o.x,h=o.cy,g=[c,h],y=r.P,x=r.N,b=[r];oh(r);for(var T=y;T.circle&&Math.abs(c-T.circle.x)<Cn&&Math.abs(h-T.circle.cy)<Cn;)y=T.P,b.unshift(T),oh(T),T=y;b.unshift(T),ti(T);for(var A=x;A.circle&&Math.abs(c-A.circle.x)<Cn&&Math.abs(h-A.circle.cy)<Cn;)x=A.N,b.push(A),oh(A),A=x;b.push(A),ti(A);var F,I=b.length;for(F=1;F<I;++F)U0((A=b[F]).edge,(T=b[F-1]).site,A.site,g);(A=b[I-1]).edge=z0((T=b[0]).site,A.site,null,g),ih(T),ih(A)}function j0(r){for(var h,g,y,x,o=r[0],c=r[1],b=yr._;b;)if((y=rs(b,c)-o)>Cn)b=b.L;else{if(!((x=o-lE(b,c))>Cn)){y>-Cn?(h=b.P,g=b):x>-Cn?(h=b,g=b.N):h=g=b;break}if(!b.R){h=b;break}b=b.R}!function aE(r){Oa[r.index]={site:r,halfedges:[]}}(r);var T=mS(r);if(yr.insert(h,T),h||g){if(h===g)return ti(h),g=mS(h.site),yr.insert(T,g),T.edge=g.edge=z0(h.site,T.site),ih(h),void ih(g);if(!g)return void(T.edge=z0(h.site,T.site));ti(h),ti(g);var A=h.site,I=A[0],F=A[1],N=r[0]-I,Y=r[1]-F,it=g.site,rt=it[0]-I,at=it[1]-F,lt=2*(N*at-Y*rt),At=N*N+Y*Y,dt=rt*rt+at*at,St=[(at*At-Y*dt)/lt+I,(N*dt-rt*At)/lt+F];U0(g.edge,A,it,St),T.edge=z0(A,r,null,St),g.edge=z0(r,it,null,St),ih(h),ih(g)}}function rs(r,o){var c=r.site,h=c[0],g=c[1],y=g-o;if(!y)return h;var x=r.P;if(!x)return-1/0;var b=(c=x.site)[0],T=c[1],A=T-o;if(!A)return b;var I=b-h,F=1/y-1/A,N=I/A;return F?(-N+Math.sqrt(N*N-2*F*(I*I/(-2*A)-T+A/2+g-y/2)))/F+h:(h+b)/2}function lE(r,o){var c=r.N;if(c)return rs(c,o);var h=r.site;return h[1]===o?h[0]:1/0}var yr,Oa,El,Ro,Cn=1e-6,cE=1e-12;function H0(r,o,c){return(r[0]-c[0])*(o[1]-r[1])-(r[0]-o[0])*(c[1]-r[1])}function fE(r,o){return o[1]-r[1]||o[0]-r[0]}function W0(r,o){var h,g,y,c=r.sort(fE).pop();for(Ro=[],Oa=new Array(r.length),yr=new rE,El=new rE;;)if(y=my,c&&(!y||c[1]<y.y||c[1]===y.y&&c[0]<y.x))(c[0]!==h||c[1]!==g)&&(j0(c),h=c[0],g=c[1]),c=r.pop();else{if(!y)break;Fu(y.arc)}if(function sE(){for(var c,h,g,y,r=0,o=Oa.length;r<o;++r)if((c=Oa[r])&&(y=(h=c.halfedges).length)){var x=new Array(y),b=new Array(y);for(g=0;g<y;++g)x[g]=g,b[g]=lD(c,Ro[h[g]]);for(x.sort(function(T,A){return b[A]-b[T]}),g=0;g<y;++g)b[g]=h[x[g]];for(g=0;g<y;++g)h[g]=b[g]}}(),o){var x=+o[0][0],b=+o[0][1],T=+o[1][0],A=+o[1][1];(function oE(r,o,c,h){for(var y,g=Ro.length;g--;)pS(y=Ro[g],r,o,c,h)&&iE(y,r,o,c,h)&&(Math.abs(y[0][0]-y[1][0])>Cn||Math.abs(y[0][1]-y[1][1])>Cn)||delete Ro[g]})(x,b,T,A),function uE(r,o,c,h){var y,x,b,T,A,I,F,N,Y,it,rt,at,g=Oa.length,lt=!0;for(y=0;y<g;++y)if(x=Oa[y]){for(b=x.site,T=(A=x.halfedges).length;T--;)Ro[A[T]]||A.splice(T,1);for(T=0,I=A.length;T<I;)rt=(it=gy(x,Ro[A[T]]))[0],at=it[1],N=(F=Ra(x,Ro[A[++T%I]]))[0],Y=F[1],(Math.abs(rt-N)>Cn||Math.abs(at-Y)>Cn)&&(A.splice(T,0,Ro.push(G0(b,it,Math.abs(rt-r)<Cn&&h-at>Cn?[r,Math.abs(N-r)<Cn?Y:h]:Math.abs(at-h)<Cn&&c-rt>Cn?[Math.abs(Y-h)<Cn?N:c,h]:Math.abs(rt-c)<Cn&&at-o>Cn?[c,Math.abs(N-c)<Cn?Y:o]:Math.abs(at-o)<Cn&&rt-r>Cn?[Math.abs(Y-o)<Cn?N:r,o]:null))-1),++I);I&&(lt=!1)}if(lt){var At,dt,St,jt=1/0;for(y=0,lt=null;y<g;++y)(x=Oa[y])&&(St=(At=(b=x.site)[0]-r)*At+(dt=b[1]-o)*dt)<jt&&(jt=St,lt=x);if(lt){var Kt=[r,o],Xt=[r,h],ve=[c,h],se=[c,o];lt.halfedges.push(Ro.push(G0(b=lt.site,Kt,Xt))-1,Ro.push(G0(b,Xt,ve))-1,Ro.push(G0(b,ve,se))-1,Ro.push(G0(b,se,Kt))-1)}}for(y=0;y<g;++y)(x=Oa[y])&&(x.halfedges.length||delete Oa[y])}(x,b,T,A)}this.edges=Ro,this.cells=Oa,yr=El=Ro=Oa=null}function vy(){var r=sD,o=uD,c=null;function h(g){return new W0(g.map(function(y,x){var b=[Math.round(r(y,x,g)/Cn)*Cn,Math.round(o(y,x,g)/Cn)*Cn];return b.index=x,b.data=y,b}),c)}return h.polygons=function(g){return h(g).polygons()},h.links=function(g){return h(g).links()},h.triangles=function(g){return h(g).triangles()},h.x=function(g){return arguments.length?(r="function"==typeof g?g:dS(+g),h):r},h.y=function(g){return arguments.length?(o="function"==typeof g?g:dS(+g),h):o},h.extent=function(g){return arguments.length?(c=null==g?null:[[+g[0][0],+g[0][1]],[+g[1][0],+g[1][1]]],h):c&&[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},h.size=function(g){return arguments.length?(c=null==g?null:[[0,0],[+g[0],+g[1]]],h):c&&[c[1][0]-c[0][0],c[1][1]-c[0][1]]},h}function Pc(r){return function(){return r}}function _y(r,o,c){this.target=r,this.type=o,this.transform=c}function Vu(r,o,c){this.k=r,this.x=o,this.y=c}W0.prototype={constructor:W0,polygons:function(){var r=this.edges;return this.cells.map(function(o){var c=o.halfedges.map(function(h){return Ra(o,r[h])});return c.data=o.site.data,c})},triangles:function(){var r=[],o=this.edges;return this.cells.forEach(function(c,h){if(b=(y=c.halfedges).length)for(var y,b,T,g=c.site,x=-1,A=o[y[b-1]],I=A.left===g?A.right:A.left;++x<b;)T=I,I=(A=o[y[x]]).left===g?A.right:A.left,T&&I&&h<T.index&&h<I.index&&H0(g,T,I)<0&&r.push([g.data,T.data,I.data])}),r},links:function(){return this.edges.filter(function(r){return r.right}).map(function(r){return{source:r.left.data,target:r.right.data}})},find:function(r,o,c){for(var g,b,h=this,y=h._found||0,x=h.cells.length;!(b=h.cells[y]);)if(++y>=x)return null;var T=r-b.site[0],A=o-b.site[1],I=T*T+A*A;do{b=h.cells[g=y],y=null,b.halfedges.forEach(function(F){var N=h.edges[F],Y=N.left;if(Y!==b.site&&Y||(Y=N.right)){var it=r-Y[0],rt=o-Y[1],at=it*it+rt*rt;at<I&&(I=at,y=Y.index)}})}while(null!==y);return h._found=g,null==c||I<=c*c?b.site:null}},Vu.prototype={constructor:Vu,scale:function(r){return 1===r?this:new Vu(this.k*r,this.x,this.y)},translate:function(r,o){return 0===r&0===o?this:new Vu(this.k,this.x+this.k*r,this.y+this.k*o)},apply:function(r){return[r[0]*this.k+this.x,r[1]*this.k+this.y]},applyX:function(r){return r*this.k+this.x},applyY:function(r){return r*this.k+this.y},invert:function(r){return[(r[0]-this.x)/this.k,(r[1]-this.y)/this.k]},invertX:function(r){return(r-this.x)/this.k},invertY:function(r){return(r-this.y)/this.k},rescaleX:function(r){return r.copy().domain(r.range().map(this.invertX,this).map(r.invert,r))},rescaleY:function(r){return r.copy().domain(r.range().map(this.invertY,this).map(r.invert,r))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var rp=new Vu(1,0,0);function vS(r){for(;!r.__zoom;)if(!(r=r.parentNode))return rp;return r.__zoom}function yy(){ke.stopImmediatePropagation()}function ip(){ke.preventDefault(),ke.stopImmediatePropagation()}function hE(){return!ke.ctrlKey&&!ke.button}function _S(){var r=this;return r instanceof SVGElement?(r=r.ownerSVGElement||r).hasAttribute("viewBox")?[[(r=r.viewBox.baseVal).x,r.y],[r.x+r.width,r.y+r.height]]:[[0,0],[r.width.baseVal.value,r.height.baseVal.value]]:[[0,0],[r.clientWidth,r.clientHeight]]}function yS(){return this.__zoom||rp}function wS(){return-ke.deltaY*(1===ke.deltaMode?.05:ke.deltaMode?1:.002)}function q0(){return navigator.maxTouchPoints||"ontouchstart"in this}function op(r,o,c){var h=r.invertX(o[0][0])-c[0][0],g=r.invertX(o[1][0])-c[1][0],y=r.invertY(o[0][1])-c[0][1],x=r.invertY(o[1][1])-c[1][1];return r.translate(g>h?(h+g)/2:Math.min(0,h)||Math.max(0,g),x>y?(y+x)/2:Math.min(0,y)||Math.max(0,x))}function dE(){var I,F,r=hE,o=_S,c=op,h=wS,g=q0,y=[0,1/0],x=[[-1/0,-1/0],[1/0,1/0]],b=250,T=Bv,A=Xr("start","zoom","end"),N=500,Y=150,it=0;function rt(It){It.property("__zoom",yS).on("wheel.zoom",Kt).on("mousedown.zoom",Xt).on("dblclick.zoom",ve).filter(g).on("touchstart.zoom",se).on("touchmove.zoom",pe).on("touchend.zoom touchcancel.zoom",ie).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function at(It,Jt){return(Jt=Math.max(y[0],Math.min(y[1],Jt)))===It.k?It:new Vu(Jt,It.x,It.y)}function lt(It,Jt,Se){var Qt=Jt[0]-Se[0]*It.k,ye=Jt[1]-Se[1]*It.k;return Qt===It.x&&ye===It.y?It:new Vu(It.k,Qt,ye)}function At(It){return[(+It[0][0]+ +It[1][0])/2,(+It[0][1]+ +It[1][1])/2]}function dt(It,Jt,Se){It.on("start.zoom",function(){St(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){St(this,arguments).end()}).tween("zoom",function(){var Qt=this,ye=arguments,je=St(Qt,ye),$e=o.apply(Qt,ye),Ke=null==Se?At($e):"function"==typeof Se?Se.apply(Qt,ye):Se,Dn=Math.max($e[1][0]-$e[0][0],$e[1][1]-$e[0][1]),Rn=Qt.__zoom,Wr="function"==typeof Jt?Jt.apply(Qt,ye):Jt,Fr=T(Rn.invert(Ke).concat(Dn/Rn.k),Wr.invert(Ke).concat(Dn/Wr.k));return function(vr){if(1===vr)vr=Wr;else{var wr=Fr(vr),is=Dn/wr[2];vr=new Vu(is,Ke[0]-wr[0]*is,Ke[1]-wr[1]*is)}je.zoom(null,vr)}})}function St(It,Jt,Se){return!Se&&It.__zooming||new jt(It,Jt)}function jt(It,Jt){this.that=It,this.args=Jt,this.active=0,this.extent=o.apply(It,Jt),this.taps=0}function Kt(){if(r.apply(this,arguments)){var It=St(this,arguments),Jt=this.__zoom,Se=Math.max(y[0],Math.min(y[1],Jt.k*Math.pow(2,h.apply(this,arguments)))),Qt=Sa(this);if(It.wheel)(It.mouse[0][0]!==Qt[0]||It.mouse[0][1]!==Qt[1])&&(It.mouse[1]=Jt.invert(It.mouse[0]=Qt)),clearTimeout(It.wheel);else{if(Jt.k===Se)return;It.mouse=[Qt,Jt.invert(Qt)],uo(this),It.start()}ip(),It.wheel=setTimeout(function ye(){It.wheel=null,It.end()},Y),It.zoom("mouse",c(lt(at(Jt,Se),It.mouse[0],It.mouse[1]),It.extent,x))}}function Xt(){if(!F&&r.apply(this,arguments)){var It=St(this,arguments,!0),Jt=_i(ke.view).on("mousemove.zoom",function je(){if(ip(),!It.moved){var Ke=ke.clientX-Qt,Dn=ke.clientY-ye;It.moved=Ke*Ke+Dn*Dn>it}It.zoom("mouse",c(lt(It.that.__zoom,It.mouse[0]=Sa(It.that),It.mouse[1]),It.extent,x))},!0).on("mouseup.zoom",function $e(){Jt.on("mousemove.zoom mouseup.zoom",null),$o(ke.view,It.moved),ip(),It.end()},!0),Se=Sa(this),Qt=ke.clientX,ye=ke.clientY;fs(ke.view),yy(),It.mouse=[Se,this.__zoom.invert(Se)],uo(this),It.start()}}function ve(){if(r.apply(this,arguments)){var It=this.__zoom,Jt=Sa(this),Se=It.invert(Jt),ye=c(lt(at(It,It.k*(ke.shiftKey?.5:2)),Jt,Se),o.apply(this,arguments),x);ip(),b>0?_i(this).transition().duration(b).call(dt,ye,Jt):_i(this).call(rt.transform,ye)}}function se(){if(r.apply(this,arguments)){var Qt,ye,je,$e,It=ke.touches,Jt=It.length,Se=St(this,arguments,ke.changedTouches.length===Jt);for(yy(),ye=0;ye<Jt;++ye)$e=[$e=sa(this,It,(je=It[ye]).identifier),this.__zoom.invert($e),je.identifier],Se.touch0?!Se.touch1&&Se.touch0[2]!==$e[2]&&(Se.touch1=$e,Se.taps=0):(Se.touch0=$e,Qt=!0,Se.taps=1+!!I);I&&(I=clearTimeout(I)),Qt&&(Se.taps<2&&(I=setTimeout(function(){I=null},N)),uo(this),Se.start())}}function pe(){if(this.__zooming){var Qt,ye,je,$e,It=St(this,arguments),Jt=ke.changedTouches,Se=Jt.length;for(ip(),I&&(I=clearTimeout(I)),It.taps=0,Qt=0;Qt<Se;++Qt)je=sa(this,Jt,(ye=Jt[Qt]).identifier),It.touch0&&It.touch0[2]===ye.identifier?It.touch0[0]=je:It.touch1&&It.touch1[2]===ye.identifier&&(It.touch1[0]=je);if(ye=It.that.__zoom,It.touch1){var Ke=It.touch0[0],Dn=It.touch0[1],Rn=It.touch1[0],Wr=It.touch1[1],Fr=(Fr=Rn[0]-Ke[0])*Fr+(Fr=Rn[1]-Ke[1])*Fr,vr=(vr=Wr[0]-Dn[0])*vr+(vr=Wr[1]-Dn[1])*vr;ye=at(ye,Math.sqrt(Fr/vr)),je=[(Ke[0]+Rn[0])/2,(Ke[1]+Rn[1])/2],$e=[(Dn[0]+Wr[0])/2,(Dn[1]+Wr[1])/2]}else{if(!It.touch0)return;je=It.touch0[0],$e=It.touch0[1]}It.zoom("touch",c(lt(ye,je,$e),It.extent,x))}}function ie(){if(this.__zooming){var Qt,ye,It=St(this,arguments),Jt=ke.changedTouches,Se=Jt.length;for(yy(),F&&clearTimeout(F),F=setTimeout(function(){F=null},N),Qt=0;Qt<Se;++Qt)ye=Jt[Qt],It.touch0&&It.touch0[2]===ye.identifier?delete It.touch0:It.touch1&&It.touch1[2]===ye.identifier&&delete It.touch1;if(It.touch1&&!It.touch0&&(It.touch0=It.touch1,delete It.touch1),It.touch0)It.touch0[1]=this.__zoom.invert(It.touch0[0]);else if(It.end(),2===It.taps){var je=_i(this).on("dblclick.zoom");je&&je.apply(this,arguments)}}}return rt.transform=function(It,Jt,Se){var Qt=It.selection?It.selection():It;Qt.property("__zoom",yS),It!==Qt?dt(It,Jt,Se):Qt.interrupt().each(function(){St(this,arguments).start().zoom(null,"function"==typeof Jt?Jt.apply(this,arguments):Jt).end()})},rt.scaleBy=function(It,Jt,Se){rt.scaleTo(It,function(){return this.__zoom.k*("function"==typeof Jt?Jt.apply(this,arguments):Jt)},Se)},rt.scaleTo=function(It,Jt,Se){rt.transform(It,function(){var Qt=o.apply(this,arguments),ye=this.__zoom,je=null==Se?At(Qt):"function"==typeof Se?Se.apply(this,arguments):Se,$e=ye.invert(je),Ke="function"==typeof Jt?Jt.apply(this,arguments):Jt;return c(lt(at(ye,Ke),je,$e),Qt,x)},Se)},rt.translateBy=function(It,Jt,Se){rt.transform(It,function(){return c(this.__zoom.translate("function"==typeof Jt?Jt.apply(this,arguments):Jt,"function"==typeof Se?Se.apply(this,arguments):Se),o.apply(this,arguments),x)})},rt.translateTo=function(It,Jt,Se,Qt){rt.transform(It,function(){var ye=o.apply(this,arguments),je=this.__zoom,$e=null==Qt?At(ye):"function"==typeof Qt?Qt.apply(this,arguments):Qt;return c(rp.translate($e[0],$e[1]).scale(je.k).translate("function"==typeof Jt?-Jt.apply(this,arguments):-Jt,"function"==typeof Se?-Se.apply(this,arguments):-Se),ye,x)},Qt)},jt.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(It,Jt){return this.mouse&&"mouse"!==It&&(this.mouse[1]=Jt.invert(this.mouse[0])),this.touch0&&"touch"!==It&&(this.touch0[1]=Jt.invert(this.touch0[0])),this.touch1&&"touch"!==It&&(this.touch1[1]=Jt.invert(this.touch1[0])),this.that.__zoom=Jt,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(It){ni(new _y(rt,It,this.that.__zoom),A.apply,A,[It,this.that,this.args])}},rt.wheelDelta=function(It){return arguments.length?(h="function"==typeof It?It:Pc(+It),rt):h},rt.filter=function(It){return arguments.length?(r="function"==typeof It?It:Pc(!!It),rt):r},rt.touchable=function(It){return arguments.length?(g="function"==typeof It?It:Pc(!!It),rt):g},rt.extent=function(It){return arguments.length?(o="function"==typeof It?It:Pc([[+It[0][0],+It[0][1]],[+It[1][0],+It[1][1]]]),rt):o},rt.scaleExtent=function(It){return arguments.length?(y[0]=+It[0],y[1]=+It[1],rt):[y[0],y[1]]},rt.translateExtent=function(It){return arguments.length?(x[0][0]=+It[0][0],x[1][0]=+It[1][0],x[0][1]=+It[0][1],x[1][1]=+It[1][1],rt):[[x[0][0],x[0][1]],[x[1][0],x[1][1]]]},rt.constrain=function(It){return arguments.length?(c=It,rt):c},rt.duration=function(It){return arguments.length?(b=+It,rt):b},rt.interpolate=function(It){return arguments.length?(T=It,rt):T},rt.on=function(){var It=A.on.apply(A,arguments);return It===A?rt:It},rt.clickDistance=function(It){return arguments.length?(it=(It=+It)*It,rt):Math.sqrt(it)},rt}vS.prototype=Vu.prototype},927:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var k=function(a,l){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return function Ft(a,l){var d=[],_=!0,E=!1,O=void 0;try{for(var W,j=a[Symbol.iterator]();!(_=(W=j.next()).done)&&(d.push(W.value),!l||d.length!==l);_=!0);}catch(ut){E=!0,O=ut}finally{try{!_&&j.return&&j.return()}finally{if(E)throw O}}return d}(a,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")},xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ft){return typeof Ft}:function(Ft){return Ft&&"function"==typeof Symbol&&Ft.constructor===Symbol&&Ft!==Symbol.prototype?"symbol":typeof Ft},zt=function(){function Ft(a,l){for(var d=0;d<l.length;d++){var _=l[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(a,_.key,_)}}return function(a,l,d){return l&&Ft(a.prototype,l),d&&Ft(a,d),a}}();kt.transformParameter=Nt,kt.transformDomain=oe;var Rt=vt(_t(6507)),Ot=vt(_t(3604)),Pt=_t(1237),Ct=_t(688),ht=_t(57),J=_t(4335);function vt(Ft){return Ft&&Ft.__esModule?Ft:{default:Ft}}function Tt(Ft){if(Array.isArray(Ft)){for(var a=0,l=Array(Ft.length);a<Ft.length;a++)l[a]=Ft[a];return l}return Array.from(Ft)}var nt=function(){function Ft(a,l){(function $t(Ft,a){if(!(Ft instanceof a))throw new TypeError("Cannot call a class as a function")})(this,Ft),this._covjson=a,this.type=Ct.COVERAGE,this.ld={},this._exposeLd(a),this.prefixes=(0,ht.getNamespacePrefixes)(this.ld),this.options=l?(0,ht.shallowcopy)(l):{},this.id=a.id,this.parameters=new Map;var d=!0,_=!1,E=void 0;try{for(var j,O=Object.keys(a.parameters)[Symbol.iterator]();!(d=(j=O.next()).done);d=!0){var W=j.value;Nt(a.parameters,W),this.parameters.set(W,a.parameters[W])}}catch(ot){_=!0,E=ot}finally{try{!d&&O.return&&O.return()}finally{if(_)throw E}}var ut=void 0;(ut="string"==typeof this._covjson.domain?this._covjson.domainType:this._covjson.domain.domainType||this._covjson.domainType)&&-1===ut.indexOf(":")&&(ut=ht.DOMAINTYPES_PREFIX+ut),this.domainType=ut,this._updateLoadStatus()}return zt(Ft,[{key:"_updateLoadStatus",value:function(){var l=this,d=function(j){return"object"===(typeof j>"u"?"undefined":xt(j))},_=d(this._covjson.domain),E=Object.keys(this._covjson.ranges).every(function(O){return d(l._covjson.ranges[O])});this.loaded=_&&E}},{key:"_exposeLd",value:function(l){if(l["@context"]){var d=(0,ht.shallowcopy)(l);delete d.domain,delete d.ranges,this.ld=JSON.parse(JSON.stringify(d))}}},{key:"loadDomain",value:function(){var l=this,d=this._covjson.domain;if(this._domainPromise)return this._domainPromise;var _=void 0;if("object"===(typeof d>"u"?"undefined":xt(d))){var E=d;oe(E,this.options.referencing,this.domainType),_=Promise.resolve(E)}else _=(0,J.load)(d).then(function(j){var W=j.data;return oe(W,l.options.referencing,l.domainType),l._covjson.domain=W,l._updateLoadStatus(),W});return this._domainPromise=_,_}},{key:"loadRange",value:function(l){return V(this)(l)}},{key:"loadRanges",value:function(l){return X(this)(l)}},{key:"subsetByIndex",value:function(l){return yt(this)(l)}},{key:"subsetByValue",value:function(l){return(0,Pt.subsetByValue)(this,l)}}]),Ft}();function q(Ft,a){if(!Ft)return a._axisNames;var l=[].concat(Tt(Ft.axes.values())).filter(function(_){return _.values.length>1}).length>1,d=Ft._rangeAxisOrder||a._axisNames;if(l&&!d)throw new Error("Range axis order missing");return d||[].concat(Tt(Ft.axes.keys()))}function X(Ft){return function(a){return void 0===a&&(a=Ft.parameters.keys()),a=Array.from(a),Promise.all(a.map(function(l){return Ft.loadRange(l)})).then(function(l){for(var d=new Map,_=0;_<a.length;_++)d.set(a[_],l[_]);return d})}}function V(Ft,a){return function(l){return Ft.loadDomain().then(function(){var d=Ft._covjson.ranges[l];return"object"===(typeof d>"u"?"undefined":xt(d))?Z(Ft,l,d,Ft._covjson.domain,a):(0,J.load)(d).then(function(O){return Z(Ft,l,O.data,Ft._covjson.domain,a)})})}}function Z(Ft,a,l,d){var _=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(_=(0,Pt.normalizeIndexSubsetConstraints)(d,_),"NdArray"===l.type||"Range"===l.type){qt(l,d),Ft.options.cacheRanges&&(Ft._covjson.ranges[a]=l,Ft._updateLoadStatus());var E=function z(Ft,a,l){var d,_,E=Ft._ndarr,O=q(a,Ft),j=O.map(function(Lt){return l[Lt].start}),W=O.map(function(Lt){return l[Lt].stop}),ut=O.map(function(Lt){return l[Lt].step}),ot=(d=(_=E.hi.apply(E,Tt(W))).lo.apply(_,Tt(j))).step.apply(d,Tt(ut)),wt={dataType:Ft.dataType,get:ne(ot,O),_ndarr:ot,_axisNames:O,_shape:ot.shape};return wt.shape=new Map(O.map(function(Lt,Ht){return[Lt,ot.shape[Ht]]})),wt}(l,d,_);return Promise.resolve(E)}if("TiledNdArray"===l.type)return function $(Ft,a){for(var l=Ft.axisNames.map(function(Sn){return a[Sn]}),d=function(cn){return cn.map(function(Gn,In){return null===Gn?Ft.shape[In]:Gn})},E=function pt(Ft){var l=Ft.map(function(_){return _.tileCount+_.valueCount/1e3}),d=l.reduce(function(_,E,O,j){return E<j[_]?O:_},0);return d}(Ft.tileSets.map(function(Sn){return function bt(Ft,a){for(var l=1,d=0;d<Ft.length;d++){var _=a[d],O=_.stop,j=_.step,W=Ft[d],ut=Math.floor(_.start/W),ot=Math.ceil(O/W);l*=Math.ceil(W*(ot-ut)/Math.max(j,W))}var Lt=l*Ft.reduce(function(Ht,Ut){return Ht*Ut});return{tileCount:l,valueCount:Lt}}(d(Sn.tileShape),l)})),O=Ft.tileSets[E],j=Ot.default.parse(O.urlTemplate),W=d(O.tileShape),ut=[],ot=0;ot<W.length;ot++){for(var wt=l[ot],Lt=wt.start,Ht=wt.stop,Ut=wt.step,Wt=W[ot],de=Math.floor(Lt/Wt),ae=Math.ceil(Ht/Wt),Ce=[],Ue=de;Ue<ae;Ue++){var yn=Math.floor(((Ue+.5)*Wt-Lt)/Ut);(Lt+yn*Ut>=Ue*Wt||(Ue+1)*Wt<=Lt+(yn+1)*Ut)&&Ce.push(Ue)}ut.push(Ce)}var Nn=ct(ut),Le=l.map(function(Sn){var cn=Sn.start,Gn=Sn.stop,In=Sn.step;return Math.floor((Gn-cn)/In)+(Gn-cn)%In});function De(Sn){var cn={};return Sn.forEach(function(Gn,In){return cn[Ft.axisNames[In]]=Gn}),j.expand(cn)}if(1===Nn.length&&Le.every(function(Sn,cn){return Sn===W[cn]})){var le=De(Nn[0]);return(0,J.load)(le).then(function(Sn){var cn=Sn.data;return qt(cn),cn})}var Sn,cn,Gn,bn=(Sn=Le.reduce(function(In,dr){return In*dr}),cn=(0,Rt.default)(new Array(Sn),Le),Gn=Nn.map(function(In){var dr=De(In);return(0,J.load)(dr).then(function(Jn){var _e=Jn.data;qt(_e);for(var We=In.map(function(eo,ss){return eo*W[ss]}),Dr=[],Gr=0;Gr<W.length;Gr++){var Pr=l[Gr],lr=Pr.start,ir=Pr.stop,Vr=Pr.step,ui=We[Gr],qr=[],en=0;ui<lr&&(en=lr-ui);var to=W[Gr];ui+to>ir&&(to=ir-ui);for(var Yr=en;Yr<to;Yr++)(ui+Yr-lr)%Vr==0&&qr.push(Yr);Dr.push(qr)}var Zr=ct(Dr),No=!0,os=!1,Na=void 0;try{for(var ei,Jo=Zr[Symbol.iterator]();!(No=(ei=Jo.next()).done);No=!0){var as,va=ei.value,zu=(as=_e._ndarr).get.apply(as,Tt(va)),Il=va.map(function(eo,ss){return Math.floor((We[ss]+eo-l[ss].start)/l[ss].step)});cn.set.apply(cn,Tt(Il).concat([zu]))}}catch(eo){os=!0,Na=eo}finally{try{!No&&Jo.return&&Jo.return()}finally{if(os)throw Na}}})}),{v:Promise.all(Gn).then(function(){var In={dataType:Ft.dataType,get:ne(cn,Ft.axisNames),_ndarr:cn,_axisNames:Ft.axisNames,_shape:Le};return In.shape=new Map(Ft.axisNames.map(function(dr,Jn){return[dr,cn.shape[Jn]]})),In})});if("object"===(typeof bn>"u"?"undefined":xt(bn)))return bn.v}(l,_);throw new Error("Unsupported: "+l.type)}function ct(Ft){return Ft.reduce(function(a,l){return a.map(function(d){return l.map(function(_){return d.concat(_)})}).reduce(function(d,_){return d.concat(_)},[])},[[]])}function yt(Ft,a){return function(l){return Ft.loadDomain().then(function(d){l=(0,Pt.normalizeIndexSubsetConstraints)(d,l);var _=(0,Pt.subsetDomainByIndex)(d,l),E=function ge(Ft){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l={},d=!0,_=!1,E=void 0;try{for(var j,O=Object.keys(Ft)[Symbol.iterator]();!(d=(j=O.next()).done);d=!0){var W=j.value,ut=Ft[W],ot=a[W]||{},wt=ot.start,Lt=void 0===wt?0:wt,Ht=ot.step,Ut=void 0===Ht?1:Ht;l[W]={start:Lt+Ut*ut.start,stop:Lt+Ut*ut.stop,step:Ut*ut.step}}}catch(Wt){_=!0,E=Wt}finally{try{!d&&O.return&&O.return()}finally{if(_)throw E}}return l}(l,a);d._rangeAxisOrder&&(_._rangeAxisOrder=d._rangeAxisOrder);var O={_covjson:Ft._covjson,options:Ft.options,type:Ct.COVERAGE,domainProfiles:Ft.domainProfiles,domainType:Ft.domainType,parameters:Ft.parameters,loadDomain:function(){return Promise.resolve(_)}};return O.loadRange=V(O,E),O.loadRanges=X(O),O.subsetByIndex=yt(O,E),O.subsetByValue=Pt.subsetByValue.bind(null,O),O})}}function Nt(Ft,a){if(!("__transformDone"in Ft[a])){var l=Ft[a];if(l.key=a,l.unit&&"string"==typeof l.unit.symbol&&(l.unit.symbol={value:l.unit.symbol}),l.categoryEncoding){var d=new Map,_=!0,E=!1,O=void 0;try{for(var W,j=Object.keys(l.categoryEncoding)[Symbol.iterator]();!(_=(W=j.next()).done);_=!0){var ut=W.value,ot=l.categoryEncoding[ut];Array.isArray(ot)||(ot=[ot]),d.set(ut,ot)}}catch(wt){E=!0,O=wt}finally{try{!_&&j.return&&j.return()}finally{if(E)throw O}}l.categoryEncoding=d}l.__transformDone=!0}}function qt(Ft,a){if(!("__transformDone"in Ft)){var l=Ft.values;if(void 0===Ft.actualMin){var d=(0,Pt.minMax)(l),_=k(d,2),E=_[0],O=_[1];null!==E&&(Ft.actualMin=E,Ft.actualMax=O)}Ft.shape&&(Ft._shape=Ft.shape),Ft.axisNames&&(Ft._axisNames=Ft.axisNames,delete Ft.axisNames);var j=q(a,Ft),W=function K(Ft,a){if(!Ft)return a._shape;var d=q(Ft,a).map(function(E){return Ft.axes.get(E).values.length});if(a._shape&&(a._shape.length!==d.length||!a._shape.every(function(E,O){return E===d[O]})))throw new Error("range.shape must match domain axis sizes");return d}(a,Ft),ut=(0,Rt.default)(l,W);return Ft._ndarr=ut,Ft.get=ne(ut,j),Ft.shape=new Map(j.map(function(ot,wt){return[ot,W[wt]]})),Ft.__transformDone=!0,Ft}}function ne(Ft,a){for(var l="",d=0;d<a.length;d++)l&&(l+=","),l+="'"+a[d]+"' in obj ? obj['"+a[d]+"'] : 0";return new Function("ndarr","return function ndarrget (obj) { return ndarr.get("+l+") }")(Ft)}function oe(Ft,a,l){if(!("__transformDone"in Ft)){(l=Ft.domainType||l)&&-1===l.indexOf(":")&&(l=ht.DOMAINTYPES_PREFIX+l),Ft.domainType=l;var d=new Map,_=!0,E=!1,O=void 0;try{for(var W,j=Object.keys(Ft.axes)[Symbol.iterator]();!(_=(W=j.next()).done);_=!0){var ut=W.value;d.set(ut,Ft.axes[ut])}}catch(le){E=!0,O=le}finally{try{!_&&j.return&&j.return()}finally{if(E)throw O}}Ft.axes=d;var ot=!0,wt=!1,Lt=void 0;try{for(var Ut,Ht=d[Symbol.iterator]();!(ot=(Ut=Ht.next()).done);ot=!0){var Wt=k(Ut.value,2),de=Wt[0],ae=Wt[1];if(ae.key=de,ae.dataType&&-1===ae.dataType.indexOf(":")&&(ae.dataType=ht.CORE_PREFIX+ae.dataType),ae.components&&(ae.coordinates=ae.components),ae.coordinates||(ae.coordinates=[de]),ae.components=ae.coordinates,"start"in ae&&"stop"in ae&&"num"in ae){var Ce=new Float64Array(ae.num),Ue=void 0;if(1===ae.num){if(ae.start!==ae.stop)throw new Error("regular axis of length 1 must have equal start/stop values");Ue=0}else Ue=(ae.stop-ae.start)/(ae.num-1);for(var nn=0;nn<ae.num;nn++)Ce[nn]=ae.start+nn*Ue;ae.values=Ce,delete ae.start,delete ae.stop,delete ae.num}if(Array.isArray(ae.values)&&"number"==typeof ae.values[0]){for(var yn=new Float64Array(ae.values.length),on=0;on<ae.values.length;on++)yn[on]=ae.values[on];ae.values=yn}ae.bounds=ce(ae)}}catch(le){wt=!0,Lt=le}finally{try{!ot&&Ht.return&&Ht.return()}finally{if(wt)throw Lt}}a&&(Ft.referencing=a);var dn=!0,an=!1,He=void 0;try{for(var Le,Nn=Ft.referencing[Symbol.iterator]();!(dn=(Le=Nn.next()).done);dn=!0){var De=Le.value;De.components&&(De.coordinates=De.components)}}catch(le){an=!0,He=le}finally{try{!dn&&Nn.return&&Nn.return()}finally{if(an)throw He}}return Ft.rangeAxisOrder&&(Ft._rangeAxisOrder=Ft.rangeAxisOrder,delete Ft.rangeAxisOrder),Ft.__transformDone=!0,Ft}}function ce(Ft){if(Ft.bounds){var a=(l=Ft.bounds,{v:{get:function(_){return[l[2*_],l[2*_+1]]}}});if("object"===(typeof a>"u"?"undefined":xt(a)))return a.v}var l}kt.default=nt},6067:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var k=function(){function ht(J,vt){for(var Tt=0;Tt<vt.length;Tt++){var $t=vt[Tt];$t.enumerable=$t.enumerable||!1,$t.configurable=!0,"value"in $t&&($t.writable=!0),Object.defineProperty(J,$t.key,$t)}}return function(J,vt,Tt){return vt&&ht(J.prototype,vt),Tt&&ht(J,Tt),J}}(),xt=_t(688),zt=_t(927),Mt=function Ot(ht){return ht&&ht.__esModule?ht:{default:ht}}(zt),Rt=_t(57),gt=_t(1237),Ct=function(){function ht(J){(function Pt(ht,J){if(!(ht instanceof J))throw new TypeError("Cannot call a class as a function")})(this,ht),this.type=xt.COVERAGECOLLECTION,this.ld={},this._exposeLd(J),this.prefixes=(0,Rt.getNamespacePrefixes)(this.ld),this.id=J.id;var vt=J.domainType;vt&&-1===vt.indexOf(":")&&(vt=Rt.DOMAINTYPES_PREFIX+vt),this.domainType=vt;var Tt=[],$t=J.parameters?J.parameters:{},nt=!0,q=!1,K=void 0;try{for(var V,X=Object.keys($t)[Symbol.iterator]();!(nt=(V=X.next()).done);nt=!0){var $=$t[V.value];$.id||($.id=Math.round((new Date).getTime()*Math.random()).toString())}}catch(W){q=!0,K=W}finally{try{!nt&&X.return&&X.return()}finally{if(q)throw K}}var ct={};J.referencing&&(ct.referencing=J.referencing);var bt=!0,pt=!1,z=void 0;try{for(var Nt,yt=J.coverages[Symbol.iterator]();!(bt=(Nt=yt.next()).done);bt=!0){var qt=Nt.value;qt.domainType||(qt.domainType=vt),qt.parameters||(qt.parameters={});var ne=!0,oe=!1,ge=void 0;try{for(var Ft,ce=Object.keys($t)[Symbol.iterator]();!(ne=(Ft=ce.next()).done);ne=!0){var a=Ft.value;a in qt.ranges&&(qt.parameters[a]=$t[a])}}catch(W){oe=!0,ge=W}finally{try{!ne&&ce.return&&ce.return()}finally{if(oe)throw ge}}J["@context"]&&(qt["@context"]=J["@context"]),Tt.push(new Mt.default(qt,ct))}}catch(W){pt=!0,z=W}finally{try{!bt&&yt.return&&yt.return()}finally{if(pt)throw z}}if(this.coverages=Tt,J.parameters){this.parameters=new Map;var l=!0,d=!1,_=void 0;try{for(var O,E=Object.keys(J.parameters)[Symbol.iterator]();!(l=(O=E.next()).done);l=!0){var j=O.value;(0,zt.transformParameter)(J.parameters,j),this.parameters.set(j,J.parameters[j])}}catch(W){d=!0,_=W}finally{try{!l&&E.return&&E.return()}finally{if(d)throw _}}}J.domainTemplate&&((0,zt.transformDomain)(J.domainTemplate),this.domainTemplate=J.domainTemplate)}return k(ht,[{key:"query",value:function(){return new gt.CollectionQuery(this)}},{key:"_exposeLd",value:function(vt){if(vt["@context"]){var Tt=(0,Rt.shallowcopy)(vt);delete Tt.coverages,this.ld=JSON.parse(JSON.stringify(Tt))}}}]),ht}();kt.default=Ct},688:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var k=_t(1237);Object.defineProperty(kt,"DOMAIN",{enumerable:!0,get:function(){return k.DOMAIN}}),Object.defineProperty(kt,"COVERAGE",{enumerable:!0,get:function(){return k.COVERAGE}}),Object.defineProperty(kt,"COVERAGECOLLECTION",{enumerable:!0,get:function(){return k.COVERAGECOLLECTION}}),kt.LINKRELPREFIX="http://www.iana.org/assignments/relation/"},7479:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0}),kt.COVJSON_PROFILE_STANDALONE=kt.EXT=kt.MEDIATYPE=void 0,kt.getAcceptHeader=function Rt(Ot){return xt.COVJSON+(Ot?'; profile="'+Mt+'"':"")+"; q=1.0, "+xt.JSONLD+"; q=0.1, "+xt.JSON+"; q=0.1"},kt.matchesMediaTypes=function gt(Ot,Pt){return Array.isArray(Pt)||(Pt=[Pt]),Pt.some(function(Ct){return 0===Ot.indexOf(Ct)})};var k=_t(57),xt=kt.MEDIATYPE={COVJSON:"application/prs.coverage+json",JSONLD:"application/ld+json",JSON:"application/json",TEXT:"text/plain"},Mt=(kt.EXT={COVJSON:".covjson"},kt.COVJSON_PROFILE_STANDALONE=k.CORE_PREFIX+"standalone")},4335:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0}),kt.load=function xt(Mt){var Rt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},gt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"arraybuffer";if(-1===["arraybuffer","text"].indexOf(gt))throw new Error;var Ot=Rt.headers||{};return new Promise(function(Pt,Ct){var ht=new XMLHttpRequest;ht.open("GET",Mt),ht.responseType=gt;var J=(0,k.getAcceptHeader)(Rt.eagerload);if(ht.setRequestHeader("Accept",J),Ot){var vt=!0,Tt=!1,$t=void 0;try{for(var q,nt=Object.keys(Ot)[Symbol.iterator]();!(vt=(q=nt.next()).done);vt=!0){var K=q.value;ht.setRequestHeader(K,Ot[K])}}catch(X){Tt=!0,$t=X}finally{try{!vt&&nt.return&&nt.return()}finally{if(Tt)throw $t}}}ht.addEventListener("load",function(){try{if(!(ht.status>=200&&ht.status<300||304===ht.status))return void Ct(new Error('Resource "'+Mt+'" not found, HTTP status code: '+ht.status));var X=void 0;if("arraybuffer"===gt){if(!window.TextDecoder)return void Ct({responseType:"text"});var V=new Date;X=JSON.parse((new TextDecoder).decode(new DataView(ht.response))),console.log("JSON decoding: "+(new Date-V)+"ms")}else{var Z=new Date;X=JSON.parse(ht.response),console.log("JSON decoding (slow path): "+(new Date-Z)+"ms")}var $=function zt(Mt){var Rt={};if(!Mt)return Rt;for(var gt=Mt.split("\r\n"),Ot=0;Ot<gt.length;Ot++){var Pt=gt[Ot],Ct=Pt.indexOf(": ");if(Ct>0){var ht=Pt.substring(0,Ct).toLowerCase(),J=Pt.substring(Ct+2);Rt[ht]=J}}return Rt}(ht.getAllResponseHeaders());Pt({data:X,headers:$})}catch(ct){Ct(ct)}}),ht.addEventListener("error",function(){Ct(new Error("Network error loading resource at "+Mt))}),ht.send()}).catch(function(Pt){if(Pt.responseType)return xt(Mt,Ot,Pt.responseType);throw Pt})};var k=_t(7479)},2299:(Oe,kt,_t)=>{"use strict";var xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(X){return typeof X}:function(X){return X&&"function"==typeof Symbol&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X};kt.ij=function $t(X){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"object"===(typeof X>"u"?"undefined":xt(X))?Promise.resolve().then(function(){return nt(X)}):function Tt(X,V){return ht.load(X,V)}(X,V).then(function(Z){return nt(Z.data,Z.headers)})};var zt=_t(927),Mt=vt(zt),gt=vt(_t(6067)),Ot=_t(57),Pt=_t(688),ht=function J(X){if(X&&X.__esModule)return X;var V={};if(null!=X)for(var Z in X)Object.prototype.hasOwnProperty.call(X,Z)&&(V[Z]=X[Z]);return V.default=X,V}(_t(4335));function vt(X){return X&&X.__esModule?X:{default:X}}function nt(X,V){if(function K(X){(0,Ot.assert)("type"in X,'"type" missing'),X.type===Pt.COVERAGE?((0,Ot.assert)("parameters"in X,'"parameters" missing'),(0,Ot.assert)("domain"in X,'"domain" missing'),(0,Ot.assert)("ranges"in X,'"ranges" missing')):X.type===Pt.COVERAGECOLLECTION&&(0,Ot.assert)(Array.isArray(X.coverages),'"coverages" must be an array')}(X),-1===[Pt.COVERAGE,Pt.COVERAGECOLLECTION,Pt.DOMAIN].indexOf(X.type))throw new Error("CoverageJSON document must be of Coverage, CoverageCollection, or Domain type");var Z=void 0;return X.type===Pt.DOMAIN?((0,zt.transformDomain)(X),Z=X):Z=X.type===Pt.COVERAGE?new Mt.default(X):new gt.default(X),(X.type===Pt.COVERAGE||X.type===Pt.COVERAGECOLLECTION)&&function q(X,V){if(V&&V.link){var Z=X.ld,$=!0,ct=!1,bt=void 0;try{for(var z,pt=V.link.split(",")[Symbol.iterator]();!($=(z=pt.next()).done);$=!0){var yt=z.value,Nt=(yt=yt.trim()).split(";"),qt=Nt[0].substr(1,Nt[0].length-2),ne=!0,oe=!1,ge=void 0;try{for(var Ft,ce=Nt.slice(1)[Symbol.iterator]();!(ne=(Ft=ce.next()).done);ne=!0){var a=Ft.value,l=a.indexOf("rel=");if(-1!==l){var d=a.substring(l+5,a.length-1);0!==d.indexOf("http://")&&0!==d.indexOf("https://")&&(d=Pt.LINKRELPREFIX+d),Z[d]?Array.isArray(Z[d])?Z[d].push(qt):Z[d]=[Z[d],qt]:Z[d]=qt}}}catch(_){oe=!0,ge=_}finally{try{!ne&&ce.return&&ce.return()}finally{if(oe)throw ge}}}}catch(_){ct=!0,bt=_}finally{try{!$&&pt.return&&pt.return()}finally{if(ct)throw bt}}}}(Z,V),Z}},57:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var k=_t(1237);Object.defineProperty(kt,"minMax",{enumerable:!0,get:function(){return k.minMax}}),Object.defineProperty(kt,"indicesOfNearest",{enumerable:!0,get:function(){return k.indicesOfNearest}}),Object.defineProperty(kt,"indexOfNearest",{enumerable:!0,get:function(){return k.indexOfNearest}}),kt.assert=function Rt(Pt,Ct){if(!Pt)throw Ct=Ct||"Assertion failed",new Error(Ct)},kt.shallowcopy=function gt(Pt){var Ct=Object.create(Object.getPrototypeOf(Pt));for(var ht in Pt)Ct[ht]=Pt[ht];return Ct},kt.getNamespacePrefixes=function Ot(Pt){var Ct=Pt["@context"];if(Ct){Array.isArray(Ct)||(Ct=[Ct]);var ht=new Map,J=!0,vt=!1,Tt=void 0;try{for(var nt,$t=Ct[Symbol.iterator]();!(J=(nt=$t.next()).done);J=!0){var q=nt.value;if("string"!=typeof q){var K=!0,X=!1,V=void 0;try{for(var $,Z=Object.keys(q)[Symbol.iterator]();!(K=($=Z.next()).done);K=!0){var ct=$.value;"string"==typeof q[ct]&&ht.set(ct,q[ct])}}catch(bt){X=!0,V=bt}finally{try{!K&&Z.return&&Z.return()}finally{if(X)throw V}}}}}catch(bt){vt=!0,Tt=bt}finally{try{!J&&$t.return&&$t.return()}finally{if(vt)throw Tt}}return ht}};var xt="https://covjson.org/def/";kt.CORE_PREFIX=xt+"core#",kt.DOMAINTYPES_PREFIX=xt+"domainTypes#"},5794:(Oe,kt)=>{"use strict";function k(zt,Mt){if(0===zt.length)throw new Error("Array must have at least one element");var Rt=-1,gt=zt.length;if(1===zt.length||zt[0]<zt[1])for(;gt-Rt>1;){var Pt=Math.round((Rt+gt)/2);zt[Pt]<=Mt?Rt=Pt:gt=Pt}else for(;gt-Rt>1;){var Ct=Math.round((Rt+gt)/2);zt[Ct]>=Mt?Rt=Ct:gt=Ct}return zt[Rt]===Mt&&(gt=Rt),-1===Rt&&(Rt=gt),gt===zt.length&&(gt=Rt),[Rt,gt]}Object.defineProperty(kt,"__esModule",{value:!0}),kt.minMax=function _t(zt){for(var Mt=zt.length,Rt=1/0,gt=-1/0;Mt--;){var Ot=zt[Mt];null==Ot||(Ot<Rt?Rt=Ot:Ot>gt&&(gt=Ot))}return Rt===1/0?Rt=gt:gt===-1/0&&(gt=Rt),(Rt===1/0||Rt===-1/0)&&(Rt=null,gt=null),[Rt,gt]},kt.indicesOfNearest=k,kt.indexOfNearest=function xt(zt,Mt){var Rt=k(zt,Mt),gt=Rt[0],Ot=Rt[1];return Math.abs(Mt-zt[gt])<=Math.abs(Mt-zt[Ot])?gt:Ot}},768:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0}),kt.CollectionQuery=void 0;var k=function(){function Ct(ht,J){for(var vt=0;vt<J.length;vt++){var Tt=J[vt];Tt.enumerable=Tt.enumerable||!1,Tt.configurable=!0,"value"in Tt&&(Tt.writable=!0),Object.defineProperty(ht,Tt.key,Tt)}}return function(ht,J,vt){return J&&Ct(ht.prototype,J),vt&&Ct(ht,vt),ht}}();kt.addCollectionQueryFunction=function Rt(Ct){if(Ct.paging)throw new Error("Paged collections not supported");Ct.query=function(){return new gt(Ct)}};var xt=_t(8779),zt=_t(6702),gt=kt.CollectionQuery=function(){function Ct(ht){(function Mt(Ct,ht){if(!(Ct instanceof ht))throw new TypeError("Cannot call a class as a function")})(this,Ct),this._collection=ht,this._filter={},this._subset={}}return k(Ct,[{key:"filter",value:function(J){return Pt(J,this._filter),this}},{key:"subset",value:function(J){return Pt(J,this._subset),this}},{key:"execute",value:function(){var J=this,vt=this._collection,Tt={type:xt.COVERAGECOLLECTION,coverages:[],parameters:vt.parameters,domainType:vt.domainType},$t=[],nt=!0,q=!1,K=void 0;try{for(var Z,X=function(){var ct=Z.value;$t.push(ct.loadDomain().then(function(bt){if(function Ot(Ct,ht){var J=!0,vt=!1,Tt=void 0;try{for(var nt,$t=Object.keys(ht)[Symbol.iterator]();!(J=(nt=$t.next()).done);J=!0){var q=nt.value,K=ht[q];if(!Ct.axes.has(q))throw new Error('Axis "'+q+'" does not exist');var V=Ct.axes.get(q).values,Z=V[0],$=V[V.length-1];if("number"!=typeof Z&&"string"!=typeof Z)throw new Error("Can only filter primitive axis values");var ct=K.start,bt=K.stop;if((0,zt.isISODateAxis)(Ct,q)){var pt=[(0,zt.asTime)(Z),(0,zt.asTime)($)];Z=pt[0],$=pt[1];var z=[(0,zt.asTime)(ct),(0,zt.asTime)(bt)];ct=z[0],bt=z[1]}else if((0,zt.isLongitudeAxis)(Ct,q)){var yt=(0,zt.getLongitudeWrapper)(Ct,q),Nt=[yt(ct),yt(bt)];ct=Nt[0],bt=Nt[1]}if(Z>$){var qt=[$,Z];Z=qt[0],$=qt[1]}if($<ct||bt<Z)return!1}}catch(ne){vt=!0,Tt=ne}finally{try{!J&&$t.return&&$t.return()}finally{if(vt)throw Tt}}return!0}(bt,J._filter)){if(0!==Object.keys(J._subset).length)return ct.subsetByValue(J._subset).then(function(pt){Tt.coverages.push(pt)});Tt.coverages.push(ct)}}))},V=vt.coverages[Symbol.iterator]();!(nt=(Z=V.next()).done);nt=!0)X()}catch($){q=!0,K=$}finally{try{!nt&&V.return&&V.return()}finally{if(q)throw K}}return Promise.all($t).then(function(){return Tt.query=function(){return new Ct(Tt)},Tt})}}]),Ct}();function Pt(Ct,ht){var J=!0,vt=!1,Tt=void 0;try{for(var nt,$t=Object.keys(Ct)[Symbol.iterator]();!(J=(nt=$t.next()).done);J=!0){var q=nt.value;ht[q]=Ct[q]}}catch(K){vt=!0,Tt=K}finally{try{!J&&$t.return&&$t.return()}finally{if(vt)throw Tt}}}},8779:(Oe,kt)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0}),kt.DOMAIN="Domain";var k=kt.COVERAGE="Coverage",zt=(kt.COVERAGECOLLECTION=k+"Collection","http://covjson.org/def/core#");kt.COVJSON_DATATYPE_TUPLE=zt+"tuple",kt.COVJSON_DATATYPE_POLYGON=zt+"polygon"},5951:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var k=function(J,vt){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return function ht(J,vt){var Tt=[],$t=!0,nt=!1,q=void 0;try{for(var X,K=J[Symbol.iterator]();!($t=(X=K.next()).done)&&(Tt.push(X.value),!vt||Tt.length!==vt);$t=!0);}catch(V){nt=!0,q=V}finally{try{!$t&&K.return&&K.return()}finally{if(nt)throw q}}return Tt}(J,vt);throw new TypeError("Invalid attempt to destructure non-iterable instance")};kt.fromDomain=function gt(ht){var J=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(0,zt.checkDomain)(ht);var vt=J.gridAxes,Tt=k(vt=void 0===vt?["x","y"]:vt,2),$t=Tt[0],nt=Tt[1],q="domain",X=ht.axes.has($t)&&ht.axes.has(nt)&&(ht.axes.get($t).values.length>1||ht.axes.get(nt).values.length>1),V=void 0,Z=void 0,$="a";X?(V=[{id:$,label:{en:"A"}},{id:"b",label:{en:"B"}}],Z=new Map([[$,[0]],["b",[1]]])):(V=[{id:$,label:{en:"X"}}],Z=new Map([[$,[0]]]));var z=new Map;z.set(q,{key:q,observedProperty:{label:{en:"Domain"},categories:V},categoryEncoding:Z});var Nt,yt=new Map([].concat(Rt(ht.axes)).map(function(oe){var ge=k(oe,2);return[ge[0],ge[1].values.length]}));Nt=X?function(ce){var Ft=ce.x,l=ce.y;return function(ce){return ce%2}((void 0===Ft?0:Ft)+(void 0===l?0:l))?0:1}:function(){return 0};var ne={type:xt.COVERAGE,domainType:ht.domainType,parameters:z,loadDomain:function(){return Promise.resolve(ht)},loadRange:function(){return Promise.resolve({shape:yt,dataType:"integer",get:Nt})}};return Ct(ne),Pt(ne),ne},kt.fromXndarray=function Ot(ht){var J=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],vt=J.parameter,Tt=void 0===vt?{key:"p1",observedProperty:{label:{en:"Parameter 1"}}}:vt,$t=J.referencing,nt=J.domainType,q=new Map;q.set(Tt.key,Tt),$t||($t=[],ht.coords.has("x")&&ht.coords.has("y")&&$t.push({coordinates:["x","y"],system:{type:"GeographicCRS",id:"http://www.opengis.net/def/crs/OGC/1.3/CRS84"}}),ht.coords.has("t")&&$t.push({coordinates:["t"],system:{type:"TemporalRS",calendar:"Gregorian"}}));var K=new Map,X=!0,V=!1,Z=void 0;try{for(var ct,$=ht.coords[Symbol.iterator]();!(X=(ct=$.next()).done);X=!0){for(var bt=k(ct.value,2),pt=bt[0],z=bt[1],yt=new Array(z.size),Nt=0;Nt<z.size;Nt++)yt[Nt]=z.get(Nt);K.set(pt,{key:pt,coordinates:[pt],values:yt})}}catch(Ft){V=!0,Z=Ft}finally{try{!X&&$.return&&$.return()}finally{if(V)throw Z}}var qt={type:xt.DOMAIN,domainType:nt,referencing:$t,axes:K},ne=new Map([].concat(Rt(qt.axes)).map(function(Ft){var a=k(Ft,2);return[a[0],a[1].values.length]})),oe=-1!==ht.dtype.indexOf("int")?"integer":"float",ce={type:xt.COVERAGE,domainType:nt,parameters:q,loadDomain:function(){return Promise.resolve(qt)},loadRange:function(){return Promise.resolve({shape:ne,dataType:oe,get:ht.xget.bind(ht)})}};return Ct(ce),Pt(ce),ce},kt.addSubsetFunctions=Pt,kt.addLoadRangesFunction=Ct;var xt=_t(8779),zt=_t(4602),Mt=_t(5690);function Rt(ht){if(Array.isArray(ht)){for(var J=0,vt=Array(ht.length);J<ht.length;J++)vt[J]=ht[J];return vt}return Array.from(ht)}function Pt(ht){(0,zt.checkCoverage)(ht),ht.subsetByIndex=Mt.subsetByIndex.bind(null,ht),ht.subsetByValue=Mt.subsetByValue.bind(null,ht)}function Ct(ht){(0,zt.checkCoverage)(ht),ht.loadRanges=function J(vt){return vt||(vt=ht.parameters.keys()),Promise.all([].concat(Rt(vt)).map(ht.loadRange)).then(function(Tt){return new Map(vt.map(function($t,nt){return[$t,Tt[nt]]}))})}}},3456:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.reproject=function gt(Ot,Pt){return Ot.loadDomain().then(function(Ct){var ht=(0,Mt.getHorizontalCRSReferenceObject)(Ct);if(ht.coordinates.length>2)throw new Error("Reprojection not supported for >2D CRSs");if(ht.coordinates.some(Ct.axes.has))throw new Error("Grid reprojection not supported yet");var J=function(Pt,Ct){if(Array.isArray(Pt))return Pt;if(Symbol.iterator in Object(Pt))return function Ot(Pt,Ct){var ht=[],J=!0,vt=!1,Tt=void 0;try{for(var nt,$t=Pt[Symbol.iterator]();!(J=(nt=$t.next()).done)&&(ht.push(nt.value),!Ct||ht.length!==Ct);J=!0);}catch(q){vt=!0,Tt=q}finally{try{!J&&$t.return&&$t.return()}finally{if(vt)throw Tt}}return ht}(Pt,Ct);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(ht.coordinates,2),vt=J[0],Tt=J[1],$t=[].concat(function Rt(Ot){if(Array.isArray(Ot)){for(var Pt=0,Ct=Array(Ot.length);Pt<Ot.length;Pt++)Ct[Pt]=Ot[Pt];return Ct}return Array.from(Ot)}(Ct.axes.values())),nt=$t.find(function(O){return ht.coordinates.every(function(j){return-1!==O.coordinates.indexOf(j)})}),q=nt.coordinates.indexOf(vt),K=nt.coordinates.indexOf(Tt),X=(0,Mt.getProjection)(Ct),V=(0,Mt.getProjection)(Pt),Z=void 0;if(nt.dataType!==zt.COVJSON_DATATYPE_TUPLE)throw new Error("Unsupported data type: "+nt.dataType);Z=nt.values.map(function(O){return O.slice()});var $=!0,ct=!1,bt=void 0;try{for(var z,pt=Z[Symbol.iterator]();!($=(z=pt.next()).done);$=!0){var yt=z.value,ne=X.unproject({x:yt[q],y:yt[K]}),oe=V.project(ne),ce=oe.y;yt[q]=oe.x,yt[K]=ce}}catch(O){ct=!0,bt=O}finally{try{!$&&pt.return&&pt.return()}finally{if(ct)throw bt}}var Ft=new Map(Ct.axes),a=(0,xt.shallowcopy)(nt);delete a.bounds,a.values=Z,Ft.set(nt.key,a);var l=(0,Mt.getHorizontalCRSReferenceObject)(Pt);if(l.coordinates.length>2)throw new Error("Reprojection not supported for >2D CRSs");var d=Ct.referencing.map(function(O){return O===ht?{coordinates:ht.coordinates,system:l.system}:O}),_={type:zt.DOMAIN,domainType:Ct.domainType,axes:Ft,referencing:d};return{type:zt.COVERAGE,domainType:Ot.domainType,parameters:Ot.parameters,loadDomain:function(){return Promise.resolve(_)},loadRange:function(j){return Ot.loadRange(j)},loadRanges:function(j){return Ot.loadRanges(j)},subsetByIndex:function(j){return Ot.subsetByIndex(j).then(function(W){return gt(W,Pt)})},subsetByValue:function(j){return Ot.subsetByValue(j).then(function(W){return gt(W,Pt)})}}})};var xt=_t(8184),zt=_t(8779),Mt=_t(6702)},5690:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var k=function(vt,Tt){if(Array.isArray(vt))return vt;if(Symbol.iterator in Object(vt))return function J(vt,Tt){var $t=[],nt=!0,q=!1,K=void 0;try{for(var V,X=vt[Symbol.iterator]();!(nt=(V=X.next()).done)&&($t.push(V.value),!Tt||$t.length!==Tt);nt=!0);}catch(Z){q=!0,K=Z}finally{try{!nt&&X.return&&X.return()}finally{if(q)throw K}}return $t}(vt,Tt);throw new TypeError("Invalid attempt to destructure non-iterable instance")};kt.subsetByBbox=function Pt(J,vt){var Tt,$t=arguments.length<=2||void 0===arguments[2]?["x","y"]:arguments[2],nt=k(vt,4),K=nt[1],V=nt[3];return J.subsetByValue((Ot(Tt={},$t[0],{start:nt[0],stop:nt[2]}),Ot(Tt,$t[1],{start:K,stop:V}),Tt))},kt.subsetByIndex=function Ct(J,vt){return J.loadDomain().then(function(Tt){vt=(0,zt.normalizeIndexSubsetConstraints)(Tt,vt);var $t=(0,zt.subsetDomainByIndex)(Tt,vt),nt=function(Z){var $={dataType:Z.dataType,get:function(oe){var ge={},ce=!0,Ft=!1,a=void 0;try{for(var d,l=Object.keys(oe)[Symbol.iterator]();!(ce=(d=l.next()).done);ce=!0){var _=d.value,E=vt[_];ge[_]=E.start+oe[_]*E.step}}catch(W){Ft=!0,a=W}finally{try{!ce&&l.return&&l.return()}finally{if(Ft)throw a}}return Z.get(ge)}};$.shape=new Map;var ct=!0,bt=!1,pt=void 0;try{for(var yt,z=Tt.axes.keys()[Symbol.iterator]();!(ct=(yt=z.next()).done);ct=!0){var Nt=yt.value,qt=$t.axes.get(Nt).values.length;$.shape.set(Nt,qt)}}catch(ne){bt=!0,pt=ne}finally{try{!ct&&z.return&&z.return()}finally{if(bt)throw pt}}return $},X={type:Rt.COVERAGE,domainType:J.domainType,parameters:J.parameters,loadDomain:function(){return Promise.resolve($t)},loadRange:function(Z){return J.loadRange(Z).then(nt)},loadRanges:function(Z){return J.loadRanges(Z).then(function($){return new Map([].concat(function gt(J){if(Array.isArray(J)){for(var vt=0,Tt=Array(J.length);vt<J.length;vt++)Tt[vt]=J[vt];return Tt}return Array.from(J)}($)).map(function(ct){var bt=k(ct,2);return[bt[0],nt(bt[1])]}))})}};return X.subsetByIndex=Ct.bind(null,X),X.subsetByValue=ht.bind(null,X),X})},kt.subsetByValue=ht;var xt=_t(6702),zt=_t(580),Mt=_t(5794),Rt=_t(8779);function Ot(J,vt,Tt){return vt in J?Object.defineProperty(J,vt,{value:Tt,enumerable:!0,configurable:!0,writable:!0}):J[vt]=Tt,J}function ht(J,vt){return J.loadDomain().then(function(Tt){var $t={},nt=!0,q=!1,K=void 0;try{for(var V,X=Object.keys(vt)[Symbol.iterator]();!(nt=(V=X.next()).done);nt=!0){var Z=V.value,$=vt[Z];if(null!=$&&Tt.axes.has(Z)){var bt=Tt.axes.get(Z).values,pt=(0,xt.isISODateAxis)(Tt,Z),z=(0,xt.isLongitudeAxis)(Tt,Z),yt=z?(0,xt.getLongitudeWrapper)(Tt,Z):void 0;if("number"==typeof $||"string"==typeof $||$ instanceof Date){var Nt=$;pt?(Nt=(0,xt.asTime)(Nt),bt=bt.map(function(Lt){return new Date(Lt).getTime()})):z&&(Nt=yt(Nt));var qt;if(-1===(qt=bt.indexOf?bt.indexOf(Nt):Array.prototype.indexOf.call(bt,Nt)))throw new Error("Domain value not found: "+$);$t[Z]=qt}else if("target"in $){var ne=$.target;if(pt)ne=(0,xt.asTime)(ne),bt=bt.map(function(Lt){return new Date(Lt).getTime()});else if(z)ne=yt(ne);else if("number"!=typeof bt[0]||"number"!=typeof ne)throw new Error("Invalid axis or constraint value type");var oe=(0,Mt.indexOfNearest)(bt,ne);$t[Z]=oe}else{if(!("start"in $)||!("stop"in $))throw new Error("Invalid subset constraints");var ge=$.start,ce=$.stop;if(pt){var Ft=[(0,xt.asTime)(ge),(0,xt.asTime)(ce)];ge=Ft[0],ce=Ft[1],bt=bt.map(function(Lt){return new Date(Lt).getTime()})}else if(z){var a=[yt(ge),yt(ce)];ge=a[0],ce=a[1]}else if("number"!=typeof bt[0]||"number"!=typeof ge)throw new Error("Invalid axis or constraint value type");var l=(0,Mt.indicesOfNearest)(bt,ge),d=k(l,2),_=d[0],E=d[1],O=(0,Mt.indicesOfNearest)(bt,ce),j=k(O,2),W=j[0],ut=j[1],ot=Math.min(_,E,W,ut),wt=Math.max(_,E,W,ut)+1;$t[Z]={start:ot,stop:wt}}}}}catch(Lt){q=!0,K=Lt}finally{try{!nt&&X.return&&X.return()}finally{if(q)throw K}}return J.subsetByIndex($t)})}},4797:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var k=function(ht,J){if(Array.isArray(ht))return ht;if(Symbol.iterator in Object(ht))return function Ct(ht,J){var vt=[],Tt=!0,$t=!1,nt=void 0;try{for(var K,q=ht[Symbol.iterator]();!(Tt=(K=q.next()).done)&&(vt.push(K.value),!J||vt.length!==J);Tt=!0);}catch(X){$t=!0,nt=X}finally{try{!Tt&&q.return&&q.return()}finally{if($t)throw nt}}return vt}(ht,J);throw new TypeError("Invalid attempt to destructure non-iterable instance")};kt.maskByPolygon=function Pt(Ct,ht){var J=arguments.length<=2||void 0===arguments[2]?["x","y"]:arguments[2];(0,Rt.checkCoverage)(Ct),"Polygon"===ht.type&&(ht={type:"MultiPolygon",coordinates:[ht.coordinates]});var vt=ht.coordinates;vt.forEach(function(K){return(0,gt.ensureClockwisePolygon)(K)});var Tt=(0,gt.getPointInPolygonsFn)(vt),$t=k(J,2),nt=$t[0],q=$t[1];return Ct.loadDomain().then(function(K){for(var X=K.axes.get(nt).values,V=K.axes.get(q).values,Z=(0,zt.default)(new Uint8Array(X.length*V.length),[X.length,V.length]),$=0;$<X.length;$++)for(var ct=0;ct<V.length;ct++){var bt=Tt([X[$],V[ct]])>=0;Z.set($,ct,bt)}var pt=function(Ft,a){return Z.get(Ft[nt]||0,Ft[q]||0)?a.get(Ft):null},z=Ct,yt=!0,Nt=!1,qt=void 0;try{for(var oe,ne=Ct.parameters.keys()[Symbol.iterator]();!(yt=(oe=ne.next()).done);yt=!0)z=(0,Mt.mapRange)(z,oe.value,pt)}catch(ce){Nt=!0,qt=ce}finally{try{!yt&&ne.return&&ne.return()}finally{if(Nt)throw qt}}return z})};var zt=function Ot(Ct){return Ct&&Ct.__esModule?Ct:{default:Ct}}(_t(6507)),Mt=_t(9002),Rt=_t(4602),gt=_t(501)},9002:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0}),kt.withSimpleDerivedParameter=void 0;var k=function(q,K){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return function nt(q,K){var X=[],V=!0,Z=!1,$=void 0;try{for(var bt,ct=q[Symbol.iterator]();!(V=(bt=ct.next()).done)&&(X.push(bt.value),!K||X.length!==K);V=!0);}catch(pt){Z=!0,$=pt}finally{try{!V&&ct.return&&ct.return()}finally{if(Z)throw $}}return X}(q,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")};kt.withParameters=Ot,kt.withCategories=function Pt(nt,q,K,X){if((0,zt.checkCoverage)(nt),K.categories.some(function(j){return!j.id}))throw new Error('At least one category object is missing the "id" property');var V=(0,Mt.shallowcopy)(nt.parameters),Z=(0,Mt.shallowcopy)(V.get(q));V.set(q,Z),V.get(q).observedProperty=K;var $=nt.parameters.get(q).categoryEncoding,ct=new Map,bt=K.categories,pt=!0,z=!1,yt=void 0;try{for(var qt,Nt=bt[Symbol.iterator]();!(pt=(qt=Nt.next()).done);pt=!0){var ne=qt.value,oe=[],ge=!0,ce=!1,Ft=void 0;try{for(var l,a=X[Symbol.iterator]();!(ge=(l=a.next()).done);ge=!0){var d=k(l.value,2),_=d[0];d[1]===ne.id&&$.has(_)&&oe.push.apply(oe,gt($.get(_)))}}catch(j){ce=!0,Ft=j}finally{try{!ge&&a.return&&a.return()}finally{if(ce)throw Ft}}oe.length>0&&ct.set(ne.id,oe)}}catch(j){z=!0,yt=j}finally{try{!pt&&Nt.return&&Nt.return()}finally{if(z)throw yt}}return V.get(q).categoryEncoding=ct,Ot(nt,V)},kt.withDomainType=function Ct(nt,q){(0,zt.checkCoverage)(nt);var K=function(Z){return{type:xt.DOMAIN,domainType:q,axes:Z.axes,referencing:Z.referencing}};return{type:xt.COVERAGE,domainType:q,parameters:nt.parameters,loadDomain:function(){return nt.loadDomain().then(K)},loadRange:function(Z){return nt.loadRange(Z)},loadRanges:function(Z){return nt.loadRanges(Z)},subsetByIndex:function(Z){return nt.subsetByIndex(Z).then(function($){return Ct($,q)})},subsetByValue:function(Z){return nt.subsetByValue(Z).then(function($){return Ct($,q)})}}},kt.asCovJSONDomainType=function ht(nt){return nt.loadDomain().then(function(q){})},kt.renameAxes=function J(nt,q){(0,zt.checkCoverage)(nt),q=new Map(q);var K=!0,X=!1,V=void 0;try{for(var $,Z=nt.axes.keys()[Symbol.iterator]();!(K=($=Z.next()).done);K=!0){var ct=$.value;q.has(ct)||q.set(ct,ct)}}catch(ne){X=!0,V=ne}finally{try{!K&&Z.return&&Z.return()}finally{if(X)throw V}}var bt=function(oe){var ge=new Map,ce=!0,Ft=!1,a=void 0;try{for(var d,l=q[Symbol.iterator]();!(ce=(d=l.next()).done);ce=!0){var _=k(d.value,2),O=_[1],j=oe.axes.get(_[0]),ot=j.values,wt=j.bounds,Lt={key:O,dataType:j.dataType,coordinates:j.coordinates.map(function(Wt){return q.has(Wt)?q.get(Wt):Wt}),values:ot,bounds:wt};ge.set(O,Lt)}}catch(Wt){Ft=!0,a=Wt}finally{try{!ce&&l.return&&l.return()}finally{if(Ft)throw a}}var Ht=oe.referencing.map(function(Wt){var ae=Wt.system;return{coordinates:Wt.coordinates.map(function(Ce){return q.has(Ce)?q.get(Ce):Ce}),system:ae}});return{type:xt.DOMAIN,domainType:oe.domainType,axes:ge,referencing:Ht}},pt=[].concat(gt(q)).map(function(ne){var oe=k(ne,2);return"['"+oe[0]+"']:obj['"+oe[1]+"']"}).join(","),z=function(oe){var ge=new Function("range","return function get (obj){return range.get({"+pt+"})}")(oe);return{shape:new Map([].concat(gt(oe.shape)).map(function(Ft){var a=k(Ft,2),d=a[1];return[q.get(a[0]),d]})),dataType:oe.dataType,get:ge}};return{type:xt.COVERAGE,domainType:nt.domainType,parameters:nt.parameters,loadDomain:function(){return nt.loadDomain().then(bt)},loadRange:function(oe){return nt.loadRange(oe).then(z)},loadRanges:function(oe){return nt.loadRanges(oe).then(function(ge){return new Map([].concat(gt(ge)).map(function(ce){var Ft=k(ce,2);return[Ft[0],z(Ft[1])]}))})},subsetByIndex:function(oe){return nt.subsetByIndex(oe).then(function(ge){return J(ge,q)})},subsetByValue:function(oe){return nt.subsetByValue(oe).then(function(ge){return J(ge,q)})}}},kt.mapRange=function vt(nt,q,K,X){(0,zt.checkCoverage)(nt);var V=function(pt){return{shape:pt.shape,dataType:X||pt.dataType,get:function(Nt){return K(Nt,pt)}}};return{type:xt.COVERAGE,domainType:nt.domainType,parameters:nt.parameters,loadDomain:function(){return nt.loadDomain()},loadRange:function(pt){return q===pt?nt.loadRange(pt).then(V):nt.loadRange(pt)},loadRanges:function(pt){return nt.loadRanges(pt).then(function(z){return new Map([].concat(gt(z)).map(function(yt){var Nt=k(yt,2),qt=Nt[0],ne=Nt[1];return[qt,q===qt?V(ne):ne]}))})},subsetByIndex:function(pt){return nt.subsetByIndex(pt).then(function(z){return vt(z,q,K,X)})},subsetByValue:function(pt){return nt.subsetByValue(pt).then(function(z){return vt(z,q,K,X)})}}},kt.withDerivedParameter=Tt;var xt=_t(8779),zt=_t(4602),Mt=_t(8184),Rt=_t(5951);function gt(nt){if(Array.isArray(nt)){for(var q=0,K=Array(nt.length);q<nt.length;q++)K[q]=nt[q];return K}return Array.from(nt)}function Ot(nt,q){return{type:xt.COVERAGE,domainType:nt.domainType,parameters:q,loadDomain:function(){return nt.loadDomain()},loadRange:function(V){return nt.loadRange(V)},loadRanges:function(V){return nt.loadRanges(V)},subsetByIndex:function(V){return nt.subsetByIndex(V).then(function(Z){return Ot(Z,q)})},subsetByValue:function(V){return nt.subsetByValue(V).then(function(Z){return Ot(Z,q)})}}}function Tt(nt,q){(0,zt.checkCoverage)(nt);var K=q.parameter,X=q.inputParameters,V=q.dataType,Z=void 0===V?"float":V,$=q.fn,ct=new Map(nt.parameters);ct.set(K.key,K);var z={type:xt.COVERAGE,domainType:nt.domainType,parameters:ct,loadDomain:function(){return nt.loadDomain()},loadRange:function(Nt){return K.key===Nt?nt.loadRanges(X).then(function(Nt){var qt=X.map(function(ge){return Nt.get(ge)});return{shape:qt[0].shape,dataType:Z,get:function(ce){return $.apply(void 0,[ce].concat(gt(qt)))}}}):nt.loadRange(Nt)},subsetByIndex:function(Nt){return nt.subsetByIndex(Nt).then(function(qt){return Tt(qt,q)})},subsetByValue:function(Nt){return nt.subsetByValue(Nt).then(function(qt){return Tt(qt,q)})}};return(0,Rt.addLoadRangesFunction)(z),z}kt.withSimpleDerivedParameter=function $t(nt,q){var X=q.inputParameters,Z=q.fn;return Tt(nt,{parameter:q.parameter,inputParameters:X,dataType:q.dataType,fn:function(bt){for(var pt=arguments.length,z=Array(pt>1?pt-1:0),yt=1;yt<pt;yt++)z[yt-1]=arguments[yt];var Nt=X.map(function(qt,ne){return z[ne].get(bt)});return Nt.some(function(qt){return null===qt})?null:Z.apply(void 0,gt(Nt))}})}},501:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0}),kt.ensureClockwisePolygon=function gt(Pt){for(var ht=arguments.length<=1||void 0===arguments[1]||!arguments[1]?zt.ringArea:Mt.ringArea,J=0;J<Pt.length;J++){var vt=ht(Pt[J]);(0===J&&vt<0||J>0&&vt>0)&&Pt[J].reverse()}},kt.getPointInPolygonsFn=function Ot(Pt){var Ct=Pt.map(xt.default),ht=Pt.length;return function(J){for(var vt=0;vt<ht;vt++)if(Ct[vt](J)<=0)return vt;return-1}};var xt=function Rt(Pt){return Pt&&Pt.__esModule?Pt:{default:Pt}}(_t(8888)),zt=_t(3554),Mt=_t(6482)},6702:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var xt,k=function(oe,ge){if(Array.isArray(oe))return oe;if(Symbol.iterator in Object(oe))return function ne(oe,ge){var ce=[],Ft=!0,a=!1,l=void 0;try{for(var _,d=oe[Symbol.iterator]();!(Ft=(_=d.next()).done)&&(ce.push(_.value),!ge||ce.length!==ge);Ft=!0);}catch(E){a=!0,l=E}finally{try{!Ft&&d.return&&d.return()}finally{if(a)throw l}}return ce}(oe,ge);throw new TypeError("Invalid attempt to destructure non-iterable instance")};kt.getReferenceObject=nt,kt.getHorizontalCRSReferenceObject=q,kt.isEllipsoidalCRS=K,kt.getProjection=X,kt.loadProjection=function V(ne){try{return X(ne)}catch{}var oe=q(ne);if(!oe)throw new Error("No horizontal CRS found in coverage domain");return Mt.load(oe.system.id).then(function(ce){return ct(ce)})},kt.getHorizontalCRSComponents=function Z(ne){return $(ne)},kt.getHorizontalCRSCoordinateIDs=$,kt.reprojectCoords=function pt(ne,oe,ge){return ge.project(oe.unproject(ne))},kt.getLongitudeWrapper=function z(ne,oe){if(!yt(ne,oe))throw new Error("'"+oe+"' is not a longitude axis");var ge=ne.axes.get(oe).values,ce=ge[0],Ft=ge[ge.length-1];if(ce>Ft){var a=[Ft,ce];ce=a[0],Ft=a[1]}var l=(Ft+ce)/2,d=l-180,_=l+180;return function(E){return d<=E&&E<=_?E:((E-d)%360+360)%360+d}},kt.isLongitudeAxis=yt,kt.isISODateAxis=function Nt(ne,oe){var ge=ne.axes.get(oe).values[0];return"string"==typeof ge&&!isNaN(new Date(ge).getTime())},kt.asTime=function qt(ne){var oe=void 0,ge=!1;if("string"==typeof ne?oe=new Date(ne).getTime():ne instanceof Date?oe=ne.getTime():ge=!0,isNaN(oe)&&(ge=!0),ge)throw new Error("Invalid date: "+ne);return oe};var Mt=function gt(ne){if(ne&&ne.__esModule)return ne;var oe={};if(null!=ne)for(var ge in ne)Object.prototype.hasOwnProperty.call(ne,ge)&&(oe[ge]=ne[ge]);return oe.default=ne,oe}(_t(187)),Rt=_t(8779);function Pt(ne,oe,ge){return oe in ne?Object.defineProperty(ne,oe,{value:ge,enumerable:!0,configurable:!0,writable:!0}):ne[oe]=ge,ne}var Ct="http://www.opengis.net/def/crs/",ht=Ct+"EPSG/0/4979",J=Ct+"EPSG/0/4326",vt=Ct+"OGC/1.3/CRS84",Tt=[ht,J,vt],$t=(Pt(xt={},ht,1),Pt(xt,J,1),Pt(xt,vt,0),xt);function nt(ne,oe){return ne.referencing.find(function(ce){return-1!==ce.coordinates.indexOf(oe)})}function q(ne){return ne.referencing.find(function(Ft){return-1!==["GeodeticCRS","GeographicCRS","GeocentricCRS","ProjectedCRS"].indexOf(Ft.system.type)})}function K(ne){return"GeographicCRS"===ne.type||-1!==Tt.indexOf(ne.id)}function X(ne){if(ne.referencing.some(function(a){return K(a.system)}))return function bt(ne){var oe=ne.referencing.find(function(_e){return K(_e.system)}),ge=$t[oe.system.id];if(ge>1)throw new Error;var ce=oe.coordinates[ge],Ft=void 0,a=void 0;if(ne.axes.has(ce)){var d=ne.axes.get(ce).values;if((Ft=d[0])>(a=d[d.length-1])){var _=[a,Ft];Ft=_[0],a=_[1]}}else{var E=[].concat(function Ot(ne){if(Array.isArray(ne)){for(var oe=0,ge=Array(ne.length);oe<ne.length;oe++)ge[oe]=ne[oe];return ge}return Array.from(ne)}(ne.axes.values())),O=E.find(function(_e){return-1!==_e.coordinates.indexOf(ce)}),j=O.coordinates.indexOf(ce);if(Ft=1/0,a=-1/0,O.dataType===Rt.COVJSON_DATATYPE_TUPLE){var W=!0,ut=!1,ot=void 0;try{for(var Lt,wt=O.values[Symbol.iterator]();!(W=(Lt=wt.next()).done);W=!0){var Ut=Lt.value[j];Ft=Math.min(Ut,Ft),a=Math.max(Ut,a)}}catch(_e){ut=!0,ot=_e}finally{try{!W&&wt.return&&wt.return()}finally{if(ut)throw ot}}}else{if(O.dataType!==Rt.COVJSON_DATATYPE_POLYGON)throw new Error("Unsupported data type: "+O.dataType);var Wt=!0,de=!1,ae=void 0;try{for(var Ue,Ce=O.values[Symbol.iterator]();!(Wt=(Ue=Ce.next()).done);Wt=!0){var nn=Ue.value,yn=!0,on=!1,dn=void 0;try{for(var He,an=nn[Symbol.iterator]();!(yn=(He=an.next()).done);yn=!0){var Nn=He.value,Le=!0,De=!1,le=void 0;try{for(var Sn,bn=Nn[Symbol.iterator]();!(Le=(Sn=bn.next()).done);Le=!0){var Gn=Sn.value[j];Ft=Math.min(Gn,Ft),a=Math.max(Gn,a)}}catch(_e){De=!0,le=_e}finally{try{!Le&&bn.return&&bn.return()}finally{if(De)throw le}}}}catch(_e){on=!0,dn=_e}finally{try{!yn&&an.return&&an.return()}finally{if(on)throw dn}}}}catch(_e){de=!0,ae=_e}finally{try{!Wt&&Ce.return&&Ce.return()}finally{if(de)throw ae}}}}var In=(a+Ft)/2,dr=In-180,Jn=In+180;return{project:function(We){var Pr,Dr=We.lon,Gr=We.lat;Pr=dr<=Dr&&Dr<=Jn?Dr:((Dr-dr)%360+360)%360+dr;var ir=k(0===ge?[Pr,Gr]:[Gr,Pr],2);return{x:ir[0],y:ir[1]}},unproject:function(We){var Dr=We.x,Gr=We.y,lr=k(0===ge?[Dr,Gr]:[Gr,Dr],2);return{lon:lr[0],lat:lr[1]}}}}(ne);var ge=q(ne);if(!ge)throw new Error("No horizontal CRS found in coverage domain");var ce=ge.system.id,Ft=Mt.get(ce);if(!Ft)throw new Error("Projection "+ce+" not cached in uriproj, use loadProjection() instead");return ct(Ft)}function $(ne){return q(ne).coordinates}function ct(ne){return{project:function(ge){var a=ne.forward([ge.lon,ge.lat]),l=k(a,2);return{x:l[0],y:l[1]}},unproject:function(ge){var a=ne.inverse([ge.x,ge.y]),l=k(a,2);return{lon:l[0],lat:l[1]}}}}function yt(ne,oe){var ge=nt(ne,oe);if(!ge)return!1;var ce=ge.system.id;if(-1===Tt.indexOf(ce))return!1;var Ft=ge.coordinates.indexOf(oe);return $t[ce]===Ft}},580:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0}),kt.normalizeIndexSubsetConstraints=xt,kt.subsetDomainByIndex=function zt(Mt,Rt){Rt=xt(Mt,Rt);var gt={type:k.DOMAIN,domainType:Mt.domainType,axes:new Map(Mt.axes),referencing:Mt.referencing},Ot=!0,Pt=!1,Ct=void 0;try{for(var vt,ht=function(){var $t=vt.value,nt=Mt.axes.get($t),q=nt.values,K=nt.bounds,X=Rt[$t],V=void 0,Z=void 0,$=X.start,ct=X.stop,bt=X.step;if(0===$&&ct===q.length&&1===bt)V=q,Z=K;else if(1===bt)V=q.subarray?q.subarray($,ct):q.slice($,ct),K&&(Z={get:function(ge){return K.get($+ge)}});else{var pt=Math.trunc((ct-$)/bt);V=new q.constructor(pt+(ct-$)%bt);for(var Nt=$,qt=0;Nt<ct;Nt+=bt,qt++)V[qt]=q[Nt];K&&(Z={get:function(ge){return K.get($+ge*bt)}})}gt.axes.set($t,{dataType:nt.dataType,coordinates:nt.coordinates,values:V,bounds:Z})},J=Object.keys(Rt)[Symbol.iterator]();!(Ot=(vt=J.next()).done);Ot=!0)ht()}catch(Tt){Pt=!0,Ct=Tt}finally{try{!Ot&&J.return&&J.return()}finally{if(Pt)throw Ct}}return gt};var k=_t(8779);function xt(Mt,Rt){var gt={};for(var Ot in Rt)if(Mt.axes.has(Ot)&&null!=Rt[Ot]){if("number"==typeof Rt[Ot]){var Pt=Rt[Ot];gt[Ot]={start:Pt,stop:Pt+1}}else gt[Ot]=Rt[Ot];var Ct=gt[Ot],ht=Ct.start,J=void 0===ht?0:ht,vt=Ct.stop,Tt=void 0===vt?Mt.axes.get(Ot).values.length:vt,$t=Ct.step,nt=void 0===$t?1:$t;if(nt<=0)throw new Error("Invalid constraint for "+Ot+": step="+nt+" must be > 0");if(J>=Tt||J<0)throw new Error("Invalid constraint for "+Ot+": stop="+Tt+" must be > start="+J+" and both >= 0");gt[Ot]={start:J,stop:Tt,step:nt}}var q=!0,K=!1,X=void 0;try{for(var Z,V=Mt.axes.keys()[Symbol.iterator]();!(q=(Z=V.next()).done);q=!0){var $=Z.value;if(!($ in gt)){var ct=Mt.axes.get($).values.length;gt[$]={start:0,stop:ct,step:1}}}}catch(bt){K=!0,X=bt}finally{try{!q&&V.return&&V.return()}finally{if(K)throw X}}return gt}},2842:(Oe,kt)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0}),kt.getLanguageTag=k,kt.getLanguageString=function xt(zt){return zt[k(zt,arguments.length<=1||void 0===arguments[1]?_t:arguments[1])]};var _t="en";function k(zt){var Mt=arguments.length<=1||void 0===arguments[1]?_t:arguments[1];if(Mt in zt)return Mt;var Rt=Mt.split("-")[0],gt=Object.keys(zt).filter(function(Ot){return Rt===Ot.split("-")[0]});return gt.length?gt[0]:Object.keys(zt)[0]}},5900:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var k=_t(5794);Object.keys(k).forEach(function(nt){"default"!==nt&&Object.defineProperty(kt,nt,{enumerable:!0,get:function(){return k[nt]}})});var xt=_t(8779);Object.keys(xt).forEach(function(nt){"default"!==nt&&Object.defineProperty(kt,nt,{enumerable:!0,get:function(){return xt[nt]}})});var zt=_t(2842);Object.keys(zt).forEach(function(nt){"default"!==nt&&Object.defineProperty(kt,nt,{enumerable:!0,get:function(){return zt[nt]}})});var Mt=_t(3230);Object.keys(Mt).forEach(function(nt){"default"!==nt&&Object.defineProperty(kt,nt,{enumerable:!0,get:function(){return Mt[nt]}})});var Rt=_t(3317);Object.keys(Rt).forEach(function(nt){"default"!==nt&&Object.defineProperty(kt,nt,{enumerable:!0,get:function(){return Rt[nt]}})});var gt=_t(1983);Object.keys(gt).forEach(function(nt){"default"!==nt&&Object.defineProperty(kt,nt,{enumerable:!0,get:function(){return gt[nt]}})});var Ot=_t(4602);Object.keys(Ot).forEach(function(nt){"default"!==nt&&Object.defineProperty(kt,nt,{enumerable:!0,get:function(){return Ot[nt]}})});var Pt=_t(6702);Object.keys(Pt).forEach(function(nt){"default"!==nt&&Object.defineProperty(kt,nt,{enumerable:!0,get:function(){return Pt[nt]}})});var Ct=_t(580);Object.keys(Ct).forEach(function(nt){"default"!==nt&&Object.defineProperty(kt,nt,{enumerable:!0,get:function(){return Ct[nt]}})});var ht=_t(5951);Object.keys(ht).forEach(function(nt){"default"!==nt&&Object.defineProperty(kt,nt,{enumerable:!0,get:function(){return ht[nt]}})});var J=_t(3456);Object.keys(J).forEach(function(nt){"default"!==nt&&Object.defineProperty(kt,nt,{enumerable:!0,get:function(){return J[nt]}})});var vt=_t(5690);Object.keys(vt).forEach(function(nt){"default"!==nt&&Object.defineProperty(kt,nt,{enumerable:!0,get:function(){return vt[nt]}})});var Tt=_t(9002);Object.keys(Tt).forEach(function(nt){"default"!==nt&&Object.defineProperty(kt,nt,{enumerable:!0,get:function(){return Tt[nt]}})});var $t=_t(768);Object.keys($t).forEach(function(nt){"default"!==nt&&Object.defineProperty(kt,nt,{enumerable:!0,get:function(){return $t[nt]}})})},1237:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var k=_t(5900);Object.keys(k).forEach(function(Mt){"default"!==Mt&&Object.defineProperty(kt,Mt,{enumerable:!0,get:function(){return k[Mt]}})});var xt=_t(501);Object.keys(xt).forEach(function(Mt){"default"!==Mt&&Object.defineProperty(kt,Mt,{enumerable:!0,get:function(){return xt[Mt]}})});var zt=_t(4797);Object.keys(zt).forEach(function(Mt){"default"!==Mt&&Object.defineProperty(kt,Mt,{enumerable:!0,get:function(){return zt[Mt]}})})},1983:(Oe,kt)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(zt){return typeof zt}:function(zt){return zt&&"function"==typeof Symbol&&zt.constructor===Symbol?"symbol":typeof zt};kt.getCategory=function xt(zt,Mt){var Rt=!0,gt=!1,Ot=void 0;try{for(var ht,Pt=function(){var Tt=function(Mt,Rt){if(Array.isArray(Mt))return Mt;if(Symbol.iterator in Object(Mt))return function zt(Mt,Rt){var gt=[],Ot=!0,Pt=!1,Ct=void 0;try{for(var J,ht=Mt[Symbol.iterator]();!(Ot=(J=ht.next()).done)&&(gt.push(J.value),!Rt||gt.length!==Rt);Ot=!0);}catch(vt){Pt=!0,Ct=vt}finally{try{!Ot&&ht.return&&ht.return()}finally{if(Pt)throw Ct}}return gt}(Mt,Rt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(ht.value,2),$t=Tt[0];if(-1!==Tt[1].indexOf(Mt))return{v:zt.observedProperty.categories.filter(function(K){return K.id===$t})[0]}},Ct=zt.categoryEncoding[Symbol.iterator]();!(Rt=(ht=Ct.next()).done);Rt=!0){var J=Pt();if("object"===(typeof J>"u"?"undefined":k(J)))return J.v}}catch(vt){gt=!0,Ot=vt}finally{try{!Rt&&Ct.return&&Ct.return()}finally{if(gt)throw Ot}}}},3317:(Oe,kt)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});var _t=function(gt,Ot){if(Array.isArray(gt))return gt;if(Symbol.iterator in Object(gt))return function Rt(gt,Ot){var Pt=[],Ct=!0,ht=!1,J=void 0;try{for(var Tt,vt=gt[Symbol.iterator]();!(Ct=(Tt=vt.next()).done)&&(Pt.push(Tt.value),!Ot||Pt.length!==Ot);Ct=!0);}catch($t){ht=!0,J=$t}finally{try{!Ct&&vt.return&&vt.return()}finally{if(ht)throw J}}return Pt}(gt,Ot);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function Mt(Rt,gt){var Ot=[].concat(function k(Rt){if(Array.isArray(Rt)){for(var gt=0,Ot=Array(Rt.length);gt<Rt.length;gt++)Ot[gt]=Rt[gt];return Ot}return Array.from(Rt)}(Rt.shape));Ot.sort(function(V,Z){return _t(V,2)[1]-_t(Z,2)[1]});var Pt="var obj = {}",Ct="",ht=!0,J=!1,vt=void 0;try{for(var $t,Tt=Ot[Symbol.iterator]();!(ht=($t=Tt.next()).done);ht=!0){var nt=_t($t.value,2),q=nt[0];Pt+="\n      for (var i"+q+"=0; i"+q+" < "+nt[1]+"; ++i"+q+") {\n        obj['"+q+"'] = i"+q+"\n    ",Ct+="}"}}catch(V){J=!0,vt=V}finally{try{!ht&&Tt.return&&Tt.return()}finally{if(J)throw vt}}Pt+="\n    fn(get(obj))\n  ",new Function("return function iterRange (get, fn) { "+Pt+" "+Ct+" }")()(Rt.get,gt)}kt.minMaxOfRange=function xt(Rt){var gt=1/0,Ot=-1/0;return Mt(Rt,function(ht){null!==ht&&(ht<gt&&(gt=ht),ht>Ot&&(Ot=ht))}),gt===1/0?[void 0,void 0]:[gt,Ot]},kt.reduceRange=function zt(Rt,gt,Ot){var Pt=Ot;return Mt(Rt,function(J){Pt=gt(Pt,J)}),Pt},kt.iterateRange=Mt},3230:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0}),kt.stringifyUnit=function xt(zt,Mt){if(!zt)return"";if(zt.symbol){var Rt=zt.symbol.value||zt.symbol;return"http://www.opengis.net/def/uom/UCUM/"===zt.symbol.type&&("Cel"===Rt?Rt="\xb0C":"1"===Rt&&(Rt="")),Rt}return(0,k.getLanguageString)(zt.label,Mt)};var k=_t(2842)},8184:(Oe,kt)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0}),kt.shallowcopy=function _t(k){var xt=void 0;if(k instanceof Map)xt=new Map(k);else for(var zt in xt=Object.create(Object.getPrototypeOf(k)),k)xt[zt]=k[zt];return xt}},4602:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0}),kt.isCoverage=xt,kt.checkCoverage=function zt(gt){if(!xt(gt))throw new Error("must be a Coverage")},kt.isDomain=Mt,kt.checkDomain=function Rt(gt){if(!Mt(gt))throw new Error("must be a Domain")};var k=_t(8779);function xt(gt){return gt.type===k.COVERAGE}function Mt(gt){return gt.type===k.DOMAIN}},6836:Oe=>{"use strict";Oe.exports=function nt(q){return new Rt(q||$t,null)};function k(q,K,X,V,Z,$){this._color=q,this.key=K,this.value=X,this.left=V,this.right=Z,this._count=$}function xt(q){return new k(q._color,q.key,q.value,q.left,q.right,q._count)}function zt(q,K){return new k(q,K.key,K.value,K.left,K.right,K._count)}function Mt(q){q._count=1+(q.left?q.left._count:0)+(q.right?q.right._count:0)}function Rt(q,K){this._compare=q,this.root=K}var gt=Rt.prototype;function Ot(q,K){var X;return K.left&&(X=Ot(q,K.left))?X:(X=q(K.key,K.value))||(K.right?Ot(q,K.right):void 0)}function Pt(q,K,X,V){if(K(q,V.key)<=0){var $;if(V.left&&($=Pt(q,K,X,V.left)))return $;if($=X(V.key,V.value))return $}if(V.right)return Pt(q,K,X,V.right)}function Ct(q,K,X,V,Z){var bt,$=X(q,Z.key),ct=X(K,Z.key);return $<=0&&(Z.left&&(bt=Ct(q,K,X,V,Z.left))||ct>0&&(bt=V(Z.key,Z.value)))?bt:ct>0&&Z.right?Ct(q,K,X,V,Z.right):void 0}function ht(q,K){this.tree=q,this._stack=K}Object.defineProperty(gt,"keys",{get:function(){var q=[];return this.forEach(function(K,X){q.push(K)}),q}}),Object.defineProperty(gt,"values",{get:function(){var q=[];return this.forEach(function(K,X){q.push(X)}),q}}),Object.defineProperty(gt,"length",{get:function(){return this.root?this.root._count:0}}),gt.insert=function(q,K){for(var X=this._compare,V=this.root,Z=[],$=[];V;){var ct=X(q,V.key);Z.push(V),$.push(ct),V=ct<=0?V.left:V.right}Z.push(new k(0,q,K,null,null,1));for(var bt=Z.length-2;bt>=0;--bt)V=Z[bt],Z[bt]=$[bt]<=0?new k(V._color,V.key,V.value,Z[bt+1],V.right,V._count+1):new k(V._color,V.key,V.value,V.left,Z[bt+1],V._count+1);for(bt=Z.length-1;bt>1;--bt){var pt=Z[bt-1];if(V=Z[bt],1===pt._color||1===V._color)break;var z=Z[bt-2];if(z.left===pt)if(pt.left===V){if(!(yt=z.right)||0!==yt._color){z._color=0,z.left=pt.right,pt._color=1,pt.right=z,Z[bt-2]=pt,Z[bt-1]=V,Mt(z),Mt(pt),bt>=3&&((Nt=Z[bt-3]).left===z?Nt.left=pt:Nt.right=pt);break}pt._color=1,z.right=zt(1,yt),z._color=0,bt-=1}else{if(!(yt=z.right)||0!==yt._color){pt.right=V.left,z._color=0,z.left=V.right,V._color=1,V.left=pt,V.right=z,Z[bt-2]=V,Z[bt-1]=pt,Mt(z),Mt(pt),Mt(V),bt>=3&&((Nt=Z[bt-3]).left===z?Nt.left=V:Nt.right=V);break}pt._color=1,z.right=zt(1,yt),z._color=0,bt-=1}else if(pt.right===V){if(!(yt=z.left)||0!==yt._color){z._color=0,z.right=pt.left,pt._color=1,pt.left=z,Z[bt-2]=pt,Z[bt-1]=V,Mt(z),Mt(pt),bt>=3&&((Nt=Z[bt-3]).right===z?Nt.right=pt:Nt.left=pt);break}pt._color=1,z.left=zt(1,yt),z._color=0,bt-=1}else{var yt;if(!(yt=z.left)||0!==yt._color){var Nt;pt.left=V.right,z._color=0,z.right=V.left,V._color=1,V.right=pt,V.left=z,Z[bt-2]=V,Z[bt-1]=pt,Mt(z),Mt(pt),Mt(V),bt>=3&&((Nt=Z[bt-3]).right===z?Nt.right=V:Nt.left=V);break}pt._color=1,z.left=zt(1,yt),z._color=0,bt-=1}}return Z[0]._color=1,new Rt(X,Z[0])},gt.forEach=function(K,X,V){if(this.root)switch(arguments.length){case 1:return Ot(K,this.root);case 2:return Pt(X,this._compare,K,this.root);case 3:return this._compare(X,V)>=0?void 0:Ct(X,V,this._compare,K,this.root)}},Object.defineProperty(gt,"begin",{get:function(){for(var q=[],K=this.root;K;)q.push(K),K=K.left;return new ht(this,q)}}),Object.defineProperty(gt,"end",{get:function(){for(var q=[],K=this.root;K;)q.push(K),K=K.right;return new ht(this,q)}}),gt.at=function(q){if(q<0)return new ht(this,[]);for(var K=this.root,X=[];;){if(X.push(K),K.left){if(q<K.left._count){K=K.left;continue}q-=K.left._count}if(!q)return new ht(this,X);if(q-=1,!K.right)break;if(q>=K.right._count)break;K=K.right}return new ht(this,[])},gt.ge=function(q){for(var K=this._compare,X=this.root,V=[],Z=0;X;){var $=K(q,X.key);V.push(X),$<=0&&(Z=V.length),X=$<=0?X.left:X.right}return V.length=Z,new ht(this,V)},gt.gt=function(q){for(var K=this._compare,X=this.root,V=[],Z=0;X;){var $=K(q,X.key);V.push(X),$<0&&(Z=V.length),X=$<0?X.left:X.right}return V.length=Z,new ht(this,V)},gt.lt=function(q){for(var K=this._compare,X=this.root,V=[],Z=0;X;){var $=K(q,X.key);V.push(X),$>0&&(Z=V.length),X=$<=0?X.left:X.right}return V.length=Z,new ht(this,V)},gt.le=function(q){for(var K=this._compare,X=this.root,V=[],Z=0;X;){var $=K(q,X.key);V.push(X),$>=0&&(Z=V.length),X=$<0?X.left:X.right}return V.length=Z,new ht(this,V)},gt.find=function(q){for(var K=this._compare,X=this.root,V=[];X;){var Z=K(q,X.key);if(V.push(X),0===Z)return new ht(this,V);X=Z<=0?X.left:X.right}return new ht(this,[])},gt.remove=function(q){var K=this.find(q);return K?K.remove():this},gt.get=function(q){for(var K=this._compare,X=this.root;X;){var V=K(q,X.key);if(0===V)return X.value;X=V<=0?X.left:X.right}};var J=ht.prototype;function vt(q,K){q.key=K.key,q.value=K.value,q.left=K.left,q.right=K.right,q._color=K._color,q._count=K._count}function $t(q,K){return q<K?-1:q>K?1:0}Object.defineProperty(J,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(J,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),J.clone=function(){return new ht(this.tree,this._stack.slice())},J.remove=function(){var q=this._stack;if(0===q.length)return this.tree;var K=new Array(q.length);K[K.length-1]=new k((X=q[q.length-1])._color,X.key,X.value,X.left,X.right,X._count);for(var V=q.length-2;V>=0;--V){var X;K[V]=(X=q[V]).left===q[V+1]?new k(X._color,X.key,X.value,K[V+1],X.right,X._count):new k(X._color,X.key,X.value,X.left,K[V+1],X._count)}if((X=K[K.length-1]).left&&X.right){var Z=K.length;for(X=X.left;X.right;)K.push(X),X=X.right;var $=K[Z-1];for(K.push(new k(X._color,$.key,$.value,X.left,X.right,X._count)),K[Z-1].key=X.key,K[Z-1].value=X.value,V=K.length-2;V>=Z;--V)K[V]=new k((X=K[V])._color,X.key,X.value,X.left,K[V+1],X._count);K[Z-1].left=K[Z]}if(0===(X=K[K.length-1])._color){var ct=K[K.length-2];for(ct.left===X?ct.left=null:ct.right===X&&(ct.right=null),K.pop(),V=0;V<K.length;++V)K[V]._count--;return new Rt(this.tree._compare,K[0])}if(X.left||X.right){for(X.left?vt(X,X.left):X.right&&vt(X,X.right),X._color=1,V=0;V<K.length-1;++V)K[V]._count--;return new Rt(this.tree._compare,K[0])}if(1===K.length)return new Rt(this.tree._compare,null);for(V=0;V<K.length;++V)K[V]._count--;var bt=K[K.length-2];return function Tt(q){for(var K,X,V,Z,$=q.length-1;$>=0;--$){if(K=q[$],0===$)return void(K._color=1);if((X=q[$-1]).left===K){if((V=X.right).right&&0===V.right._color)return Z=(V=X.right=xt(V)).right=xt(V.right),X.right=V.left,V.left=X,V.right=Z,V._color=X._color,K._color=1,X._color=1,Z._color=1,Mt(X),Mt(V),$>1&&((ct=q[$-2]).left===X?ct.left=V:ct.right=V),void(q[$-1]=V);if(V.left&&0===V.left._color)return Z=(V=X.right=xt(V)).left=xt(V.left),X.right=Z.left,V.left=Z.right,Z.left=X,Z.right=V,Z._color=X._color,X._color=1,V._color=1,K._color=1,Mt(X),Mt(V),Mt(Z),$>1&&((ct=q[$-2]).left===X?ct.left=Z:ct.right=Z),void(q[$-1]=Z);if(1===V._color){if(0===X._color)return X._color=1,void(X.right=zt(0,V));X.right=zt(0,V);continue}V=xt(V),X.right=V.left,V.left=X,V._color=X._color,X._color=0,Mt(X),Mt(V),$>1&&((ct=q[$-2]).left===X?ct.left=V:ct.right=V),q[$-1]=V,q[$]=X,$+1<q.length?q[$+1]=K:q.push(K),$+=2}else{if((V=X.left).left&&0===V.left._color)return Z=(V=X.left=xt(V)).left=xt(V.left),X.left=V.right,V.right=X,V.left=Z,V._color=X._color,K._color=1,X._color=1,Z._color=1,Mt(X),Mt(V),$>1&&((ct=q[$-2]).right===X?ct.right=V:ct.left=V),void(q[$-1]=V);if(V.right&&0===V.right._color)return Z=(V=X.left=xt(V)).right=xt(V.right),X.left=Z.right,V.right=Z.left,Z.right=X,Z.left=V,Z._color=X._color,X._color=1,V._color=1,K._color=1,Mt(X),Mt(V),Mt(Z),$>1&&((ct=q[$-2]).right===X?ct.right=Z:ct.left=Z),void(q[$-1]=Z);if(1===V._color){if(0===X._color)return X._color=1,void(X.left=zt(0,V));X.left=zt(0,V);continue}var ct;V=xt(V),X.left=V.right,V.right=X,V._color=X._color,X._color=0,Mt(X),Mt(V),$>1&&((ct=q[$-2]).right===X?ct.right=V:ct.left=V),q[$-1]=V,q[$]=X,$+1<q.length?q[$+1]=K:q.push(K),$+=2}}}(K),bt.left===X?bt.left=null:bt.right=null,new Rt(this.tree._compare,K[0])},Object.defineProperty(J,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(J,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(J,"index",{get:function(){var q=0,K=this._stack;if(0===K.length){var X=this.tree.root;return X?X._count:0}K[K.length-1].left&&(q=K[K.length-1].left._count);for(var V=K.length-2;V>=0;--V)K[V+1]===K[V].right&&(++q,K[V].left&&(q+=K[V].left._count));return q},enumerable:!0}),J.next=function(){var q=this._stack;if(0!==q.length){var K=q[q.length-1];if(K.right)for(K=K.right;K;)q.push(K),K=K.left;else for(q.pop();q.length>0&&q[q.length-1].right===K;)K=q[q.length-1],q.pop()}},Object.defineProperty(J,"hasNext",{get:function(){var q=this._stack;if(0===q.length)return!1;if(q[q.length-1].right)return!0;for(var K=q.length-1;K>0;--K)if(q[K-1].left===q[K])return!0;return!1}}),J.update=function(q){var K=this._stack;if(0===K.length)throw new Error("Can't update empty node!");var X=new Array(K.length),V=K[K.length-1];X[X.length-1]=new k(V._color,V.key,q,V.left,V.right,V._count);for(var Z=K.length-2;Z>=0;--Z)X[Z]=(V=K[Z]).left===K[Z+1]?new k(V._color,V.key,V.value,X[Z+1],V.right,V._count):new k(V._color,V.key,V.value,V.left,X[Z+1],V._count);return new Rt(this.tree._compare,X[0])},J.prev=function(){var q=this._stack;if(0!==q.length){var K=q[q.length-1];if(K.left)for(K=K.left;K;)q.push(K),K=K.right;else for(q.pop();q.length>0&&q[q.length-1].left===K;)K=q[q.length-1],q.pop()}},Object.defineProperty(J,"hasPrev",{get:function(){var q=this._stack;if(0===q.length)return!1;if(q[q.length-1].left)return!0;for(var K=q.length-1;K>0;--K)if(q[K-1].right===q[K])return!0;return!1}})},1137:(Oe,kt,_t)=>{"use strict";var k=_t(1650),xt=0,zt=1;function Rt($,ct,bt,pt,z){this.mid=$,this.left=ct,this.right=bt,this.leftPoints=pt,this.rightPoints=z,this.count=(ct?ct.count:0)+(bt?bt.count:0)+pt.length}Oe.exports=function Z($){return new X($&&0!==$.length?K($):null)};var gt=Rt.prototype;function Ot($,ct){$.mid=ct.mid,$.left=ct.left,$.right=ct.right,$.leftPoints=ct.leftPoints,$.rightPoints=ct.rightPoints,$.count=ct.count}function Pt($,ct){var bt=K(ct);$.mid=bt.mid,$.left=bt.left,$.right=bt.right,$.leftPoints=bt.leftPoints,$.rightPoints=bt.rightPoints,$.count=bt.count}function Ct($,ct){var bt=$.intervals([]);bt.push(ct),Pt($,bt)}function ht($,ct){var bt=$.intervals([]),pt=bt.indexOf(ct);return pt<0?xt:(bt.splice(pt,1),Pt($,bt),zt)}function J($,ct,bt){for(var pt=0;pt<$.length&&$[pt][0]<=ct;++pt){var z=bt($[pt]);if(z)return z}}function vt($,ct,bt){for(var pt=$.length-1;pt>=0&&$[pt][1]>=ct;--pt){var z=bt($[pt]);if(z)return z}}function Tt($,ct){for(var bt=0;bt<$.length;++bt){var pt=ct($[bt]);if(pt)return pt}}function $t($,ct){return $-ct}function nt($,ct){return $[0]-ct[0]||$[1]-ct[1]}function q($,ct){return $[1]-ct[1]||$[0]-ct[0]}function K($){if(0===$.length)return null;for(var ct=[],bt=0;bt<$.length;++bt)ct.push($[bt][0],$[bt][1]);ct.sort($t);var pt=ct[ct.length>>1],z=[],yt=[],Nt=[];for(bt=0;bt<$.length;++bt){var qt=$[bt];qt[1]<pt?z.push(qt):pt<qt[0]?yt.push(qt):Nt.push(qt)}var ne=Nt,oe=Nt.slice();return ne.sort(nt),oe.sort(q),new Rt(pt,K(z),K(yt),ne,oe)}function X($){this.root=$}gt.intervals=function($){return $.push.apply($,this.leftPoints),this.left&&this.left.intervals($),this.right&&this.right.intervals($),$},gt.insert=function($){var ct=this.count-this.leftPoints.length;if(this.count+=1,$[1]<this.mid)this.left?4*(this.left.count+1)>3*(ct+1)?Ct(this,$):this.left.insert($):this.left=K([$]);else if($[0]>this.mid)this.right?4*(this.right.count+1)>3*(ct+1)?Ct(this,$):this.right.insert($):this.right=K([$]);else{var bt=k.ge(this.leftPoints,$,nt),pt=k.ge(this.rightPoints,$,q);this.leftPoints.splice(bt,0,$),this.rightPoints.splice(pt,0,$)}},gt.remove=function($){var ct=this.count-this.leftPoints;if($[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(ct-1)?ht(this,$):2===(pt=this.left.remove($))?(this.left=null,this.count-=1,zt):(pt===zt&&(this.count-=1),pt):xt;if($[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(ct-1)?ht(this,$):2===(pt=this.right.remove($))?(this.right=null,this.count-=1,zt):(pt===zt&&(this.count-=1),pt):xt;if(1===this.count)return this.leftPoints[0]===$?2:xt;if(1===this.leftPoints.length&&this.leftPoints[0]===$){if(this.left&&this.right){for(var yt=this,Nt=this.left;Nt.right;)yt=Nt,Nt=Nt.right;if(yt===this)Nt.right=this.right;else{var qt=this.left,pt=this.right;yt.count-=Nt.count,yt.right=Nt.left,Nt.left=qt,Nt.right=pt}Ot(this,Nt),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else Ot(this,this.left?this.left:this.right);return zt}for(qt=k.ge(this.leftPoints,$,nt);qt<this.leftPoints.length&&this.leftPoints[qt][0]===$[0];++qt)if(this.leftPoints[qt]===$)for(this.count-=1,this.leftPoints.splice(qt,1),pt=k.ge(this.rightPoints,$,q);pt<this.rightPoints.length&&this.rightPoints[pt][1]===$[1];++pt)if(this.rightPoints[pt]===$)return this.rightPoints.splice(pt,1),zt;return xt},gt.queryPoint=function($,ct){return $<this.mid?this.left&&(bt=this.left.queryPoint($,ct))?bt:J(this.leftPoints,$,ct):$>this.mid?this.right&&(bt=this.right.queryPoint($,ct))?bt:vt(this.rightPoints,$,ct):Tt(this.leftPoints,ct);var bt},gt.queryInterval=function($,ct,bt){var pt;return $<this.mid&&this.left&&(pt=this.left.queryInterval($,ct,bt))||ct>this.mid&&this.right&&(pt=this.right.queryInterval($,ct,bt))?pt:ct<this.mid?J(this.leftPoints,ct,bt):$>this.mid?vt(this.rightPoints,$,bt):Tt(this.leftPoints,bt)};var V=X.prototype;V.insert=function($){this.root?this.root.insert($):this.root=new Rt($[0],null,null,[$],[$])},V.remove=function($){if(this.root){var ct=this.root.remove($);return 2===ct&&(this.root=null),ct!==xt}return!1},V.queryPoint=function($,ct){if(this.root)return this.root.queryPoint($,ct)},V.queryInterval=function($,ct,bt){if($<=ct&&this.root)return this.root.queryInterval($,ct,bt)},Object.defineProperty(V,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(V,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},4695:Oe=>{"use strict";Oe.exports=function kt(_t){for(var k=new Array(_t),xt=0;xt<_t;++xt)k[xt]=xt;return k}},5057:Oe=>{function kt(k){return!!k.constructor&&"function"==typeof k.constructor.isBuffer&&k.constructor.isBuffer(k)}Oe.exports=function(k){return null!=k&&(kt(k)||function _t(k){return"function"==typeof k.readFloatLE&&"function"==typeof k.slice&&kt(k.slice(0,0))}(k)||!!k._isBuffer)}},5836:function(Oe,kt){!function(_t){"use strict";function xt(u){var m,S,R,H;for(S=1,R=arguments.length;S<R;S++)for(m in H=arguments[S])u[m]=H[m];return u}var zt=Object.create||function(){function u(){}return function(m){return u.prototype=m,new u}}();function Mt(u,m){var S=Array.prototype.slice;if(u.bind)return u.bind.apply(u,S.call(arguments,1));var R=S.call(arguments,2);return function(){return u.apply(m,R.length?R.concat(S.call(arguments)):arguments)}}var Rt=0;function gt(u){return u._leaflet_id=u._leaflet_id||++Rt,u._leaflet_id}function Ot(u,m,S){var R,H,ft,Bt;return Bt=function(){R=!1,H&&(ft.apply(S,H),H=!1)},ft=function(){R?H=arguments:(u.apply(S,arguments),setTimeout(Bt,m),R=!0)},ft}function Pt(u,m,S){var R=m[1],H=m[0],ft=R-H;return u===R&&S?u:((u-H)%ft+ft)%ft+H}function Ct(){return!1}function ht(u,m){var S=Math.pow(10,void 0===m?6:m);return Math.round(u*S)/S}function J(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function vt(u){return J(u).split(/\s+/)}function Tt(u,m){for(var S in Object.prototype.hasOwnProperty.call(u,"options")||(u.options=u.options?zt(u.options):{}),m)u.options[S]=m[S];return u.options}function $t(u,m,S){var R=[];for(var H in u)R.push(encodeURIComponent(S?H.toUpperCase():H)+"="+encodeURIComponent(u[H]));return(m&&-1!==m.indexOf("?")?"&":"?")+R.join("&")}var nt=/\{ *([\w_-]+) *\}/g;function q(u,m){return u.replace(nt,function(S,R){var H=m[R];if(void 0===H)throw new Error("No value provided for variable "+S);return"function"==typeof H&&(H=H(m)),H})}var K=Array.isArray||function(u){return"[object Array]"===Object.prototype.toString.call(u)};function X(u,m){for(var S=0;S<u.length;S++)if(u[S]===m)return S;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Z(u){return window["webkit"+u]||window["moz"+u]||window["ms"+u]}var $=0;function ct(u){var m=+new Date,S=Math.max(0,16-(m-$));return $=m+S,window.setTimeout(u,S)}var bt=window.requestAnimationFrame||Z("RequestAnimationFrame")||ct,pt=window.cancelAnimationFrame||Z("CancelAnimationFrame")||Z("CancelRequestAnimationFrame")||function(u){window.clearTimeout(u)};function z(u,m,S){if(!S||bt!==ct)return bt.call(window,Mt(u,m));u.call(m)}function yt(u){u&&pt.call(window,u)}var Nt={extend:xt,create:zt,bind:Mt,lastId:Rt,stamp:gt,throttle:Ot,wrapNum:Pt,falseFn:Ct,formatNum:ht,trim:J,splitWords:vt,setOptions:Tt,getParamString:$t,template:q,isArray:K,indexOf:X,emptyImageUrl:V,requestFn:bt,cancelFn:pt,requestAnimFrame:z,cancelAnimFrame:yt};function qt(){}qt.extend=function(u){var m=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},S=m.__super__=this.prototype,R=zt(S);for(var H in R.constructor=m,m.prototype=R,this)Object.prototype.hasOwnProperty.call(this,H)&&"prototype"!==H&&"__super__"!==H&&(m[H]=this[H]);return u.statics&&(xt(m,u.statics),delete u.statics),u.includes&&(function ne(u){if(!(typeof L>"u")&&L&&L.Mixin){u=K(u)?u:[u];for(var m=0;m<u.length;m++)u[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(u.includes),xt.apply(null,[R].concat(u.includes)),delete u.includes),R.options&&(u.options=xt(zt(R.options),u.options)),xt(R,u),R._initHooks=[],R.callInitHooks=function(){if(!this._initHooksCalled){S.callInitHooks&&S.callInitHooks.call(this),this._initHooksCalled=!0;for(var ft=0,Bt=R._initHooks.length;ft<Bt;ft++)R._initHooks[ft].call(this)}},m},qt.include=function(u){return xt(this.prototype,u),this},qt.mergeOptions=function(u){return xt(this.prototype.options,u),this},qt.addInitHook=function(u){var m=Array.prototype.slice.call(arguments,1),S="function"==typeof u?u:function(){this[u].apply(this,m)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(S),this};var oe={on:function(u,m,S){if("object"==typeof u)for(var R in u)this._on(R,u[R],m);else for(var H=0,ft=(u=vt(u)).length;H<ft;H++)this._on(u[H],m,S);return this},off:function(u,m,S){if(u)if("object"==typeof u)for(var R in u)this._off(R,u[R],m);else for(var H=0,ft=(u=vt(u)).length;H<ft;H++)this._off(u[H],m,S);else delete this._events;return this},_on:function(u,m,S){this._events=this._events||{};var R=this._events[u];R||(this._events[u]=R=[]),S===this&&(S=void 0);for(var H={fn:m,ctx:S},ft=R,Bt=0,te=ft.length;Bt<te;Bt++)if(ft[Bt].fn===m&&ft[Bt].ctx===S)return;ft.push(H)},_off:function(u,m,S){var R,H,ft;if(this._events&&(R=this._events[u])){if(!m){for(H=0,ft=R.length;H<ft;H++)R[H].fn=Ct;return void delete this._events[u]}if(S===this&&(S=void 0),R)for(H=0,ft=R.length;H<ft;H++){var Bt=R[H];if(Bt.ctx===S&&Bt.fn===m)return Bt.fn=Ct,this._firingCount&&(this._events[u]=R=R.slice()),void R.splice(H,1)}}},fire:function(u,m,S){if(!this.listens(u,S))return this;var R=xt({},m,{type:u,target:this,sourceTarget:m&&m.sourceTarget||this});if(this._events){var H=this._events[u];if(H){this._firingCount=this._firingCount+1||1;for(var ft=0,Bt=H.length;ft<Bt;ft++){var te=H[ft];te.fn.call(te.ctx||this,R)}this._firingCount--}}return S&&this._propagateEvent(R),this},listens:function(u,m){var S=this._events&&this._events[u];if(S&&S.length)return!0;if(m)for(var R in this._eventParents)if(this._eventParents[R].listens(u,m))return!0;return!1},once:function(u,m,S){if("object"==typeof u){for(var R in u)this.once(R,u[R],m);return this}var H=Mt(function(){this.off(u,m,S).off(u,H,S)},this);return this.on(u,m,S).on(u,H,S)},addEventParent:function(u){return this._eventParents=this._eventParents||{},this._eventParents[gt(u)]=u,this},removeEventParent:function(u){return this._eventParents&&delete this._eventParents[gt(u)],this},_propagateEvent:function(u){for(var m in this._eventParents)this._eventParents[m].fire(u.type,xt({layer:u.target,propagatedFrom:u.target},u),!0)}};oe.addEventListener=oe.on,oe.removeEventListener=oe.clearAllEventListeners=oe.off,oe.addOneTimeEventListener=oe.once,oe.fireEvent=oe.fire,oe.hasEventListeners=oe.listens;var ge=qt.extend(oe);function ce(u,m,S){this.x=S?Math.round(u):u,this.y=S?Math.round(m):m}var Ft=Math.trunc||function(u){return u>0?Math.floor(u):Math.ceil(u)};function a(u,m,S){return u instanceof ce?u:K(u)?new ce(u[0],u[1]):null==u?u:"object"==typeof u&&"x"in u&&"y"in u?new ce(u.x,u.y):new ce(u,m,S)}function l(u,m){if(u)for(var S=m?[u,m]:u,R=0,H=S.length;R<H;R++)this.extend(S[R])}function d(u,m){return!u||u instanceof l?u:new l(u,m)}function _(u,m){if(u)for(var S=m?[u,m]:u,R=0,H=S.length;R<H;R++)this.extend(S[R])}function E(u,m){return u instanceof _?u:new _(u,m)}function O(u,m,S){if(isNaN(u)||isNaN(m))throw new Error("Invalid LatLng object: ("+u+", "+m+")");this.lat=+u,this.lng=+m,void 0!==S&&(this.alt=+S)}function j(u,m,S){return u instanceof O?u:K(u)&&"object"!=typeof u[0]?3===u.length?new O(u[0],u[1],u[2]):2===u.length?new O(u[0],u[1]):null:null==u?u:"object"==typeof u&&"lat"in u?new O(u.lat,"lng"in u?u.lng:u.lon,u.alt):void 0===m?null:new O(u,m,S)}ce.prototype={clone:function(){return new ce(this.x,this.y)},add:function(u){return this.clone()._add(a(u))},_add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.clone()._subtract(a(u))},_subtract:function(u){return this.x-=u.x,this.y-=u.y,this},divideBy:function(u){return this.clone()._divideBy(u)},_divideBy:function(u){return this.x/=u,this.y/=u,this},multiplyBy:function(u){return this.clone()._multiplyBy(u)},_multiplyBy:function(u){return this.x*=u,this.y*=u,this},scaleBy:function(u){return new ce(this.x*u.x,this.y*u.y)},unscaleBy:function(u){return new ce(this.x/u.x,this.y/u.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ft(this.x),this.y=Ft(this.y),this},distanceTo:function(u){var m=(u=a(u)).x-this.x,S=u.y-this.y;return Math.sqrt(m*m+S*S)},equals:function(u){return(u=a(u)).x===this.x&&u.y===this.y},contains:function(u){return u=a(u),Math.abs(u.x)<=Math.abs(this.x)&&Math.abs(u.y)<=Math.abs(this.y)},toString:function(){return"Point("+ht(this.x)+", "+ht(this.y)+")"}},l.prototype={extend:function(u){return u=a(u),this.min||this.max?(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)):(this.min=u.clone(),this.max=u.clone()),this},getCenter:function(u){return new ce((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,u)},getBottomLeft:function(){return new ce(this.min.x,this.max.y)},getTopRight:function(){return new ce(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(u){var m,S;return(u="number"==typeof u[0]||u instanceof ce?a(u):d(u))instanceof l?(m=u.min,S=u.max):m=S=u,m.x>=this.min.x&&S.x<=this.max.x&&m.y>=this.min.y&&S.y<=this.max.y},intersects:function(u){u=d(u);var m=this.min,S=this.max,R=u.min,H=u.max;return H.x>=m.x&&R.x<=S.x&&H.y>=m.y&&R.y<=S.y},overlaps:function(u){u=d(u);var m=this.min,S=this.max,R=u.min,H=u.max;return H.x>m.x&&R.x<S.x&&H.y>m.y&&R.y<S.y},isValid:function(){return!(!this.min||!this.max)}},_.prototype={extend:function(u){var R,H,m=this._southWest,S=this._northEast;if(u instanceof O)R=u,H=u;else{if(!(u instanceof _))return u?this.extend(j(u)||E(u)):this;if(H=u._northEast,!(R=u._southWest)||!H)return this}return m||S?(m.lat=Math.min(R.lat,m.lat),m.lng=Math.min(R.lng,m.lng),S.lat=Math.max(H.lat,S.lat),S.lng=Math.max(H.lng,S.lng)):(this._southWest=new O(R.lat,R.lng),this._northEast=new O(H.lat,H.lng)),this},pad:function(u){var m=this._southWest,S=this._northEast,R=Math.abs(m.lat-S.lat)*u,H=Math.abs(m.lng-S.lng)*u;return new _(new O(m.lat-R,m.lng-H),new O(S.lat+R,S.lng+H))},getCenter:function(){return new O((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new O(this.getNorth(),this.getWest())},getSouthEast:function(){return new O(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(u){u="number"==typeof u[0]||u instanceof O||"lat"in u?j(u):E(u);var R,H,m=this._southWest,S=this._northEast;return u instanceof _?(R=u.getSouthWest(),H=u.getNorthEast()):R=H=u,R.lat>=m.lat&&H.lat<=S.lat&&R.lng>=m.lng&&H.lng<=S.lng},intersects:function(u){u=E(u);var m=this._southWest,S=this._northEast,R=u.getSouthWest(),H=u.getNorthEast();return H.lat>=m.lat&&R.lat<=S.lat&&H.lng>=m.lng&&R.lng<=S.lng},overlaps:function(u){u=E(u);var m=this._southWest,S=this._northEast,R=u.getSouthWest(),H=u.getNorthEast();return H.lat>m.lat&&R.lat<S.lat&&H.lng>m.lng&&R.lng<S.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(u,m){return!!u&&(u=E(u),this._southWest.equals(u.getSouthWest(),m)&&this._northEast.equals(u.getNorthEast(),m))},isValid:function(){return!(!this._southWest||!this._northEast)}},O.prototype={equals:function(u,m){return!!u&&(u=j(u),Math.max(Math.abs(this.lat-u.lat),Math.abs(this.lng-u.lng))<=(void 0===m?1e-9:m))},toString:function(u){return"LatLng("+ht(this.lat,u)+", "+ht(this.lng,u)+")"},distanceTo:function(u){return ut.distance(this,j(u))},wrap:function(){return ut.wrapLatLng(this)},toBounds:function(u){var m=180*u/40075017,S=m/Math.cos(Math.PI/180*this.lat);return E([this.lat-m,this.lng-S],[this.lat+m,this.lng+S])},clone:function(){return new O(this.lat,this.lng,this.alt)}};var u,W={latLngToPoint:function(u,m){var S=this.projection.project(u),R=this.scale(m);return this.transformation._transform(S,R)},pointToLatLng:function(u,m){var S=this.scale(m),R=this.transformation.untransform(u,S);return this.projection.unproject(R)},project:function(u){return this.projection.project(u)},unproject:function(u){return this.projection.unproject(u)},scale:function(u){return 256*Math.pow(2,u)},zoom:function(u){return Math.log(u/256)/Math.LN2},getProjectedBounds:function(u){if(this.infinite)return null;var m=this.projection.bounds,S=this.scale(u);return new l(this.transformation.transform(m.min,S),this.transformation.transform(m.max,S))},infinite:!1,wrapLatLng:function(u){var m=this.wrapLng?Pt(u.lng,this.wrapLng,!0):u.lng;return new O(this.wrapLat?Pt(u.lat,this.wrapLat,!0):u.lat,m,u.alt)},wrapLatLngBounds:function(u){var m=u.getCenter(),S=this.wrapLatLng(m),R=m.lat-S.lat,H=m.lng-S.lng;if(0===R&&0===H)return u;var ft=u.getSouthWest(),Bt=u.getNorthEast();return new _(new O(ft.lat-R,ft.lng-H),new O(Bt.lat-R,Bt.lng-H))}},ut=xt({},W,{wrapLng:[-180,180],R:6371e3,distance:function(u,m){var S=Math.PI/180,R=u.lat*S,H=m.lat*S,ft=Math.sin((m.lat-u.lat)*S/2),Bt=Math.sin((m.lng-u.lng)*S/2),te=ft*ft+Math.cos(R)*Math.cos(H)*Bt*Bt,he=2*Math.atan2(Math.sqrt(te),Math.sqrt(1-te));return this.R*he}}),wt={R:6378137,MAX_LATITUDE:85.0511287798,project:function(u){var m=Math.PI/180,S=this.MAX_LATITUDE,R=Math.max(Math.min(S,u.lat),-S),H=Math.sin(R*m);return new ce(this.R*u.lng*m,this.R*Math.log((1+H)/(1-H))/2)},unproject:function(u){var m=180/Math.PI;return new O((2*Math.atan(Math.exp(u.y/this.R))-Math.PI/2)*m,u.x*m/this.R)},bounds:(u=6378137*Math.PI,new l([-u,-u],[u,u]))};function Lt(u,m,S,R){if(K(u))return this._a=u[0],this._b=u[1],this._c=u[2],void(this._d=u[3]);this._a=u,this._b=m,this._c=S,this._d=R}function Ht(u,m,S,R){return new Lt(u,m,S,R)}Lt.prototype={transform:function(u,m){return this._transform(u.clone(),m)},_transform:function(u,m){return u.x=(m=m||1)*(this._a*u.x+this._b),u.y=m*(this._c*u.y+this._d),u},untransform:function(u,m){return new ce((u.x/(m=m||1)-this._b)/this._a,(u.y/m-this._d)/this._c)}};var Ut=xt({},ut,{code:"EPSG:3857",projection:wt,transformation:function(){var u=.5/(Math.PI*wt.R);return Ht(u,.5,-u,.5)}()}),Wt=xt({},Ut,{code:"EPSG:900913"});function de(u){return document.createElementNS("http://www.w3.org/2000/svg",u)}function ae(u,m){var R,H,ft,Bt,te,he,S="";for(R=0,ft=u.length;R<ft;R++){for(H=0,Bt=(te=u[R]).length;H<Bt;H++)S+=(H?"L":"M")+(he=te[H]).x+" "+he.y;S+=m?to?"z":"x":""}return S||"M0 0"}var Ce=document.documentElement.style,Ue="ActiveXObject"in window,nn=Ue&&!document.addEventListener,yn="msLaunchUri"in navigator&&!("documentMode"in document),on=Xr("webkit"),dn=Xr("android"),an=Xr("android 2")||Xr("android 3"),He=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Nn=dn&&Xr("Google")&&He<537&&!("AudioNode"in window),Le=!!window.opera,De=!yn&&Xr("chrome"),le=Xr("gecko")&&!on&&!Le&&!Ue,bn=!De&&Xr("safari"),Sn=Xr("phantom"),cn="OTransition"in Ce,Gn=0===navigator.platform.indexOf("Win"),In=Ue&&"transition"in Ce,dr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!an,Jn="MozPerspective"in Ce,_e=!window.L_DISABLE_3D&&(In||dr||Jn)&&!cn&&!Sn,We=typeof orientation<"u"||Xr("mobile"),Dr=We&&on,Gr=We&&dr,Pr=!window.PointerEvent&&window.MSPointerEvent,lr=!(!window.PointerEvent&&!Pr),ir=!window.L_NO_TOUCH&&(lr||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Vr=We&&Le,Gi=We&&le,ui=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,qr=function(){var u=!1;try{var m=Object.defineProperty({},"passive",{get:function(){u=!0}});window.addEventListener("testPassiveEventSupport",Ct,m),window.removeEventListener("testPassiveEventSupport",Ct,m)}catch{}return u}(),en=!!document.createElement("canvas").getContext,to=!(!document.createElementNS||!de("svg").createSVGRect),Yr=!to&&function(){try{var u=document.createElement("div");u.innerHTML='<v:shape adj="1"/>';var m=u.firstChild;return m.style.behavior="url(#default#VML)",m&&"object"==typeof m.adj}catch{return!1}}();function Xr(u){return navigator.userAgent.toLowerCase().indexOf(u)>=0}var Zr={ie:Ue,ielt9:nn,edge:yn,webkit:on,android:dn,android23:an,androidStock:Nn,opera:Le,chrome:De,gecko:le,safari:bn,phantom:Sn,opera12:cn,win:Gn,ie3d:In,webkit3d:dr,gecko3d:Jn,any3d:_e,mobile:We,mobileWebkit:Dr,mobileWebkit3d:Gr,msPointer:Pr,pointer:lr,touch:ir,mobileOpera:Vr,mobileGecko:Gi,retina:ui,passiveEvents:qr,canvas:en,svg:to,vml:Yr},No=Pr?"MSPointerDown":"pointerdown",os=Pr?"MSPointerMove":"pointermove",Na=Pr?"MSPointerUp":"pointerup",Jo=Pr?"MSPointerCancel":"pointercancel",ei={},as=!1;function va(u,m,S,R){return"touchstart"===m?function Il(u,m,S){var R=Mt(function(H){H.MSPOINTER_TYPE_TOUCH&&H.pointerType===H.MSPOINTER_TYPE_TOUCH&&Bo(H),ko(H,m)});u["_leaflet_touchstart"+S]=R,u.addEventListener(No,R,!1),as||(document.addEventListener(No,eo,!0),document.addEventListener(os,ss,!0),document.addEventListener(Na,su,!0),document.addEventListener(Jo,su,!0),as=!0)}(u,S,R):"touchmove"===m?function gh(u,m,S){var R=function(H){H.pointerType===(H.MSPOINTER_TYPE_MOUSE||"mouse")&&0===H.buttons||ko(H,m)};u["_leaflet_touchmove"+S]=R,u.addEventListener(os,R,!1)}(u,S,R):"touchend"===m&&function Br(u,m,S){var R=function(H){ko(H,m)};u["_leaflet_touchend"+S]=R,u.addEventListener(Na,R,!1),u.addEventListener(Jo,R,!1)}(u,S,R),this}function eo(u){ei[u.pointerId]=u}function ss(u){ei[u.pointerId]&&(ei[u.pointerId]=u)}function su(u){delete ei[u.pointerId]}function ko(u,m){for(var S in u.touches=[],ei)u.touches.push(ei[S]);u.changedTouches=[u],m(u)}var no=Pr?"MSPointerDown":lr?"pointerdown":"touchstart",ro=Pr?"MSPointerUp":lr?"pointerup":"touchend",Ns="_leaflet_";var li,Cr,Qe,Vs,Ie,uu=tr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ka=tr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ks="webkitTransition"===ka||"OTransition"===ka?ka+"End":"transitionend";function Ll(u){return"string"==typeof u?document.getElementById(u):u}function Fs(u,m){var S=u.style[m]||u.currentStyle&&u.currentStyle[m];if((!S||"auto"===S)&&document.defaultView){var R=document.defaultView.getComputedStyle(u,null);S=R?R[m]:null}return"auto"===S?null:S}function Yn(u,m,S){var R=document.createElement(u);return R.className=m||"",S&&S.appendChild(R),R}function Mr(u){var m=u.parentNode;m&&m.removeChild(u)}function us(u){for(;u.firstChild;)u.removeChild(u.firstChild)}function Fa(u){var m=u.parentNode;m&&m.lastChild!==u&&m.appendChild(u)}function Fo(u){var m=u.parentNode;m&&m.firstChild!==u&&m.insertBefore(u,m.firstChild)}function Gu(u,m){if(void 0!==u.classList)return u.classList.contains(m);var S=lu(u);return S.length>0&&new RegExp("(^|\\s)"+m+"(\\s|$)").test(S)}function Mn(u,m){if(void 0!==u.classList)for(var S=vt(m),R=0,H=S.length;R<H;R++)u.classList.add(S[R]);else if(!Gu(u,m)){var ft=lu(u);Lr(u,(ft?ft+" ":"")+m)}}function Ir(u,m){void 0!==u.classList?u.classList.remove(m):Lr(u,J((" "+lu(u)+" ").replace(" "+m+" "," ")))}function Lr(u,m){void 0===u.className.baseVal?u.className=m:u.className.baseVal=m}function lu(u){return u.correspondingElement&&(u=u.correspondingElement),void 0===u.className.baseVal?u.className:u.className.baseVal}function po(u,m){"opacity"in u.style?u.style.opacity=m:"filter"in u.style&&function Oi(u,m){var S=!1,R="DXImageTransform.Microsoft.Alpha";try{S=u.filters.item(R)}catch{if(1===m)return}m=Math.round(100*m),S?(S.Enabled=100!==m,S.Opacity=m):u.style.filter+=" progid:"+R+"(opacity="+m+")"}(u,m)}function tr(u){for(var m=document.documentElement.style,S=0;S<u.length;S++)if(u[S]in m)return u[S];return!1}function ta(u,m,S){var R=m||new ce(0,0);u.style[uu]=(In?"translate("+R.x+"px,"+R.y+"px)":"translate3d("+R.x+"px,"+R.y+"px,0)")+(S?" scale("+S+")":"")}function pn(u,m){u._leaflet_pos=m,_e?ta(u,m):(u.style.left=m.x+"px",u.style.top=m.y+"px")}function Ni(u){return u._leaflet_pos||new ce(0,0)}if("onselectstart"in document)li=function(){kn(window,"selectstart",Bo)},Cr=function(){Xn(window,"selectstart",Bo)};else{var Vo=tr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);li=function(){if(Vo){var u=document.documentElement.style;Qe=u[Vo],u[Vo]="none"}},Cr=function(){Vo&&(document.documentElement.style[Vo]=Qe,Qe=void 0)}}function cu(){kn(window,"dragstart",Bo)}function Rl(){Xn(window,"dragstart",Bo)}function _a(u){for(;-1===u.tabIndex;)u=u.parentNode;u.style&&(sn(),Vs=u,Ie=u.style.outline,u.style.outline="none",kn(window,"keydown",sn))}function sn(){Vs&&(Vs.style.outline=Ie,Vs=void 0,Ie=void 0,Xn(window,"keydown",sn))}function or(u){do{u=u.parentNode}while(!(u.offsetWidth&&u.offsetHeight||u===document.body));return u}function fu(u){var m=u.getBoundingClientRect();return{x:m.width/u.offsetWidth||1,y:m.height/u.offsetHeight||1,boundingClientRect:m}}var hp={TRANSFORM:uu,TRANSITION:ka,TRANSITION_END:ks,get:Ll,getStyle:Fs,create:Yn,remove:Mr,empty:us,toFront:Fa,toBack:Fo,hasClass:Gu,addClass:Mn,removeClass:Ir,setClass:Lr,getClass:lu,setOpacity:po,testProp:tr,setTransform:ta,setPosition:pn,getPosition:Ni,disableTextSelection:li,enableTextSelection:Cr,disableImageDrag:cu,enableImageDrag:Rl,preventOutline:_a,restoreOutline:sn,getSizedParentNode:or,getScale:fu};function kn(u,m,S,R){if("object"==typeof m)for(var H in m)Ol(u,H,m[H],S);else for(var ft=0,Bt=(m=vt(m)).length;ft<Bt;ft++)Ol(u,m[ft],S,R);return this}var Ui="_leaflet_events";function Xn(u,m,S,R){if("object"==typeof m)for(var H in m)ea(u,H,m[H],S);else if(m)for(var ft=0,Bt=(m=vt(m)).length;ft<Bt;ft++)ea(u,m[ft],S,R);else{for(var te in u[Ui])ea(u,te,u[Ui][te]);delete u[Ui]}return this}function vh(){if(lr)return!(yn||bn)}var Uu={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ol(u,m,S,R){var H=m+gt(S)+(R?"_"+gt(R):"");if(u[Ui]&&u[Ui][H])return this;var ft=function(te){return S.call(R||u,te||window.event)},Bt=ft;lr&&0===m.indexOf("touch")?va(u,m,ft,H):ir&&"dblclick"===m&&!vh()?function Nc(u,m,S){var R,H,ft=!1,Bt=250;function te(we){if(lr){if(!we.isPrimary||"mouse"===we.pointerType)return}else if(we.touches.length>1)return;var Fe=Date.now(),Ze=Fe-(R||Fe);H=we.touches?we.touches[0]:we,ft=Ze>0&&Ze<=Bt,R=Fe}function he(we){if(ft&&!H.cancelBubble){if(lr){if("mouse"===we.pointerType)return;var Ze,Un,Fe={};for(Un in H)Fe[Un]=(Ze=H[Un])&&Ze.bind?Ze.bind(H):Ze;H=Fe}H.type="dblclick",H.button=0,m(H),R=null}}return u[Ns+no+S]=te,u[Ns+ro+S]=he,u[Ns+"dblclick"+S]=m,u.addEventListener(no,te,!!qr&&{passive:!1}),u.addEventListener(ro,he,!!qr&&{passive:!1}),u.addEventListener("dblclick",m,!1),this}(u,ft,H):"addEventListener"in u?"touchstart"===m||"touchmove"===m||"wheel"===m||"mousewheel"===m?u.addEventListener(Uu[m]||m,ft,!!qr&&{passive:!1}):"mouseenter"===m||"mouseleave"===m?u.addEventListener(Uu[m],ft=function(te){te=te||window.event,Nl(u,te)&&Bt(te)},!1):u.addEventListener(m,Bt,!1):"attachEvent"in u&&u.attachEvent("on"+m,ft),u[Ui]=u[Ui]||{},u[Ui][H]=ft}function ea(u,m,S,R){var H=m+gt(S)+(R?"_"+gt(R):""),ft=u[Ui]&&u[Ui][H];if(!ft)return this;lr&&0===m.indexOf("touch")?function zu(u,m,S){var R=u["_leaflet_"+m+S];return"touchstart"===m?u.removeEventListener(No,R,!1):"touchmove"===m?u.removeEventListener(os,R,!1):"touchend"===m&&(u.removeEventListener(Na,R,!1),u.removeEventListener(Jo,R,!1)),this}(u,m,H):ir&&"dblclick"===m&&!vh()?function mh(u,m){var R=u[Ns+ro+m],H=u[Ns+"dblclick"+m];return u.removeEventListener(no,u[Ns+no+m],!!qr&&{passive:!1}),u.removeEventListener(ro,R,!!qr&&{passive:!1}),u.removeEventListener("dblclick",H,!1),this}(u,H):"removeEventListener"in u?u.removeEventListener(Uu[m]||m,ft,!1):"detachEvent"in u&&u.detachEvent("on"+m,ft),u[Ui][H]=null}function Bs(u){return u.stopPropagation?u.stopPropagation():u.originalEvent?u.originalEvent._stopped=!0:u.cancelBubble=!0,Bc(u),this}function ls(u){return Ol(u,"wheel",Bs),this}function ju(u){return kn(u,"mousedown touchstart dblclick",Bs),Ol(u,"click",Hn),this}function Bo(u){return u.preventDefault?u.preventDefault():u.returnValue=!1,this}function ya(u){return Bo(u),Bs(u),this}function kc(u,m){if(!m)return new ce(u.clientX,u.clientY);var S=fu(m),R=S.boundingClientRect;return new ce((u.clientX-R.left)/S.x-m.clientLeft,(u.clientY-R.top)/S.y-m.clientTop)}var Fc=Gn&&De?2*window.devicePixelRatio:le?window.devicePixelRatio:1;function Vc(u){return yn?u.wheelDeltaY/2:u.deltaY&&0===u.deltaMode?-u.deltaY/Fc:u.deltaY&&1===u.deltaMode?20*-u.deltaY:u.deltaY&&2===u.deltaMode?60*-u.deltaY:u.deltaX||u.deltaZ?0:u.wheelDelta?(u.wheelDeltaY||u.wheelDelta)/2:u.detail&&Math.abs(u.detail)<32765?20*-u.detail:u.detail?u.detail/-32765*60:0}var ji={};function Hn(u){ji[u.type]=!0}function Bc(u){var m=ji[u.type];return ji[u.type]=!1,m}function Nl(u,m){var S=m.relatedTarget;if(!S)return!0;try{for(;S&&S!==u;)S=S.parentNode}catch{return!1}return S!==u}var dp={on:kn,off:Xn,stopPropagation:Bs,disableScrollPropagation:ls,disableClickPropagation:ju,preventDefault:Bo,stop:ya,getMousePosition:kc,getWheelDelta:Vc,fakeStop:Hn,skipped:Bc,isExternalTarget:Nl,addListener:kn,removeListener:Xn},un=ge.extend({run:function(u,m,S,R){this.stop(),this._el=u,this._inProgress=!0,this._duration=S||.25,this._easeOutPower=1/Math.max(R||.5,.2),this._startPos=Ni(u),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=z(this._animate,this),this._step()},_step:function(u){var m=+new Date-this._startTime,S=1e3*this._duration;m<S?this._runFrame(this._easeOut(m/S),u):(this._runFrame(1),this._complete())},_runFrame:function(u,m){var S=this._startPos.add(this._offset.multiplyBy(u));m&&S._round(),pn(this._el,S),this.fire("step")},_complete:function(){yt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(u){return 1-Math.pow(1-u,this._easeOutPower)}}),ar=ge.extend({options:{crs:Ut,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(u,m){m=Tt(this,m),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(u),this._initLayout(),this._onResize=Mt(this._onResize,this),this._initEvents(),m.maxBounds&&this.setMaxBounds(m.maxBounds),void 0!==m.zoom&&(this._zoom=this._limitZoom(m.zoom)),m.center&&void 0!==m.zoom&&this.setView(j(m.center),m.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ka&&_e&&!Vr&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),kn(this._proxy,ks,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(u,m,S){return m=void 0===m?this._zoom:this._limitZoom(m),u=this._limitCenter(j(u),m,this.options.maxBounds),S=S||{},this._stop(),this._loaded&&!S.reset&&!0!==S&&(void 0!==S.animate&&(S.zoom=xt({animate:S.animate},S.zoom),S.pan=xt({animate:S.animate,duration:S.duration},S.pan)),this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(u,m,S.zoom):this._tryAnimatedPan(u,S.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(u,m),this)},setZoom:function(u,m){return this._loaded?this.setView(this.getCenter(),u,{zoom:m}):(this._zoom=u,this)},zoomIn:function(u,m){return this.setZoom(this._zoom+(u=u||(_e?this.options.zoomDelta:1)),m)},zoomOut:function(u,m){return this.setZoom(this._zoom-(u=u||(_e?this.options.zoomDelta:1)),m)},setZoomAround:function(u,m,S){var R=this.getZoomScale(m),H=this.getSize().divideBy(2),Bt=(u instanceof ce?u:this.latLngToContainerPoint(u)).subtract(H).multiplyBy(1-1/R),te=this.containerPointToLatLng(H.add(Bt));return this.setView(te,m,{zoom:S})},_getBoundsCenterZoom:function(u,m){m=m||{},u=u.getBounds?u.getBounds():E(u);var S=a(m.paddingTopLeft||m.padding||[0,0]),R=a(m.paddingBottomRight||m.padding||[0,0]),H=this.getBoundsZoom(u,!1,S.add(R));if((H="number"==typeof m.maxZoom?Math.min(m.maxZoom,H):H)===1/0)return{center:u.getCenter(),zoom:H};var ft=R.subtract(S).divideBy(2),Bt=this.project(u.getSouthWest(),H),te=this.project(u.getNorthEast(),H);return{center:this.unproject(Bt.add(te).divideBy(2).add(ft),H),zoom:H}},fitBounds:function(u,m){if(!(u=E(u)).isValid())throw new Error("Bounds are not valid.");var S=this._getBoundsCenterZoom(u,m);return this.setView(S.center,S.zoom,m)},fitWorld:function(u){return this.fitBounds([[-90,-180],[90,180]],u)},panTo:function(u,m){return this.setView(u,this._zoom,{pan:m})},panBy:function(u,m){if(m=m||{},!(u=a(u).round()).x&&!u.y)return this.fire("moveend");if(!0!==m.animate&&!this.getSize().contains(u))return this._resetView(this.unproject(this.project(this.getCenter()).add(u)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new un,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),!1!==m.animate){Mn(this._mapPane,"leaflet-pan-anim");var S=this._getMapPanePos().subtract(u).round();this._panAnim.run(this._mapPane,S,m.duration||.25,m.easeLinearity)}else this._rawPanBy(u),this.fire("move").fire("moveend");return this},flyTo:function(u,m,S){if(!1===(S=S||{}).animate||!_e)return this.setView(u,m,S);this._stop();var R=this.project(this.getCenter()),H=this.project(u),ft=this.getSize(),Bt=this._zoom;u=j(u),m=void 0===m?Bt:m;var te=Math.max(ft.x,ft.y),he=te*this.getZoomScale(Bt,m),we=H.distanceTo(R)||1,Fe=1.42,Ze=Fe*Fe;function Un(Tr){var vu=(he*he-te*te+(Tr?-1:1)*Ze*Ze*we*we)/(2*(Tr?he:te)*Ze*we),Gl=Math.sqrt(vu*vu+1)-vu;return Gl<1e-9?-18:Math.log(Gl)}function di(Tr){return(Math.exp(Tr)-Math.exp(-Tr))/2}function Ai(Tr){return(Math.exp(Tr)+Math.exp(-Tr))/2}var uo=Un(0);function Sh(Tr){return te*(Ai(uo)*function Vl(Tr){return di(Tr)/Ai(Tr)}(uo+Fe*Tr)-di(uo))/Ze}var Bl=Date.now(),js=(Un(1)-uo)/Fe,$l=S.duration?1e3*S.duration:1e3*js*.8;return this._moveStart(!0,S.noMoveStart),function tl(){var Tr=(Date.now()-Bl)/$l,el=function Ea(Tr){return 1-Math.pow(1-Tr,1.5)}(Tr)*js;Tr<=1?(this._flyToFrame=z(tl,this),this._move(this.unproject(R.add(H.subtract(R).multiplyBy(Sh(el)/we)),Bt),this.getScaleZoom(te/function Ta(Tr){return te*(Ai(uo)/Ai(uo+Fe*Tr))}(el),Bt),{flyTo:!0})):this._move(u,m)._moveEnd(!0)}.call(this),this},flyToBounds:function(u,m){var S=this._getBoundsCenterZoom(u,m);return this.flyTo(S.center,S.zoom,m)},setMaxBounds:function(u){return(u=E(u)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=u,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(u){var m=this.options.minZoom;return this.options.minZoom=u,this._loaded&&m!==u&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(u):this},setMaxZoom:function(u){var m=this.options.maxZoom;return this.options.maxZoom=u,this._loaded&&m!==u&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(u):this},panInsideBounds:function(u,m){this._enforcingBounds=!0;var S=this.getCenter(),R=this._limitCenter(S,this._zoom,E(u));return S.equals(R)||this.panTo(R,m),this._enforcingBounds=!1,this},panInside:function(u,m){var S=a((m=m||{}).paddingTopLeft||m.padding||[0,0]),R=a(m.paddingBottomRight||m.padding||[0,0]),H=this.getCenter(),ft=this.project(H),Bt=this.project(u),te=this.getPixelBounds(),he=te.getSize().divideBy(2),we=d([te.min.add(S),te.max.subtract(R)]);if(!we.contains(Bt)){this._enforcingBounds=!0;var Fe=ft.subtract(Bt),Ze=a(Bt.x+Fe.x,Bt.y+Fe.y);(Bt.x<we.min.x||Bt.x>we.max.x)&&(Ze.x=ft.x-Fe.x,Fe.x>0?Ze.x+=he.x-S.x:Ze.x-=he.x-R.x),(Bt.y<we.min.y||Bt.y>we.max.y)&&(Ze.y=ft.y-Fe.y,Fe.y>0?Ze.y+=he.y-S.y:Ze.y-=he.y-R.y),this.panTo(this.unproject(Ze),m),this._enforcingBounds=!1}return this},invalidateSize:function(u){if(!this._loaded)return this;u=xt({animate:!1,pan:!0},!0===u?{animate:!0}:u);var m=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var S=this.getSize(),R=m.divideBy(2).round(),H=S.divideBy(2).round(),ft=R.subtract(H);return ft.x||ft.y?(u.animate&&u.pan?this.panBy(ft):(u.pan&&this._rawPanBy(ft),this.fire("move"),u.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(Mt(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:m,newSize:S})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(u){if(u=this._locateOptions=xt({timeout:1e4,watch:!1},u),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=Mt(this._handleGeolocationResponse,this),S=Mt(this._handleGeolocationError,this);return u.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,S,u):navigator.geolocation.getCurrentPosition(m,S,u),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(u){var m=u.code,S=u.message||(1===m?"permission denied":2===m?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+S+"."})},_handleGeolocationResponse:function(u){var R=new O(u.coords.latitude,u.coords.longitude),H=R.toBounds(2*u.coords.accuracy),ft=this._locateOptions;if(ft.setView){var Bt=this.getBoundsZoom(H);this.setView(R,ft.maxZoom?Math.min(Bt,ft.maxZoom):Bt)}var te={latlng:R,bounds:H,timestamp:u.timestamp};for(var he in u.coords)"number"==typeof u.coords[he]&&(te[he]=u.coords[he]);this.fire("locationfound",te)},addHandler:function(u,m){if(!m)return this;var S=this[u]=new m(this);return this._handlers.push(S),this.options[u]&&S.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var u;for(u in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Mr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(yt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[u].remove();for(u in this._panes)Mr(this._panes[u]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(u,m){var R=Yn("div","leaflet-pane"+(u?" leaflet-"+u.replace("Pane","")+"-pane":""),m||this._mapPane);return u&&(this._panes[u]=R),R},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var u=this.getPixelBounds();return new _(this.unproject(u.getBottomLeft()),this.unproject(u.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(u,m,S){u=E(u),S=a(S||[0,0]);var R=this.getZoom()||0,H=this.getMinZoom(),ft=this.getMaxZoom(),Bt=u.getNorthWest(),te=u.getSouthEast(),he=this.getSize().subtract(S),we=d(this.project(te,R),this.project(Bt,R)).getSize(),Fe=_e?this.options.zoomSnap:1,Ze=he.x/we.x,Un=he.y/we.y,di=m?Math.max(Ze,Un):Math.min(Ze,Un);return R=this.getScaleZoom(di,R),Fe&&(R=Math.round(R/(Fe/100))*(Fe/100),R=m?Math.ceil(R/Fe)*Fe:Math.floor(R/Fe)*Fe),Math.max(H,Math.min(ft,R))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ce(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(u,m){var S=this._getTopLeftPoint(u,m);return new l(S,S.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(u){return this.options.crs.getProjectedBounds(void 0===u?this.getZoom():u)},getPane:function(u){return"string"==typeof u?this._panes[u]:u},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(u,m){var S=this.options.crs;return m=void 0===m?this._zoom:m,S.scale(u)/S.scale(m)},getScaleZoom:function(u,m){var S=this.options.crs,R=S.zoom(u*S.scale(m=void 0===m?this._zoom:m));return isNaN(R)?1/0:R},project:function(u,m){return m=void 0===m?this._zoom:m,this.options.crs.latLngToPoint(j(u),m)},unproject:function(u,m){return m=void 0===m?this._zoom:m,this.options.crs.pointToLatLng(a(u),m)},layerPointToLatLng:function(u){var m=a(u).add(this.getPixelOrigin());return this.unproject(m)},latLngToLayerPoint:function(u){return this.project(j(u))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(u){return this.options.crs.wrapLatLng(j(u))},wrapLatLngBounds:function(u){return this.options.crs.wrapLatLngBounds(E(u))},distance:function(u,m){return this.options.crs.distance(j(u),j(m))},containerPointToLayerPoint:function(u){return a(u).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(u){return a(u).add(this._getMapPanePos())},containerPointToLatLng:function(u){var m=this.containerPointToLayerPoint(a(u));return this.layerPointToLatLng(m)},latLngToContainerPoint:function(u){return this.layerPointToContainerPoint(this.latLngToLayerPoint(j(u)))},mouseEventToContainerPoint:function(u){return kc(u,this._container)},mouseEventToLayerPoint:function(u){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(u))},mouseEventToLatLng:function(u){return this.layerPointToLatLng(this.mouseEventToLayerPoint(u))},_initContainer:function(u){var m=this._container=Ll(u);if(!m)throw new Error("Map container not found.");if(m._leaflet_id)throw new Error("Map container is already initialized.");kn(m,"scroll",this._onScroll,this),this._containerId=gt(m)},_initLayout:function(){var u=this._container;this._fadeAnimated=this.options.fadeAnimation&&_e,Mn(u,"leaflet-container"+(ir?" leaflet-touch":"")+(ui?" leaflet-retina":"")+(nn?" leaflet-oldie":"")+(bn?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=Fs(u,"position");"absolute"!==m&&"relative"!==m&&"fixed"!==m&&(u.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var u=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),pn(this._mapPane,new ce(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Mn(u.markerPane,"leaflet-zoom-hide"),Mn(u.shadowPane,"leaflet-zoom-hide"))},_resetView:function(u,m){pn(this._mapPane,new ce(0,0));var S=!this._loaded;this._loaded=!0,m=this._limitZoom(m),this.fire("viewprereset");var R=this._zoom!==m;this._moveStart(R,!1)._move(u,m)._moveEnd(R),this.fire("viewreset"),S&&this.fire("load")},_moveStart:function(u,m){return u&&this.fire("zoomstart"),m||this.fire("movestart"),this},_move:function(u,m,S){void 0===m&&(m=this._zoom);var R=this._zoom!==m;return this._zoom=m,this._lastCenter=u,this._pixelOrigin=this._getNewPixelOrigin(u),(R||S&&S.pinch)&&this.fire("zoom",S),this.fire("move",S)},_moveEnd:function(u){return u&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return yt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(u){pn(this._mapPane,this._getMapPanePos().subtract(u))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(u){this._targets={},this._targets[gt(this._container)]=this;var m=u?Xn:kn;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&m(window,"resize",this._onResize,this),_e&&this.options.transform3DLimit&&(u?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){yt(this._resizeRequest),this._resizeRequest=z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var u=this._getMapPanePos();Math.max(Math.abs(u.x),Math.abs(u.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(u,m){for(var R,S=[],H="mouseout"===m||"mouseover"===m,ft=u.target||u.srcElement,Bt=!1;ft;){if((R=this._targets[gt(ft)])&&("click"===m||"preclick"===m)&&!u._simulated&&this._draggableMoved(R)){Bt=!0;break}if(R&&R.listens(m,!0)&&(H&&!Nl(ft,u)||(S.push(R),H))||ft===this._container)break;ft=ft.parentNode}return!S.length&&!Bt&&!H&&Nl(ft,u)&&(S=[this]),S},_handleDOMEvent:function(u){if(this._loaded&&!Bc(u)){var m=u.type;("mousedown"===m||"keypress"===m||"keyup"===m||"keydown"===m)&&_a(u.target||u.srcElement),this._fireDOMEvent(u,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(u,m,S){if("click"===u.type){var R=xt({},u);R.type="preclick",this._fireDOMEvent(R,R.type,S)}if(!u._stopped&&(S=(S||[]).concat(this._findEventTargets(u,m))).length){var H=S[0];"contextmenu"===m&&H.listens(m,!0)&&Bo(u);var ft={originalEvent:u};if("keypress"!==u.type&&"keydown"!==u.type&&"keyup"!==u.type){var Bt=H.getLatLng&&(!H._radius||H._radius<=10);ft.containerPoint=Bt?this.latLngToContainerPoint(H.getLatLng()):this.mouseEventToContainerPoint(u),ft.layerPoint=this.containerPointToLayerPoint(ft.containerPoint),ft.latlng=Bt?H.getLatLng():this.layerPointToLatLng(ft.layerPoint)}for(var te=0;te<S.length;te++)if(S[te].fire(m,ft,!0),ft.originalEvent._stopped||!1===S[te].options.bubblingMouseEvents&&-1!==X(this._mouseEvents,m))return}},_draggableMoved:function(u){return(u=u.dragging&&u.dragging.enabled()?u:this).dragging&&u.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var u=0,m=this._handlers.length;u<m;u++)this._handlers[u].disable()},whenReady:function(u,m){return this._loaded?u.call(m||this,{target:this}):this.on("load",u,m),this},_getMapPanePos:function(){return Ni(this._mapPane)||new ce(0,0)},_moved:function(){var u=this._getMapPanePos();return u&&!u.equals([0,0])},_getTopLeftPoint:function(u,m){return(u&&void 0!==m?this._getNewPixelOrigin(u,m):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(u,m){var S=this.getSize()._divideBy(2);return this.project(u,m)._subtract(S)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(u,m,S){var R=this._getNewPixelOrigin(S,m);return this.project(u,m)._subtract(R)},_latLngBoundsToNewLayerBounds:function(u,m,S){var R=this._getNewPixelOrigin(S,m);return d([this.project(u.getSouthWest(),m)._subtract(R),this.project(u.getNorthWest(),m)._subtract(R),this.project(u.getSouthEast(),m)._subtract(R),this.project(u.getNorthEast(),m)._subtract(R)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(u){return this.latLngToLayerPoint(u).subtract(this._getCenterLayerPoint())},_limitCenter:function(u,m,S){if(!S)return u;var R=this.project(u,m),H=this.getSize().divideBy(2),ft=new l(R.subtract(H),R.add(H)),Bt=this._getBoundsOffset(ft,S,m);return Bt.round().equals([0,0])?u:this.unproject(R.add(Bt),m)},_limitOffset:function(u,m){if(!m)return u;var S=this.getPixelBounds(),R=new l(S.min.add(u),S.max.add(u));return u.add(this._getBoundsOffset(R,m))},_getBoundsOffset:function(u,m,S){var R=d(this.project(m.getNorthEast(),S),this.project(m.getSouthWest(),S)),H=R.min.subtract(u.min),ft=R.max.subtract(u.max);return new ce(this._rebound(H.x,-ft.x),this._rebound(H.y,-ft.y))},_rebound:function(u,m){return u+m>0?Math.round(u-m)/2:Math.max(0,Math.ceil(u))-Math.max(0,Math.floor(m))},_limitZoom:function(u){var m=this.getMinZoom(),S=this.getMaxZoom(),R=_e?this.options.zoomSnap:1;return R&&(u=Math.round(u/R)*R),Math.max(m,Math.min(S,u))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ir(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(u,m){var S=this._getCenterOffset(u)._trunc();return!(!0!==(m&&m.animate)&&!this.getSize().contains(S)||(this.panBy(S,m),0))},_createAnimProxy:function(){var u=this._proxy=Yn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(u),this.on("zoomanim",function(m){var S=uu,R=this._proxy.style[S];ta(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1)),R===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Mr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var u=this.getCenter(),m=this.getZoom();ta(this._proxy,this.project(u,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(u){this._animatingZoom&&u.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(u,m,S){if(this._animatingZoom)return!0;if(S=S||{},!this._zoomAnimated||!1===S.animate||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var R=this.getZoomScale(m),H=this._getCenterOffset(u)._divideBy(1-1/R);return!(!0!==S.animate&&!this.getSize().contains(H)||(z(function(){this._moveStart(!0,!1)._animateZoom(u,m,!0)},this),0))},_animateZoom:function(u,m,S,R){this._mapPane&&(S&&(this._animatingZoom=!0,this._animateToCenter=u,this._animateToZoom=m,Mn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:u,zoom:m,noUpdate:R}),setTimeout(Mt(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ir(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),z(function(){this._moveEnd(!0)},this))}});var vi=qt.extend({options:{position:"topright"},initialize:function(u){Tt(this,u)},getPosition:function(){return this.options.position},setPosition:function(u){var m=this._map;return m&&m.removeControl(this),this.options.position=u,m&&m.addControl(this),this},getContainer:function(){return this._container},addTo:function(u){this.remove(),this._map=u;var m=this._container=this.onAdd(u),S=this.getPosition(),R=u._controlCorners[S];return Mn(m,"leaflet-control"),-1!==S.indexOf("bottom")?R.insertBefore(m,R.firstChild):R.appendChild(m),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Mr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(u){this._map&&u&&u.screenX>0&&u.screenY>0&&this._map.getContainer().focus()}}),hu=function(u){return new vi(u)};ar.include({addControl:function(u){return u.addTo(this),this},removeControl:function(u){return u.remove(),this},_initControlPos:function(){var u=this._controlCorners={},m="leaflet-",S=this._controlContainer=Yn("div",m+"control-container",this._container);function R(H,ft){u[H+ft]=Yn("div",m+H+" "+m+ft,S)}R("top","left"),R("top","right"),R("bottom","left"),R("bottom","right")},_clearControlPos:function(){for(var u in this._controlCorners)Mr(this._controlCorners[u]);Mr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Hu=vi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(u,m,S,R){return S<R?-1:R<S?1:0}},initialize:function(u,m,S){for(var R in Tt(this,S),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,u)this._addLayer(u[R],R);for(R in m)this._addLayer(m[R],R,!0)},onAdd:function(u){this._initLayout(),this._update(),this._map=u,u.on("zoomend",this._checkDisabledLayers,this);for(var m=0;m<this._layers.length;m++)this._layers[m].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(u){return vi.prototype.addTo.call(this,u),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(u,m){return this._addLayer(u,m),this._map?this._update():this},addOverlay:function(u,m){return this._addLayer(u,m,!0),this._map?this._update():this},removeLayer:function(u){u.off("add remove",this._onLayerChange,this);var m=this._getLayer(gt(u));return m&&this._layers.splice(this._layers.indexOf(m),1),this._map?this._update():this},expand:function(){Mn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var u=this._map.getSize().y-(this._container.offsetTop+50);return u<this._section.clientHeight?(Mn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=u+"px"):Ir(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ir(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var u="leaflet-control-layers",m=this._container=Yn("div",u),S=this.options.collapsed;m.setAttribute("aria-haspopup",!0),ju(m),ls(m);var R=this._section=Yn("section",u+"-list");S&&(this._map.on("click",this.collapse,this),dn||kn(m,{mouseenter:this.expand,mouseleave:this.collapse},this));var H=this._layersLink=Yn("a",u+"-toggle",m);H.href="#",H.title="Layers",ir?(kn(H,"click",ya),kn(H,"click",this.expand,this)):kn(H,"focus",this.expand,this),S||this.expand(),this._baseLayersList=Yn("div",u+"-base",R),this._separator=Yn("div",u+"-separator",R),this._overlaysList=Yn("div",u+"-overlays",R),m.appendChild(R)},_getLayer:function(u){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&gt(this._layers[m].layer)===u)return this._layers[m]},_addLayer:function(u,m,S){this._map&&u.on("add remove",this._onLayerChange,this),this._layers.push({layer:u,name:m,overlay:S}),this.options.sortLayers&&this._layers.sort(Mt(function(R,H){return this.options.sortFunction(R.layer,H.layer,R.name,H.name)},this)),this.options.autoZIndex&&u.setZIndex&&(this._lastZIndex++,u.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;us(this._baseLayersList),us(this._overlaysList),this._layerControlInputs=[];var u,m,S,R,H=0;for(S=0;S<this._layers.length;S++)this._addItem(R=this._layers[S]),m=m||R.overlay,u=u||!R.overlay,H+=R.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(u=u&&H>1)?"":"none"),this._separator.style.display=m&&u?"":"none",this},_onLayerChange:function(u){this._handlingClick||this._update();var m=this._getLayer(gt(u.target)),S=m.overlay?"add"===u.type?"overlayadd":"overlayremove":"add"===u.type?"baselayerchange":null;S&&this._map.fire(S,m)},_createRadioElement:function(u,m){var S='<input type="radio" class="leaflet-control-layers-selector" name="'+u+'"'+(m?' checked="checked"':"")+"/>",R=document.createElement("div");return R.innerHTML=S,R.firstChild},_addItem:function(u){var R,m=document.createElement("label"),S=this._map.hasLayer(u.layer);u.overlay?((R=document.createElement("input")).type="checkbox",R.className="leaflet-control-layers-selector",R.defaultChecked=S):R=this._createRadioElement("leaflet-base-layers_"+gt(this),S),this._layerControlInputs.push(R),R.layerId=gt(u.layer),kn(R,"click",this._onInputClick,this);var H=document.createElement("span");H.innerHTML=" "+u.name;var ft=document.createElement("div");return m.appendChild(ft),ft.appendChild(R),ft.appendChild(H),(u.overlay?this._overlaysList:this._baseLayersList).appendChild(m),this._checkDisabledLayers(),m},_onInputClick:function(){var m,S,u=this._layerControlInputs,R=[],H=[];this._handlingClick=!0;for(var ft=u.length-1;ft>=0;ft--)S=this._getLayer((m=u[ft]).layerId).layer,m.checked?R.push(S):m.checked||H.push(S);for(ft=0;ft<H.length;ft++)this._map.hasLayer(H[ft])&&this._map.removeLayer(H[ft]);for(ft=0;ft<R.length;ft++)this._map.hasLayer(R[ft])||this._map.addLayer(R[ft]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var m,S,u=this._layerControlInputs,R=this._map.getZoom(),H=u.length-1;H>=0;H--)S=this._getLayer((m=u[H]).layerId).layer,m.disabled=void 0!==S.options.minZoom&&R<S.options.minZoom||void 0!==S.options.maxZoom&&R>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),ke=vi.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(u){var m="leaflet-control-zoom",S=Yn("div",m+" leaflet-bar"),R=this.options;return this._zoomInButton=this._createButton(R.zoomInText,R.zoomInTitle,m+"-in",S,this._zoomIn),this._zoomOutButton=this._createButton(R.zoomOutText,R.zoomOutTitle,m+"-out",S,this._zoomOut),this._updateDisabled(),u.on("zoomend zoomlevelschange",this._updateDisabled,this),S},onRemove:function(u){u.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(u){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(u.shiftKey?3:1))},_zoomOut:function(u){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(u.shiftKey?3:1))},_createButton:function(u,m,S,R,H){var ft=Yn("a",S,R);return ft.innerHTML=u,ft.href="#",ft.title=m,ft.setAttribute("role","button"),ft.setAttribute("aria-label",m),ju(ft),kn(ft,"click",ya),kn(ft,"click",H,this),kn(ft,"click",this._refocusOnMap,this),ft},_updateDisabled:function(){var u=this._map,m="leaflet-disabled";Ir(this._zoomInButton,m),Ir(this._zoomOutButton,m),(this._disabled||u._zoom===u.getMinZoom())&&Mn(this._zoomOutButton,m),(this._disabled||u._zoom===u.getMaxZoom())&&Mn(this._zoomInButton,m)}});ar.mergeOptions({zoomControl:!0}),ar.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ke,this.addControl(this.zoomControl))});var qu=vi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(u){var m="leaflet-control-scale",S=Yn("div",m),R=this.options;return this._addScales(R,m+"-line",S),u.on(R.updateWhenIdle?"moveend":"move",this._update,this),u.whenReady(this._update,this),S},onRemove:function(u){u.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(u,m,S){u.metric&&(this._mScale=Yn("div",m,S)),u.imperial&&(this._iScale=Yn("div",m,S))},_update:function(){var u=this._map,m=u.getSize().y/2,S=u.distance(u.containerPointToLatLng([0,m]),u.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(S)},_updateScales:function(u){this.options.metric&&u&&this._updateMetric(u),this.options.imperial&&u&&this._updateImperial(u)},_updateMetric:function(u){var m=this._getRoundNum(u);this._updateScale(this._mScale,m<1e3?m+" m":m/1e3+" km",m/u)},_updateImperial:function(u){var S,R,H,m=3.2808399*u;m>5280?(R=this._getRoundNum(S=m/5280),this._updateScale(this._iScale,R+" mi",R/S)):(H=this._getRoundNum(m),this._updateScale(this._iScale,H+" ft",H/m))},_updateScale:function(u,m,S){u.style.width=Math.round(this.options.maxWidth*S)+"px",u.innerHTML=m},_getRoundNum:function(u){var m=Math.pow(10,(Math.floor(u)+"").length-1),S=u/m;return m*(S>=10?10:S>=5?5:S>=3?3:S>=2?2:1)}}),Yu=vi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(u){Tt(this,u),this._attributions={}},onAdd:function(u){for(var m in u.attributionControl=this,this._container=Yn("div","leaflet-control-attribution"),ju(this._container),u._layers)u._layers[m].getAttribution&&this.addAttribution(u._layers[m].getAttribution());return this._update(),this._container},setPrefix:function(u){return this.options.prefix=u,this._update(),this},addAttribution:function(u){return u?(this._attributions[u]||(this._attributions[u]=0),this._attributions[u]++,this._update(),this):this},removeAttribution:function(u){return u?(this._attributions[u]&&(this._attributions[u]--,this._update()),this):this},_update:function(){if(this._map){var u=[];for(var m in this._attributions)this._attributions[m]&&u.push(m);var S=[];this.options.prefix&&S.push(this.options.prefix),u.length&&S.push(u.join(", ")),this._container.innerHTML=S.join(" | ")}}});ar.mergeOptions({attributionControl:!0}),ar.addInitHook(function(){this.options.attributionControl&&(new Yu).addTo(this)});vi.Layers=Hu,vi.Zoom=ke,vi.Scale=qu,vi.Attribution=Yu,hu.layers=function(u,m,S){return new Hu(u,m,S)},hu.zoom=function(u){return new ke(u)},hu.scale=function(u){return new qu(u)},hu.attribution=function(u){return new Yu(u)};var go=qt.extend({initialize:function(u){this._map=u},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});go.addTo=function(u,m){return u.addHandler(m,this),this};var Zu,_h={Events:oe},ni=ir?"touchstart mousedown":"mousedown",Xu={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},zc={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},sr=ge.extend({options:{clickTolerance:3},initialize:function(u,m,S,R){Tt(this,R),this._element=u,this._dragStartTarget=m||u,this._preventOutline=S},enable:function(){this._enabled||(kn(this._dragStartTarget,ni,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(sr._dragging===this&&this.finishDrag(),Xn(this._dragStartTarget,ni,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(u){if(!u._simulated&&this._enabled&&(this._moved=!1,!Gu(this._element,"leaflet-zoom-anim")&&!(sr._dragging||u.shiftKey||1!==u.which&&1!==u.button&&!u.touches)&&(sr._dragging=this,this._preventOutline&&_a(this._element),cu(),li(),!this._moving))){this.fire("down");var m=u.touches?u.touches[0]:u,S=or(this._element);this._startPoint=new ce(m.clientX,m.clientY),this._parentScale=fu(S),kn(document,zc[u.type],this._onMove,this),kn(document,Xu[u.type],this._onUp,this)}},_onMove:function(u){if(!u._simulated&&this._enabled){if(u.touches&&u.touches.length>1)return void(this._moved=!0);var m=u.touches&&1===u.touches.length?u.touches[0]:u,S=new ce(m.clientX,m.clientY)._subtract(this._startPoint);!S.x&&!S.y||Math.abs(S.x)+Math.abs(S.y)<this.options.clickTolerance||(S.x/=this._parentScale.x,S.y/=this._parentScale.y,Bo(u),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Ni(this._element).subtract(S),Mn(document.body,"leaflet-dragging"),this._lastTarget=u.target||u.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Mn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(S),this._moving=!0,yt(this._animRequest),this._lastEvent=u,this._animRequest=z(this._updatePosition,this,!0))}},_updatePosition:function(){var u={originalEvent:this._lastEvent};this.fire("predrag",u),pn(this._element,this._newPos),this.fire("drag",u)},_onUp:function(u){u._simulated||!this._enabled||this.finishDrag()},finishDrag:function(){for(var u in Ir(document.body,"leaflet-dragging"),this._lastTarget&&(Ir(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),zc)Xn(document,zc[u],this._onMove,this),Xn(document,Xu[u],this._onUp,this);Rl(),Cr(),this._moved&&this._moving&&(yt(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,sr._dragging=!1}});function yh(u,m){if(!m||!u.length)return u.slice();var S=m*m;return function zs(u,m){var S=u.length,H=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(S);H[0]=H[S-1]=1,io(u,H,m,0,S-1);var ft,Bt=[];for(ft=0;ft<S;ft++)H[ft]&&Bt.push(u[ft]);return Bt}(u=function _i(u,m){for(var S=[u[0]],R=1,H=0,ft=u.length;R<ft;R++)mo(u[R],u[H])>m&&(S.push(u[R]),H=R);return H<ft-1&&S.push(u[ft-1]),S}(u,S),S)}function kl(u,m,S){return Math.sqrt(Wi(u,m,S,!0))}function io(u,m,S,R,H){var Bt,te,he,ft=0;for(te=R+1;te<=H-1;te++)(he=Wi(u[te],u[R],u[H],!0))>ft&&(Bt=te,ft=he);ft>S&&(m[Bt]=1,io(u,m,S,R,Bt),io(u,m,S,Bt,H))}function cs(u,m,S,R,H){var te,he,we,ft=R?Zu:$o(u,S),Bt=$o(m,S);for(Zu=Bt;;){if(!(ft|Bt))return[u,m];if(ft&Bt)return!1;we=$o(he=fs(u,m,te=ft||Bt,S,H),S),te===ft?(u=he,ft=we):(m=he,Bt=we)}}function fs(u,m,S,R,H){var we,Fe,ft=m.x-u.x,Bt=m.y-u.y,te=R.min,he=R.max;return 8&S?(we=u.x+ft*(he.y-u.y)/Bt,Fe=he.y):4&S?(we=u.x+ft*(te.y-u.y)/Bt,Fe=te.y):2&S?(we=he.x,Fe=u.y+Bt*(he.x-u.x)/ft):1&S&&(we=te.x,Fe=u.y+Bt*(te.x-u.x)/ft),new ce(we,Fe,H)}function $o(u,m){var S=0;return u.x<m.min.x?S|=1:u.x>m.max.x&&(S|=2),u.y<m.min.y?S|=4:u.y>m.max.y&&(S|=8),S}function mo(u,m){var S=m.x-u.x,R=m.y-u.y;return S*S+R*R}function Wi(u,m,S,R){var we,H=m.x,ft=m.y,Bt=S.x-H,te=S.y-ft,he=Bt*Bt+te*te;return he>0&&((we=((u.x-H)*Bt+(u.y-ft)*te)/he)>1?(H=S.x,ft=S.y):we>0&&(H+=Bt*we,ft+=te*we)),Bt=u.x-H,te=u.y-ft,R?Bt*Bt+te*te:new ce(H,ft)}function Ci(u){return!K(u[0])||"object"!=typeof u[0][0]&&typeof u[0][0]<"u"}function Xe(u){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ci(u)}var hs={simplify:yh,pointToSegmentDistance:kl,closestPointOnSegment:function Hi(u,m,S){return Wi(u,m,S)},clipSegment:cs,_getEdgeIntersection:fs,_getBitCode:$o,_sqClosestPointOnSegment:Wi,isFlat:Ci,_flat:Xe};function An(u,m,S){var R,ft,Bt,te,he,we,Fe,Ze,Un,H=[1,4,2,8];for(ft=0,Fe=u.length;ft<Fe;ft++)u[ft]._code=$o(u[ft],m);for(te=0;te<4;te++){for(Ze=H[te],R=[],ft=0,Bt=(Fe=u.length)-1;ft<Fe;Bt=ft++)we=u[Bt],(he=u[ft])._code&Ze?we._code&Ze||((Un=fs(we,he,Ze,m,S))._code=$o(Un,m),R.push(Un)):(we._code&Ze&&((Un=fs(we,he,Ze,m,S))._code=$o(Un,m),R.push(Un)),R.push(he));u=R}return u}var na={clipPolygon:An},qi={project:function(u){return new ce(u.lng,u.lat)},unproject:function(u){return new O(u.y,u.x)},bounds:new l([-180,-90],[180,90])},ds={R:6378137,R_MINOR:6356752.314245179,bounds:new l([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(u){var m=Math.PI/180,S=this.R,R=u.lat*m,H=this.R_MINOR/S,ft=Math.sqrt(1-H*H),Bt=ft*Math.sin(R),te=Math.tan(Math.PI/4-R/2)/Math.pow((1-Bt)/(1+Bt),ft/2);return R=-S*Math.log(Math.max(te,1e-10)),new ce(u.lng*m*S,R)},unproject:function(u){for(var we,m=180/Math.PI,S=this.R,R=this.R_MINOR/S,H=Math.sqrt(1-R*R),ft=Math.exp(-u.y/S),Bt=Math.PI/2-2*Math.atan(ft),te=0,he=.1;te<15&&Math.abs(he)>1e-7;te++)we=H*Math.sin(Bt),we=Math.pow((1-we)/(1+we),H/2),Bt+=he=Math.PI/2-2*Math.atan(ft*we)-Bt;return new O(Bt*m,u.x*m/S)}},wh={LonLat:qi,Mercator:ds,SphericalMercator:wt},xh=xt({},ut,{code:"EPSG:3395",projection:ds,transformation:function(){var u=.5/(Math.PI*ds.R);return Ht(u,.5,-u,.5)}()}),Gc=xt({},ut,{code:"EPSG:4326",projection:qi,transformation:Ht(1/180,1,-1/180,.5)}),xa=xt({},W,{projection:qi,transformation:Ht(1,0,-1,0),scale:function(u){return Math.pow(2,u)},zoom:function(u){return Math.log(u)/Math.LN2},distance:function(u,m){var S=m.lng-u.lng,R=m.lat-u.lat;return Math.sqrt(S*S+R*R)},infinite:!0});W.Earth=ut,W.EPSG3395=xh,W.EPSG3857=Ut,W.EPSG900913=Wt,W.EPSG4326=Gc,W.Simple=xa;var Qr=ge.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(u){return u.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(u){return u&&u.removeLayer(this),this},getPane:function(u){return this._map.getPane(u?this.options[u]||u:this.options.pane)},addInteractiveTarget:function(u){return this._map._targets[gt(u)]=this,this},removeInteractiveTarget:function(u){return delete this._map._targets[gt(u)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(u){var m=u.target;if(m.hasLayer(this)){if(this._map=m,this._zoomAnimated=m._zoomAnimated,this.getEvents){var S=this.getEvents();m.on(S,this),this.once("remove",function(){m.off(S,this)},this)}this.onAdd(m),this.getAttribution&&m.attributionControl&&m.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),m.fire("layeradd",{layer:this})}}});ar.include({addLayer:function(u){if(!u._layerAdd)throw new Error("The provided object is not a Layer.");var m=gt(u);return this._layers[m]||(this._layers[m]=u,u._mapToAdd=this,u.beforeAdd&&u.beforeAdd(this),this.whenReady(u._layerAdd,u)),this},removeLayer:function(u){var m=gt(u);return this._layers[m]?(this._loaded&&u.onRemove(this),u.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(u.getAttribution()),delete this._layers[m],this._loaded&&(this.fire("layerremove",{layer:u}),u.fire("remove")),u._map=u._mapToAdd=null,this):this},hasLayer:function(u){return!!u&&gt(u)in this._layers},eachLayer:function(u,m){for(var S in this._layers)u.call(m,this._layers[S]);return this},_addLayers:function(u){for(var m=0,S=(u=u?K(u)?u:[u]:[]).length;m<S;m++)this.addLayer(u[m])},_addZoomLimit:function(u){(isNaN(u.options.maxZoom)||!isNaN(u.options.minZoom))&&(this._zoomBoundLayers[gt(u)]=u,this._updateZoomLevels())},_removeZoomLimit:function(u){var m=gt(u);this._zoomBoundLayers[m]&&(delete this._zoomBoundLayers[m],this._updateZoomLevels())},_updateZoomLevels:function(){var u=1/0,m=-1/0,S=this._getZoomSpan();for(var R in this._zoomBoundLayers){var H=this._zoomBoundLayers[R].options;u=void 0===H.minZoom?u:Math.min(u,H.minZoom),m=void 0===H.maxZoom?m:Math.max(m,H.maxZoom)}this._layersMaxZoom=m===-1/0?void 0:m,this._layersMinZoom=u===1/0?void 0:u,S!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ki=Qr.extend({initialize:function(u,m){var S,R;if(Tt(this,m),this._layers={},u)for(S=0,R=u.length;S<R;S++)this.addLayer(u[S])},addLayer:function(u){var m=this.getLayerId(u);return this._layers[m]=u,this._map&&this._map.addLayer(u),this},removeLayer:function(u){var m=u in this._layers?u:this.getLayerId(u);return this._map&&this._layers[m]&&this._map.removeLayer(this._layers[m]),delete this._layers[m],this},hasLayer:function(u){return!!u&&("number"==typeof u?u:this.getLayerId(u))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(u){var S,R,m=Array.prototype.slice.call(arguments,1);for(S in this._layers)(R=this._layers[S])[u]&&R[u].apply(R,m);return this},onAdd:function(u){this.eachLayer(u.addLayer,u)},onRemove:function(u){this.eachLayer(u.removeLayer,u)},eachLayer:function(u,m){for(var S in this._layers)u.call(m,this._layers[S]);return this},getLayer:function(u){return this._layers[u]},getLayers:function(){var u=[];return this.eachLayer(u.push,u),u},setZIndex:function(u){return this.invoke("setZIndex",u)},getLayerId:function(u){return gt(u)}}),Fn=ki.extend({addLayer:function(u){return this.hasLayer(u)?this:(u.addEventParent(this),ki.prototype.addLayer.call(this,u),this.fire("layeradd",{layer:u}))},removeLayer:function(u){return this.hasLayer(u)?(u in this._layers&&(u=this._layers[u]),u.removeEventParent(this),ki.prototype.removeLayer.call(this,u),this.fire("layerremove",{layer:u})):this},setStyle:function(u){return this.invoke("setStyle",u)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var u=new _;for(var m in this._layers){var S=this._layers[m];u.extend(S.getBounds?S.getBounds():S.getLatLng())}return u}}),ba=qt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(u){Tt(this,u)},createIcon:function(u){return this._createIcon("icon",u)},createShadow:function(u){return this._createIcon("shadow",u)},_createIcon:function(u,m){var S=this._getIconUrl(u);if(!S){if("icon"===u)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var R=this._createImg(S,m&&"IMG"===m.tagName?m:null);return this._setIconStyles(R,u),R},_setIconStyles:function(u,m){var S=this.options,R=S[m+"Size"];"number"==typeof R&&(R=[R,R]);var H=a(R),ft=a("shadow"===m&&S.shadowAnchor||S.iconAnchor||H&&H.divideBy(2,!0));u.className="leaflet-marker-"+m+" "+(S.className||""),ft&&(u.style.marginLeft=-ft.x+"px",u.style.marginTop=-ft.y+"px"),H&&(u.style.width=H.x+"px",u.style.height=H.y+"px")},_createImg:function(u,m){return(m=m||document.createElement("img")).src=u,m},_getIconUrl:function(u){return ui&&this.options[u+"RetinaUrl"]||this.options[u+"Url"]}});var ps=ba.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(u){return ps.imagePath||(ps.imagePath=this._detectIconPath()),(this.options.imagePath||ps.imagePath)+ba.prototype._getIconUrl.call(this,u)},_detectIconPath:function(){var u=Yn("div","leaflet-default-icon-path",document.body),m=Fs(u,"background-image")||Fs(u,"backgroundImage");return document.body.removeChild(u),null===m||0!==m.indexOf("url")?"":m.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),oo=go.extend({initialize:function(u){this._marker=u},addHooks:function(){var u=this._marker._icon;this._draggable||(this._draggable=new sr(u,u,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Mn(u,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ir(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(u){var m=this._marker,S=m._map,R=this._marker.options.autoPanSpeed,H=this._marker.options.autoPanPadding,ft=Ni(m._icon),Bt=S.getPixelBounds(),te=S.getPixelOrigin(),he=d(Bt.min._subtract(te).add(H),Bt.max._subtract(te).subtract(H));if(!he.contains(ft)){var we=a((Math.max(he.max.x,ft.x)-he.max.x)/(Bt.max.x-he.max.x)-(Math.min(he.min.x,ft.x)-he.min.x)/(Bt.min.x-he.min.x),(Math.max(he.max.y,ft.y)-he.max.y)/(Bt.max.y-he.max.y)-(Math.min(he.min.y,ft.y)-he.min.y)/(Bt.min.y-he.min.y)).multiplyBy(R);S.panBy(we,{animate:!1}),this._draggable._newPos._add(we),this._draggable._startPos._add(we),pn(m._icon,this._draggable._newPos),this._onDrag(u),this._panRequest=z(this._adjustPan.bind(this,u))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(u){this._marker.options.autoPan&&(yt(this._panRequest),this._panRequest=z(this._adjustPan.bind(this,u)))},_onDrag:function(u){var m=this._marker,S=m._shadow,R=Ni(m._icon),H=m._map.layerPointToLatLng(R);S&&pn(S,R),m._latlng=H,u.latlng=H,u.oldLatLng=this._oldLatLng,m.fire("move",u).fire("drag",u)},_onDragEnd:function(u){yt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",u)}}),oa=Qr.extend({options:{icon:new ps,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(u,m){Tt(this,m),this._latlng=j(u)},onAdd:function(u){this._zoomAnimated=this._zoomAnimated&&u.options.markerZoomAnimation,this._zoomAnimated&&u.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(u){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&u.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(u){var m=this._latlng;return this._latlng=j(u),this.update(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(u){return this.options.zIndexOffset=u,this.update()},getIcon:function(){return this.options.icon},setIcon:function(u){return this.options.icon=u,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var u=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(u)}return this},_initIcon:function(){var u=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),S=u.icon.createIcon(this._icon),R=!1;S!==this._icon&&(this._icon&&this._removeIcon(),R=!0,u.title&&(S.title=u.title),"IMG"===S.tagName&&(S.alt=u.alt||"")),Mn(S,m),u.keyboard&&(S.tabIndex="0"),this._icon=S,u.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var H=u.icon.createShadow(this._shadow),ft=!1;H!==this._shadow&&(this._removeShadow(),ft=!0),H&&(Mn(H,m),H.alt=""),this._shadow=H,u.opacity<1&&this._updateOpacity(),R&&this.getPane().appendChild(this._icon),this._initInteraction(),H&&ft&&this.getPane(u.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),Mr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Mr(this._shadow),this._shadow=null},_setPos:function(u){this._icon&&pn(this._icon,u),this._shadow&&pn(this._shadow,u),this._zIndex=u.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(u){this._icon&&(this._icon.style.zIndex=this._zIndex+u)},_animateZoom:function(u){var m=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center).round();this._setPos(m)},_initInteraction:function(){if(this.options.interactive&&(Mn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),oo)){var u=this.options.draggable;this.dragging&&(u=this.dragging.enabled(),this.dragging.disable()),this.dragging=new oo(this),u&&this.dragging.enable()}},setOpacity:function(u){return this.options.opacity=u,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var u=this.options.opacity;this._icon&&po(this._icon,u),this._shadow&&po(this._shadow,u)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var xr=Qr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(u){this._renderer=u.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(u){return Tt(this,u),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&u&&Object.prototype.hasOwnProperty.call(u,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),du=xr.extend({options:{fill:!0,radius:10},initialize:function(u,m){Tt(this,m),this._latlng=j(u),this._radius=this.options.radius},setLatLng:function(u){var m=this._latlng;return this._latlng=j(u),this.redraw(),this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(u){return this.options.radius=this._radius=u,this.redraw()},getRadius:function(){return this._radius},setStyle:function(u){var m=u&&u.radius||this._radius;return xr.prototype.setStyle.call(this,u),this.setRadius(m),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,m=this._radiusY||u,S=this._clickTolerance(),R=[u+S,m+S];this._pxBounds=new l(this._point.subtract(R),this._point.add(R))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(u){return u.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var pu=du.extend({initialize:function(u,m,S){if("number"==typeof m&&(m=xt({},S,{radius:m})),Tt(this,m),this._latlng=j(u),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(u){return this._mRadius=u,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var u=[this._radius,this._radiusY||this._radius];return new _(this._map.layerPointToLatLng(this._point.subtract(u)),this._map.layerPointToLatLng(this._point.add(u)))},setStyle:xr.prototype.setStyle,_project:function(){var u=this._latlng.lng,m=this._latlng.lat,S=this._map,R=S.options.crs;if(R.distance===ut.distance){var H=Math.PI/180,ft=this._mRadius/ut.R/H,Bt=S.project([m+ft,u]),te=S.project([m-ft,u]),he=Bt.add(te).divideBy(2),we=S.unproject(he).lat,Fe=Math.acos((Math.cos(ft*H)-Math.sin(m*H)*Math.sin(we*H))/(Math.cos(m*H)*Math.cos(we*H)))/H;(isNaN(Fe)||0===Fe)&&(Fe=ft/Math.cos(Math.PI/180*m)),this._point=he.subtract(S.getPixelOrigin()),this._radius=isNaN(Fe)?0:he.x-S.project([we,u-Fe]).x,this._radiusY=he.y-Bt.y}else{var Ze=R.unproject(R.project(this._latlng).subtract([this._mRadius,0]));this._point=S.latLngToLayerPoint(this._latlng),this._radius=this._point.x-S.latLngToLayerPoint(Ze).x}this._updateBounds()}});var aa=xr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(u,m){Tt(this,m),this._setLatLngs(u)},getLatLngs:function(){return this._latlngs},setLatLngs:function(u){return this._setLatLngs(u),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(u){for(var H,ft,m=1/0,S=null,R=Wi,Bt=0,te=this._parts.length;Bt<te;Bt++)for(var he=this._parts[Bt],we=1,Fe=he.length;we<Fe;we++){var Ze=R(u,H=he[we-1],ft=he[we],!0);Ze<m&&(m=Ze,S=R(u,H,ft))}return S&&(S.distance=Math.sqrt(m)),S},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var u,m,S,R,H,ft,Bt,te=this._rings[0],he=te.length;if(!he)return null;for(u=0,m=0;u<he-1;u++)m+=te[u].distanceTo(te[u+1])/2;if(0===m)return this._map.layerPointToLatLng(te[0]);for(u=0,R=0;u<he-1;u++)if((R+=S=(H=te[u]).distanceTo(ft=te[u+1]))>m)return this._map.layerPointToLatLng([ft.x-(Bt=(R-m)/S)*(ft.x-H.x),ft.y-Bt*(ft.y-H.y)])},getBounds:function(){return this._bounds},addLatLng:function(u,m){return m=m||this._defaultShape(),u=j(u),m.push(u),this._bounds.extend(u),this.redraw()},_setLatLngs:function(u){this._bounds=new _,this._latlngs=this._convertLatLngs(u)},_defaultShape:function(){return Ci(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(u){for(var m=[],S=Ci(u),R=0,H=u.length;R<H;R++)S?(m[R]=j(u[R]),this._bounds.extend(m[R])):m[R]=this._convertLatLngs(u[R]);return m},_project:function(){var u=new l;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,u),this._bounds.isValid()&&u.isValid()&&(this._rawPxBounds=u,this._updateBounds())},_updateBounds:function(){var u=this._clickTolerance(),m=new ce(u,u);this._pxBounds=new l([this._rawPxBounds.min.subtract(m),this._rawPxBounds.max.add(m)])},_projectLatlngs:function(u,m,S){var ft,Bt,H=u.length;if(u[0]instanceof O){for(Bt=[],ft=0;ft<H;ft++)Bt[ft]=this._map.latLngToLayerPoint(u[ft]),S.extend(Bt[ft]);m.push(Bt)}else for(ft=0;ft<H;ft++)this._projectLatlngs(u[ft],m,S)},_clipPoints:function(){var u=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(u)){if(this.options.noClip)return void(this._parts=this._rings);var S,R,H,ft,Bt,te,he,m=this._parts;for(S=0,H=0,ft=this._rings.length;S<ft;S++)for(R=0,Bt=(he=this._rings[S]).length;R<Bt-1;R++)(te=cs(he[R],he[R+1],u,R,!0))&&(m[H]=m[H]||[],m[H].push(te[0]),(te[1]!==he[R+1]||R===Bt-2)&&(m[H].push(te[1]),H++))}},_simplifyPoints:function(){for(var u=this._parts,m=this.options.smoothFactor,S=0,R=u.length;S<R;S++)u[S]=yh(u[S],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(u,m){var S,R,H,ft,Bt,te,he=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(S=0,ft=this._parts.length;S<ft;S++)for(R=0,H=(Bt=(te=this._parts[S]).length)-1;R<Bt;H=R++)if((m||0!==R)&&kl(u,te[H],te[R])<=he)return!0;return!1}});aa._flat=Xe;var pr=aa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var u,m,S,R,H,ft,Bt,te,we=this._rings[0],Fe=we.length;if(!Fe)return null;for(ft=Bt=te=0,u=0,m=Fe-1;u<Fe;m=u++)Bt+=((S=we[u]).x+(R=we[m]).x)*(H=S.y*R.x-R.y*S.x),te+=(S.y+R.y)*H,ft+=3*H;return this._map.layerPointToLatLng(0===ft?we[0]:[Bt/ft,te/ft])},_convertLatLngs:function(u){var m=aa.prototype._convertLatLngs.call(this,u),S=m.length;return S>=2&&m[0]instanceof O&&m[0].equals(m[S-1])&&m.pop(),m},_setLatLngs:function(u){aa.prototype._setLatLngs.call(this,u),Ci(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ci(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var u=this._renderer._bounds,m=this.options.weight,S=new ce(m,m);if(u=new l(u.min.subtract(S),u.max.add(S)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(u)){if(this.options.noClip)return void(this._parts=this._rings);for(var ft,R=0,H=this._rings.length;R<H;R++)(ft=An(this._rings[R],u,!0)).length&&this._parts.push(ft)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(u){var S,R,H,ft,Bt,te,he,we,m=!1;if(!this._pxBounds||!this._pxBounds.contains(u))return!1;for(ft=0,he=this._parts.length;ft<he;ft++)for(Bt=0,te=(we=(S=this._parts[ft]).length)-1;Bt<we;te=Bt++)(R=S[Bt]).y>u.y!=(H=S[te]).y>u.y&&u.x<(H.x-R.x)*(u.y-R.y)/(H.y-R.y)+R.x&&(m=!m);return m||aa.prototype._containsPoint.call(this,u,!0)}});var Ln=Fn.extend({initialize:function(u,m){Tt(this,m),this._layers={},u&&this.addData(u)},addData:function(u){var S,R,H,m=K(u)?u:u.features;if(m){for(S=0,R=m.length;S<R;S++)((H=m[S]).geometries||H.geometry||H.features||H.coordinates)&&this.addData(H);return this}var ft=this.options;if(ft.filter&&!ft.filter(u))return this;var Bt=ri(u,ft);return Bt?(Bt.feature=er(u),Bt.defaultOptions=Bt.options,this.resetStyle(Bt),ft.onEachFeature&&ft.onEachFeature(u,Bt),this.addLayer(Bt)):this},resetStyle:function(u){return void 0===u?this.eachLayer(this.resetStyle,this):(u.options=xt({},u.defaultOptions),this._setLayerStyle(u,this.options.style),this)},setStyle:function(u){return this.eachLayer(function(m){this._setLayerStyle(m,u)},this)},_setLayerStyle:function(u,m){u.setStyle&&("function"==typeof m&&(m=m(u.feature)),u.setStyle(m))}});function ri(u,m){var te,he,we,Fe,S="Feature"===u.type?u.geometry:u,R=S?S.coordinates:null,H=[],ft=m&&m.pointToLayer,Bt=m&&m.coordsToLatLng||Go;if(!R&&!S)return null;switch(S.type){case"Point":return Ei(ft,u,te=Bt(R),m);case"MultiPoint":for(we=0,Fe=R.length;we<Fe;we++)te=Bt(R[we]),H.push(Ei(ft,u,te,m));return new Fn(H);case"LineString":case"MultiLineString":return he=yi(R,"LineString"===S.type?0:1,Bt),new aa(he,m);case"Polygon":case"MultiPolygon":return he=yi(R,"Polygon"===S.type?1:2,Bt),new pr(he,m);case"GeometryCollection":for(we=0,Fe=S.geometries.length;we<Fe;we++){var Ze=ri({geometry:S.geometries[we],type:"Feature",properties:u.properties},m);Ze&&H.push(Ze)}return new Fn(H);default:throw new Error("Invalid GeoJSON object.")}}function Ei(u,m,S,R){return u?u(m,S):new oa(S,R&&R.markersInheritOptions&&R)}function Go(u){return new O(u[1],u[0],u[2])}function yi(u,m,S){for(var Bt,R=[],H=0,ft=u.length;H<ft;H++)Bt=m?yi(u[H],m-1,S):(S||Go)(u[H]),R.push(Bt);return R}function Ku(u,m){return m="number"==typeof m?m:6,void 0!==u.alt?[ht(u.lng,m),ht(u.lat,m),ht(u.alt,m)]:[ht(u.lng,m),ht(u.lat,m)]}function Ba(u,m,S,R){for(var H=[],ft=0,Bt=u.length;ft<Bt;ft++)H.push(m?Ba(u[ft],m-1,S,R):Ku(u[ft],R));return!m&&S&&H.push(H[0]),H}function Rr(u,m){return u.feature?xt({},u.feature,{geometry:m}):er(m)}function er(u){return"Feature"===u.type||"FeatureCollection"===u.type?u:{type:"Feature",properties:{},geometry:u}}var Re={toGeoJSON:function(u){return Rr(this,{type:"Point",coordinates:Ku(this.getLatLng(),u)})}};function fn(u,m){return new Ln(u,m)}oa.include(Re),pu.include(Re),du.include(Re),aa.include({toGeoJSON:function(u){var m=!Ci(this._latlngs);return Rr(this,{type:(m?"Multi":"")+"LineString",coordinates:Ba(this._latlngs,m?1:0,!1,u)})}}),pr.include({toGeoJSON:function(u){var m=!Ci(this._latlngs),S=m&&!Ci(this._latlngs[0]),R=Ba(this._latlngs,S?2:m?1:0,!0,u);return m||(R=[R]),Rr(this,{type:(S?"Multi":"")+"Polygon",coordinates:R})}}),ki.include({toMultiPoint:function(u){var m=[];return this.eachLayer(function(S){m.push(S.toGeoJSON(u).geometry.coordinates)}),Rr(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(u){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===m)return this.toMultiPoint(u);var S="GeometryCollection"===m,R=[];return this.eachLayer(function(H){if(H.toGeoJSON){var ft=H.toGeoJSON(u);if(S)R.push(ft.geometry);else{var Bt=er(ft);"FeatureCollection"===Bt.type?R.push.apply(R,Bt.features):R.push(Bt)}}}),S?Rr(this,{geometries:R,type:"GeometryCollection"}):{type:"FeatureCollection",features:R}}});var _r=fn,ii=Qr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(u,m,S){this._url=u,this._bounds=E(m),Tt(this,S)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Mn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Mr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(u){return this.options.opacity=u,this._image&&this._updateOpacity(),this},setStyle:function(u){return u.opacity&&this.setOpacity(u.opacity),this},bringToFront:function(){return this._map&&Fa(this._image),this},bringToBack:function(){return this._map&&Fo(this._image),this},setUrl:function(u){return this._url=u,this._image&&(this._image.src=u),this},setBounds:function(u){return this._bounds=E(u),this._map&&this._reset(),this},getEvents:function(){var u={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var u="IMG"===this._url.tagName,m=this._image=u?this._url:Yn("img");Mn(m,"leaflet-image-layer"),this._zoomAnimated&&Mn(m,"leaflet-zoom-animated"),this.options.className&&Mn(m,this.options.className),m.onselectstart=Ct,m.onmousemove=Ct,m.onload=Mt(this.fire,this,"load"),m.onerror=Mt(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(m.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),u?this._url=m.src:(m.src=this._url,m.alt=this.options.alt)},_animateZoom:function(u){var m=this._map.getZoomScale(u.zoom),S=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min;ta(this._image,S,m)},_reset:function(){var u=this._image,m=new l(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),S=m.getSize();pn(u,m.min),u.style.width=S.x+"px",u.style.height=S.y+"px"},_updateOpacity:function(){po(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var u=this.options.errorOverlayUrl;u&&this._url!==u&&(this._url=u,this._image.src=u)}}),Ur=ii.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var u="VIDEO"===this._url.tagName,m=this._image=u?this._url:Yn("video");if(Mn(m,"leaflet-image-layer"),this._zoomAnimated&&Mn(m,"leaflet-zoom-animated"),this.options.className&&Mn(m,this.options.className),m.onselectstart=Ct,m.onmousemove=Ct,m.onloadeddata=Mt(this.fire,this,"load"),u){for(var S=m.getElementsByTagName("source"),R=[],H=0;H<S.length;H++)R.push(S[H].src);this._url=S.length>0?R:[m.src]}else{K(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted;for(var ft=0;ft<this._url.length;ft++){var Bt=Yn("source");Bt.src=this._url[ft],m.appendChild(Bt)}}}});var Or=ii.extend({_initImage:function(){var u=this._image=this._url;Mn(u,"leaflet-image-layer"),this._zoomAnimated&&Mn(u,"leaflet-zoom-animated"),this.options.className&&Mn(u,this.options.className),u.onselectstart=Ct,u.onmousemove=Ct}});var Nr=Qr.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(u,m){Tt(this,u),this._source=m},onAdd:function(u){this._zoomAnimated=u._zoomAnimated,this._container||this._initLayout(),u._fadeAnimated&&po(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),u._fadeAnimated&&po(this._container,1),this.bringToFront()},onRemove:function(u){u._fadeAnimated?(po(this._container,0),this._removeTimeout=setTimeout(Mt(Mr,void 0,this._container),200)):Mr(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(u){return this._latlng=j(u),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(u){return this._content=u,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var u={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Fa(this._container),this},bringToBack:function(){return this._map&&Fo(this._container),this},_prepareOpen:function(u,m,S){if(m instanceof Qr||(S=m,m=u),m instanceof Fn)for(var R in u._layers){m=u._layers[R];break}if(!S)if(m.getCenter)S=m.getCenter();else{if(!m.getLatLng)throw new Error("Unable to get source layer LatLng.");S=m.getLatLng()}return this._source=m,this.update(),S},_updateContent:function(){if(this._content){var u=this._contentNode,m="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof m)u.innerHTML=m;else{for(;u.hasChildNodes();)u.removeChild(u.firstChild);u.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var u=this._map.latLngToLayerPoint(this._latlng),m=a(this.options.offset),S=this._getAnchor();this._zoomAnimated?pn(this._container,u.add(S)):m=m.add(u).add(S);var R=this._containerBottom=-m.y,H=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=R+"px",this._container.style.left=H+"px"}},_getAnchor:function(){return[0,0]}}),gn=Nr.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(u){return u.openPopup(this),this},onAdd:function(u){Nr.prototype.onAdd.call(this,u),u.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof xr||this._source.on("preclick",Bs))},onRemove:function(u){Nr.prototype.onRemove.call(this,u),u.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof xr||this._source.off("preclick",Bs))},getEvents:function(){var u=Nr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(u.preclick=this._close),this.options.keepInView&&(u.moveend=this._adjustPan),u},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var u="leaflet-popup",m=this._container=Yn("div",u+" "+(this.options.className||"")+" leaflet-zoom-animated"),S=this._wrapper=Yn("div",u+"-content-wrapper",m);if(this._contentNode=Yn("div",u+"-content",S),ju(m),ls(this._contentNode),kn(m,"contextmenu",Bs),this._tipContainer=Yn("div",u+"-tip-container",m),this._tip=Yn("div",u+"-tip",this._tipContainer),this.options.closeButton){var R=this._closeButton=Yn("a",u+"-close-button",m);R.href="#close",R.innerHTML="&#215;",kn(R,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var u=this._contentNode,m=u.style;m.width="",m.whiteSpace="nowrap";var S=u.offsetWidth;S=Math.min(S,this.options.maxWidth),S=Math.max(S,this.options.minWidth),m.width=S+1+"px",m.whiteSpace="",m.height="";var H=this.options.maxHeight,ft="leaflet-popup-scrolled";H&&u.offsetHeight>H?(m.height=H+"px",Mn(u,ft)):Ir(u,ft),this._containerWidth=this._container.offsetWidth},_animateZoom:function(u){var m=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center),S=this._getAnchor();pn(this._container,m.add(S))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var u=this._map,m=parseInt(Fs(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+m,R=this._containerWidth,H=new ce(this._containerLeft,-S-this._containerBottom);H._add(Ni(this._container));var ft=u.layerPointToContainerPoint(H),Bt=a(this.options.autoPanPadding),te=a(this.options.autoPanPaddingTopLeft||Bt),he=a(this.options.autoPanPaddingBottomRight||Bt),we=u.getSize(),Fe=0,Ze=0;ft.x+R+he.x>we.x&&(Fe=ft.x+R-we.x+he.x),ft.x-Fe-te.x<0&&(Fe=ft.x-te.x),ft.y+S+he.y>we.y&&(Ze=ft.y+S-we.y+he.y),ft.y-Ze-te.y<0&&(Ze=ft.y-te.y),(Fe||Ze)&&u.fire("autopanstart").panBy([Fe,Ze])}},_onCloseButtonClick:function(u){this._close(),ya(u)},_getAnchor:function(){return a(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});ar.mergeOptions({closePopupOnClick:!0}),ar.include({openPopup:function(u,m,S){return u instanceof gn||(u=new gn(S).setContent(u)),m&&u.setLatLng(m),this.hasLayer(u)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=u,this.addLayer(u))},closePopup:function(u){return(!u||u===this._popup)&&(u=this._popup,this._popup=null),u&&this.removeLayer(u),this}}),Qr.include({bindPopup:function(u,m){return u instanceof gn?(Tt(u,m),this._popup=u,u._source=this):((!this._popup||m)&&(this._popup=new gn(m,this)),this._popup.setContent(u)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(u,m){return this._popup&&this._map&&(m=this._popup._prepareOpen(this,u,m),this._map.openPopup(this._popup,m)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(u){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(u)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(u){return this._popup&&this._popup.setContent(u),this},getPopup:function(){return this._popup},_openPopup:function(u){var m=u.layer||u.target;if(this._popup&&this._map){if(ya(u),m instanceof xr)return void this.openPopup(u.layer||u.target,u.latlng);this._map.hasLayer(this._popup)&&this._popup._source===m?this.closePopup():this.openPopup(m,u.latlng)}},_movePopup:function(u){this._popup.setLatLng(u.latlng)},_onKeyPress:function(u){13===u.originalEvent.keyCode&&this._openPopup(u)}});var _o=Nr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(u){Nr.prototype.onAdd.call(this,u),this.setOpacity(this.options.opacity),u.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(u){Nr.prototype.onRemove.call(this,u),u.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var u=Nr.prototype.getEvents.call(this);return ir&&!this.options.permanent&&(u.preclick=this._close),u},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=Yn("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(u){var m,S,R=this._map,H=this._container,ft=R.latLngToContainerPoint(R.getCenter()),Bt=R.layerPointToContainerPoint(u),te=this.options.direction,he=H.offsetWidth,we=H.offsetHeight,Fe=a(this.options.offset),Ze=this._getAnchor();"top"===te?(m=he/2,S=we):"bottom"===te?(m=he/2,S=0):"center"===te?(m=he/2,S=we/2):"right"===te?(m=0,S=we/2):"left"===te?(m=he,S=we/2):Bt.x<ft.x?(te="right",m=0,S=we/2):(te="left",m=he+2*(Fe.x+Ze.x),S=we/2),u=u.subtract(a(m,S,!0)).add(Fe).add(Ze),Ir(H,"leaflet-tooltip-right"),Ir(H,"leaflet-tooltip-left"),Ir(H,"leaflet-tooltip-top"),Ir(H,"leaflet-tooltip-bottom"),Mn(H,"leaflet-tooltip-"+te),pn(H,u)},_updatePosition:function(){var u=this._map.latLngToLayerPoint(this._latlng);this._setPosition(u)},setOpacity:function(u){this.options.opacity=u,this._container&&po(this._container,u)},_animateZoom:function(u){var m=this._map._latLngToNewLayerPoint(this._latlng,u.zoom,u.center);this._setPosition(m)},_getAnchor:function(){return a(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});ar.include({openTooltip:function(u,m,S){return u instanceof _o||(u=new _o(S).setContent(u)),m&&u.setLatLng(m),this.hasLayer(u)?this:this.addLayer(u)},closeTooltip:function(u){return u&&this.removeLayer(u),this}}),Qr.include({bindTooltip:function(u,m){return u instanceof _o?(Tt(u,m),this._tooltip=u,u._source=this):((!this._tooltip||m)&&(this._tooltip=new _o(m,this)),this._tooltip.setContent(u)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(u){if(u||!this._tooltipHandlersAdded){var m=u?"off":"on",S={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?S.add=this._openTooltip:(S.mouseover=this._openTooltip,S.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(S.mousemove=this._moveTooltip),ir&&(S.click=this._openTooltip)),this[m](S),this._tooltipHandlersAdded=!u}},openTooltip:function(u,m){return this._tooltip&&this._map&&(m=this._tooltip._prepareOpen(this,u,m),this._map.openTooltip(this._tooltip,m),this._tooltip.options.interactive&&this._tooltip._container&&(Mn(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(Ir(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(u){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(u)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(u){return this._tooltip&&this._tooltip.setContent(u),this},getTooltip:function(){return this._tooltip},_openTooltip:function(u){!this._tooltip||!this._map||this.openTooltip(u.layer||u.target,this._tooltip.options.sticky?u.latlng:void 0)},_moveTooltip:function(u){var S,R,m=u.latlng;this._tooltip.options.sticky&&u.originalEvent&&(S=this._map.mouseEventToContainerPoint(u.originalEvent),R=this._map.containerPointToLayerPoint(S),m=this._map.layerPointToLatLng(R)),this._tooltip.setLatLng(m)}});var gs=ba.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(u){var m=u&&"DIV"===u.tagName?u:document.createElement("div"),S=this.options;if(S.html instanceof Element?(us(m),m.appendChild(S.html)):m.innerHTML=!1!==S.html?S.html:"",S.bgPos){var R=a(S.bgPos);m.style.backgroundPosition=-R.x+"px "+-R.y+"px"}return this._setIconStyles(m,"icon"),m},createShadow:function(){return null}});ba.Default=ps;var ao=Qr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:We,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(u){Tt(this,u)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(u){u._addZoomLimit(this)},onRemove:function(u){this._removeAllTiles(),Mr(this._container),u._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Fa(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Fo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(u){return this.options.opacity=u,this._updateOpacity(),this},setZIndex:function(u){return this.options.zIndex=u,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var u={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Ot(this._onMoveEnd,this.options.updateInterval,this)),u.move=this._onMove),this._zoomAnimated&&(u.zoomanim=this._animateZoom),u},createTile:function(){return document.createElement("div")},getTileSize:function(){var u=this.options.tileSize;return u instanceof ce?u:new ce(u,u)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(u){for(var ft,m=this.getPane().children,S=-u(-1/0,1/0),R=0,H=m.length;R<H;R++)ft=m[R].style.zIndex,m[R]!==this._container&&ft&&(S=u(S,+ft));isFinite(S)&&(this.options.zIndex=S+u(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!nn){po(this._container,this.options.opacity);var u=+new Date,m=!1,S=!1;for(var R in this._tiles){var H=this._tiles[R];if(H.current&&H.loaded){var ft=Math.min(1,(u-H.loaded)/200);po(H.el,ft),ft<1?m=!0:(H.active?S=!0:this._onOpaqueTile(H),H.active=!0)}}S&&!this._noPrune&&this._pruneTiles(),m&&(yt(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this))}},_onOpaqueTile:Ct,_initContainer:function(){this._container||(this._container=Yn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var u=this._tileZoom,m=this.options.maxZoom;if(void 0!==u){for(var S in this._levels)S=Number(S),this._levels[S].el.children.length||S===u?(this._levels[S].el.style.zIndex=m-Math.abs(u-S),this._onUpdateLevel(S)):(Mr(this._levels[S].el),this._removeTilesAtZoom(S),this._onRemoveLevel(S),delete this._levels[S]);var R=this._levels[u],H=this._map;return R||((R=this._levels[u]={}).el=Yn("div","leaflet-tile-container leaflet-zoom-animated",this._container),R.el.style.zIndex=m,R.origin=H.project(H.unproject(H.getPixelOrigin()),u).round(),R.zoom=u,this._setZoomTransform(R,H.getCenter(),H.getZoom()),this._onCreateLevel(R)),this._level=R,R}},_onUpdateLevel:Ct,_onRemoveLevel:Ct,_onCreateLevel:Ct,_pruneTiles:function(){if(this._map){var u,m,S=this._map.getZoom();if(S>this.options.maxZoom||S<this.options.minZoom)return void this._removeAllTiles();for(u in this._tiles)(m=this._tiles[u]).retain=m.current;for(u in this._tiles)if((m=this._tiles[u]).current&&!m.active){var R=m.coords;this._retainParent(R.x,R.y,R.z,R.z-5)||this._retainChildren(R.x,R.y,R.z,R.z+2)}for(u in this._tiles)this._tiles[u].retain||this._removeTile(u)}},_removeTilesAtZoom:function(u){for(var m in this._tiles)this._tiles[m].coords.z===u&&this._removeTile(m)},_removeAllTiles:function(){for(var u in this._tiles)this._removeTile(u)},_invalidateAll:function(){for(var u in this._levels)Mr(this._levels[u].el),this._onRemoveLevel(Number(u)),delete this._levels[u];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(u,m,S,R){var H=Math.floor(u/2),ft=Math.floor(m/2),Bt=S-1,te=new ce(+H,+ft);te.z=+Bt;var he=this._tileCoordsToKey(te),we=this._tiles[he];return we&&we.active?(we.retain=!0,!0):(we&&we.loaded&&(we.retain=!0),Bt>R&&this._retainParent(H,ft,Bt,R))},_retainChildren:function(u,m,S,R){for(var H=2*u;H<2*u+2;H++)for(var ft=2*m;ft<2*m+2;ft++){var Bt=new ce(H,ft);Bt.z=S+1;var te=this._tileCoordsToKey(Bt),he=this._tiles[te];he&&he.active?he.retain=!0:(he&&he.loaded&&(he.retain=!0),S+1<R&&this._retainChildren(H,ft,S+1,R))}},_resetView:function(u){var m=u&&(u.pinch||u.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),m,m)},_animateZoom:function(u){this._setView(u.center,u.zoom,!0,u.noUpdate)},_clampZoom:function(u){var m=this.options;return void 0!==m.minNativeZoom&&u<m.minNativeZoom?m.minNativeZoom:void 0!==m.maxNativeZoom&&m.maxNativeZoom<u?m.maxNativeZoom:u},_setView:function(u,m,S,R){var H=Math.round(m);H=void 0!==this.options.maxZoom&&H>this.options.maxZoom||void 0!==this.options.minZoom&&H<this.options.minZoom?void 0:this._clampZoom(H),(!R||this.options.updateWhenZooming&&H!==this._tileZoom)&&(this._tileZoom=H,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==H&&this._update(u),S||this._pruneTiles(),this._noPrune=!!S),this._setZoomTransforms(u,m)},_setZoomTransforms:function(u,m){for(var S in this._levels)this._setZoomTransform(this._levels[S],u,m)},_setZoomTransform:function(u,m,S){var R=this._map.getZoomScale(S,u.zoom),H=u.origin.multiplyBy(R).subtract(this._map._getNewPixelOrigin(m,S)).round();_e?ta(u.el,H,R):pn(u.el,H)},_resetGrid:function(){var u=this._map,m=u.options.crs,S=this._tileSize=this.getTileSize(),R=this._tileZoom,H=this._map.getPixelWorldBounds(this._tileZoom);H&&(this._globalTileRange=this._pxBoundsToTileRange(H)),this._wrapX=m.wrapLng&&!this.options.noWrap&&[Math.floor(u.project([0,m.wrapLng[0]],R).x/S.x),Math.ceil(u.project([0,m.wrapLng[1]],R).x/S.y)],this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(u.project([m.wrapLat[0],0],R).y/S.x),Math.ceil(u.project([m.wrapLat[1],0],R).y/S.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(u){var m=this._map,S=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom(),R=m.getZoomScale(S,this._tileZoom),H=m.project(u,this._tileZoom).floor(),ft=m.getSize().divideBy(2*R);return new l(H.subtract(ft),H.add(ft))},_update:function(u){var m=this._map;if(m){var S=this._clampZoom(m.getZoom());if(void 0===u&&(u=m.getCenter()),void 0!==this._tileZoom){var R=this._getTiledPixelBounds(u),H=this._pxBoundsToTileRange(R),ft=H.getCenter(),Bt=[],te=this.options.keepBuffer,he=new l(H.getBottomLeft().subtract([te,-te]),H.getTopRight().add([te,-te]));if(!(isFinite(H.min.x)&&isFinite(H.min.y)&&isFinite(H.max.x)&&isFinite(H.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var we in this._tiles){var Fe=this._tiles[we].coords;(Fe.z!==this._tileZoom||!he.contains(new ce(Fe.x,Fe.y)))&&(this._tiles[we].current=!1)}if(Math.abs(S-this._tileZoom)>1)return void this._setView(u,S);for(var Ze=H.min.y;Ze<=H.max.y;Ze++)for(var Un=H.min.x;Un<=H.max.x;Un++){var di=new ce(Un,Ze);if(di.z=this._tileZoom,this._isValidTile(di)){var Ai=this._tiles[this._tileCoordsToKey(di)];Ai?Ai.current=!0:Bt.push(di)}}if(Bt.sort(function(uo,Ta){return uo.distanceTo(ft)-Ta.distanceTo(ft)}),0!==Bt.length){this._loading||(this._loading=!0,this.fire("loading"));var Vl=document.createDocumentFragment();for(Un=0;Un<Bt.length;Un++)this._addTile(Bt[Un],Vl);this._level.el.appendChild(Vl)}}}},_isValidTile:function(u){var m=this._map.options.crs;if(!m.infinite){var S=this._globalTileRange;if(!m.wrapLng&&(u.x<S.min.x||u.x>S.max.x)||!m.wrapLat&&(u.y<S.min.y||u.y>S.max.y))return!1}if(!this.options.bounds)return!0;var R=this._tileCoordsToBounds(u);return E(this.options.bounds).overlaps(R)},_keyToBounds:function(u){return this._tileCoordsToBounds(this._keyToTileCoords(u))},_tileCoordsToNwSe:function(u){var m=this._map,S=this.getTileSize(),R=u.scaleBy(S),H=R.add(S);return[m.unproject(R,u.z),m.unproject(H,u.z)]},_tileCoordsToBounds:function(u){var m=this._tileCoordsToNwSe(u),S=new _(m[0],m[1]);return this.options.noWrap||(S=this._map.wrapLatLngBounds(S)),S},_tileCoordsToKey:function(u){return u.x+":"+u.y+":"+u.z},_keyToTileCoords:function(u){var m=u.split(":"),S=new ce(+m[0],+m[1]);return S.z=+m[2],S},_removeTile:function(u){var m=this._tiles[u];m&&(Mr(m.el),delete this._tiles[u],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(u)}))},_initTile:function(u){Mn(u,"leaflet-tile");var m=this.getTileSize();u.style.width=m.x+"px",u.style.height=m.y+"px",u.onselectstart=Ct,u.onmousemove=Ct,nn&&this.options.opacity<1&&po(u,this.options.opacity),dn&&!an&&(u.style.WebkitBackfaceVisibility="hidden")},_addTile:function(u,m){var S=this._getTilePos(u),R=this._tileCoordsToKey(u),H=this.createTile(this._wrapCoords(u),Mt(this._tileReady,this,u));this._initTile(H),this.createTile.length<2&&z(Mt(this._tileReady,this,u,null,H)),pn(H,S),this._tiles[R]={el:H,coords:u,current:!0},m.appendChild(H),this.fire("tileloadstart",{tile:H,coords:u})},_tileReady:function(u,m,S){m&&this.fire("tileerror",{error:m,tile:S,coords:u});var R=this._tileCoordsToKey(u);(S=this._tiles[R])&&(S.loaded=+new Date,this._map._fadeAnimated?(po(S.el,0),yt(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this)):(S.active=!0,this._pruneTiles()),m||(Mn(S.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:S.el,coords:u})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),nn||!this._map._fadeAnimated?z(this._pruneTiles,this):setTimeout(Mt(this._pruneTiles,this),250)))},_getTilePos:function(u){return u.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(u){var m=new ce(this._wrapX?Pt(u.x,this._wrapX):u.x,this._wrapY?Pt(u.y,this._wrapY):u.y);return m.z=u.z,m},_pxBoundsToTileRange:function(u){var m=this.getTileSize();return new l(u.min.unscaleBy(m).floor(),u.max.unscaleBy(m).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var u in this._tiles)if(!this._tiles[u].loaded)return!1;return!0}});var fi=ao.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(u,m){this._url=u,(m=Tt(this,m)).detectRetina&&ui&&m.maxZoom>0&&(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom++):(m.zoomOffset++,m.maxZoom--),m.minZoom=Math.max(0,m.minZoom)),"string"==typeof m.subdomains&&(m.subdomains=m.subdomains.split("")),dn||this.on("tileunload",this._onTileRemove)},setUrl:function(u,m){return this._url===u&&void 0===m&&(m=!0),this._url=u,m||this.redraw(),this},createTile:function(u,m){var S=document.createElement("img");return kn(S,"load",Mt(this._tileOnLoad,this,m,S)),kn(S,"error",Mt(this._tileOnError,this,m,S)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(S.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),S.alt="",S.setAttribute("role","presentation"),S.src=this.getTileUrl(u),S},getTileUrl:function(u){var m={r:ui?"@2x":"",s:this._getSubdomain(u),x:u.x,y:u.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var S=this._globalTileRange.max.y-u.y;this.options.tms&&(m.y=S),m["-y"]=S}return q(this._url,xt(m,this.options))},_tileOnLoad:function(u,m){nn?setTimeout(Mt(u,this,null,m),0):u(null,m)},_tileOnError:function(u,m,S){var R=this.options.errorTileUrl;R&&m.getAttribute("src")!==R&&(m.src=R),u(S,m)},_onTileRemove:function(u){u.tile.onload=null},_getZoomForUrl:function(){var u=this._tileZoom;return this.options.zoomReverse&&(u=this.options.maxZoom-u),u+this.options.zoomOffset},_getSubdomain:function(u){var m=Math.abs(u.x+u.y)%this.options.subdomains.length;return this.options.subdomains[m]},_abortLoading:function(){var u,m;for(u in this._tiles)this._tiles[u].coords.z!==this._tileZoom&&((m=this._tiles[u].el).onload=Ct,m.onerror=Ct,m.complete||(m.src=V,Mr(m),delete this._tiles[u]))},_removeTile:function(u){var m=this._tiles[u];if(m)return Nn||m.el.setAttribute("src",V),ao.prototype._removeTile.call(this,u)},_tileReady:function(u,m,S){if(this._map&&(!S||S.getAttribute("src")!==V))return ao.prototype._tileReady.call(this,u,m,S)}});function sa(u,m){return new fi(u,m)}var Sa=fi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(u,m){this._url=u;var S=xt({},this.defaultWmsParams);for(var R in m)R in this.options||(S[R]=m[R]);var H=(m=Tt(this,m)).detectRetina&&ui?2:1,ft=this.getTileSize();S.width=ft.x*H,S.height=ft.y*H,this.wmsParams=S},onAdd:function(u){this._crs=this.options.crs||u.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,fi.prototype.onAdd.call(this,u)},getTileUrl:function(u){var m=this._tileCoordsToNwSe(u),S=this._crs,R=d(S.project(m[0]),S.project(m[1])),H=R.min,ft=R.max,Bt=(this._wmsVersion>=1.3&&this._crs===Gc?[H.y,H.x,ft.y,ft.x]:[H.x,H.y,ft.x,ft.y]).join(","),te=fi.prototype.getTileUrl.call(this,u);return te+$t(this.wmsParams,te,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Bt},setParams:function(u,m){return xt(this.wmsParams,u),m||this.redraw(),this}});fi.WMS=Sa,sa.wms=function hr(u,m){return new Sa(u,m)};var so=Qr.extend({options:{padding:.1,tolerance:0},initialize:function(u){Tt(this,u),gt(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Mn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var u={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(u.zoomanim=this._onAnimZoom),u},_onAnimZoom:function(u){this._updateTransform(u.center,u.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(u,m){var S=this._map.getZoomScale(m,this._zoom),R=Ni(this._container),H=this._map.getSize().multiplyBy(.5+this.options.padding),ft=this._map.project(this._center,m),te=this._map.project(u,m).subtract(ft),he=H.multiplyBy(-S).add(R).add(H).subtract(te);_e?ta(this._container,he,S):pn(this._container,he)},_reset:function(){for(var u in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[u]._reset()},_onZoomEnd:function(){for(var u in this._layers)this._layers[u]._project()},_updatePaths:function(){for(var u in this._layers)this._layers[u]._update()},_update:function(){var u=this.options.padding,m=this._map.getSize(),S=this._map.containerPointToLayerPoint(m.multiplyBy(-u)).round();this._bounds=new l(S,S.add(m.multiplyBy(1+2*u)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),za=so.extend({getEvents:function(){var u=so.prototype.getEvents.call(this);return u.viewprereset=this._onViewPreReset,u},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){so.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var u=this._container=document.createElement("canvas");kn(u,"mousemove",this._onMouseMove,this),kn(u,"click dblclick mousedown mouseup contextmenu",this._onClick,this),kn(u,"mouseout",this._handleMouseOut,this),this._ctx=u.getContext("2d")},_destroyContainer:function(){yt(this._redrawRequest),delete this._ctx,Mr(this._container),Xn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var m in this._redrawBounds=null,this._layers)this._layers[m]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){so.prototype._update.call(this);var u=this._bounds,m=this._container,S=u.getSize(),R=ui?2:1;pn(m,u.min),m.width=R*S.x,m.height=R*S.y,m.style.width=S.x+"px",m.style.height=S.y+"px",ui&&this._ctx.scale(2,2),this._ctx.translate(-u.min.x,-u.min.y),this.fire("update")}},_reset:function(){so.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(u){this._updateDashArray(u),this._layers[gt(u)]=u;var m=u._order={layer:u,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=m),this._drawLast=m,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(u){this._requestRedraw(u)},_removePath:function(u){var m=u._order,S=m.next,R=m.prev;S?S.prev=R:this._drawLast=R,R?R.next=S:this._drawFirst=S,delete u._order,delete this._layers[gt(u)],this._requestRedraw(u)},_updatePath:function(u){this._extendRedrawBounds(u),u._project(),u._update(),this._requestRedraw(u)},_updateStyle:function(u){this._updateDashArray(u),this._requestRedraw(u)},_updateDashArray:function(u){if("string"==typeof u.options.dashArray){var R,H,m=u.options.dashArray.split(/[, ]+/),S=[];for(H=0;H<m.length;H++){if(R=Number(m[H]),isNaN(R))return;S.push(R)}u.options._dashArray=S}else u.options._dashArray=u.options.dashArray},_requestRedraw:function(u){this._map&&(this._extendRedrawBounds(u),this._redrawRequest=this._redrawRequest||z(this._redraw,this))},_extendRedrawBounds:function(u){if(u._pxBounds){var m=(u.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new l,this._redrawBounds.extend(u._pxBounds.min.subtract([m,m])),this._redrawBounds.extend(u._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var u=this._redrawBounds;if(u){var m=u.getSize();this._ctx.clearRect(u.min.x,u.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var u,m=this._redrawBounds;if(this._ctx.save(),m){var S=m.getSize();this._ctx.beginPath(),this._ctx.rect(m.min.x,m.min.y,S.x,S.y),this._ctx.clip()}this._drawing=!0;for(var R=this._drawFirst;R;R=R.next)u=R.layer,(!m||u._pxBounds&&u._pxBounds.intersects(m))&&u._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(u,m){if(this._drawing){var S,R,H,ft,Bt=u._parts,te=Bt.length,he=this._ctx;if(te){for(he.beginPath(),S=0;S<te;S++){for(R=0,H=Bt[S].length;R<H;R++)he[R?"lineTo":"moveTo"]((ft=Bt[S][R]).x,ft.y);m&&he.closePath()}this._fillStroke(he,u)}}},_updateCircle:function(u){if(this._drawing&&!u._empty()){var m=u._point,S=this._ctx,R=Math.max(Math.round(u._radius),1),H=(Math.max(Math.round(u._radiusY),1)||R)/R;1!==H&&(S.save(),S.scale(1,H)),S.beginPath(),S.arc(m.x,m.y/H,R,0,2*Math.PI,!1),1!==H&&S.restore(),this._fillStroke(S,u)}},_fillStroke:function(u,m){var S=m.options;S.fill&&(u.globalAlpha=S.fillOpacity,u.fillStyle=S.fillColor||S.color,u.fill(S.fillRule||"evenodd")),S.stroke&&0!==S.weight&&(u.setLineDash&&u.setLineDash(m.options&&m.options._dashArray||[]),u.globalAlpha=S.opacity,u.lineWidth=S.weight,u.strokeStyle=S.color,u.lineCap=S.lineCap,u.lineJoin=S.lineJoin,u.stroke())},_onClick:function(u){for(var S,R,m=this._map.mouseEventToLayerPoint(u),H=this._drawFirst;H;H=H.next)(S=H.layer).options.interactive&&S._containsPoint(m)&&("click"!==u.type&&"preclick"===u.type||!this._map._draggableMoved(S))&&(R=S);R&&(Hn(u),this._fireEvent([R],u))},_onMouseMove:function(u){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var m=this._map.mouseEventToLayerPoint(u);this._handleMouseHover(u,m)}},_handleMouseOut:function(u){var m=this._hoveredLayer;m&&(Ir(this._container,"leaflet-interactive"),this._fireEvent([m],u,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(u,m){if(!this._mouseHoverThrottled){for(var S,R,H=this._drawFirst;H;H=H.next)(S=H.layer).options.interactive&&S._containsPoint(m)&&(R=S);R!==this._hoveredLayer&&(this._handleMouseOut(u),R&&(Mn(this._container,"leaflet-interactive"),this._fireEvent([R],u,"mouseover"),this._hoveredLayer=R)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],u),this._mouseHoverThrottled=!0,setTimeout(Mt(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(u,m,S){this._map._fireDOMEvent(m,S||m.type,u)},_bringToFront:function(u){var m=u._order;if(m){var S=m.next,R=m.prev;if(!S)return;S.prev=R,R?R.next=S:S&&(this._drawFirst=S),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(u)}},_bringToBack:function(u){var m=u._order;if(m){var S=m.next,R=m.prev;if(!R)return;R.next=S,S?S.prev=R:R&&(this._drawLast=R),m.prev=null,m.next=this._drawFirst,this._drawFirst.prev=m,this._drawFirst=m,this._requestRedraw(u)}}});function Ju(u){return en?new za(u):null}var Uo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(u){return document.createElement("<lvml:"+u+' class="lvml">')}}catch{return function(m){return document.createElement("<"+m+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Ga={_initContainer:function(){this._container=Yn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(so.prototype._update.call(this),this.fire("update"))},_initPath:function(u){var m=u._container=Uo("shape");Mn(m,"leaflet-vml-shape "+(this.options.className||"")),m.coordsize="1 1",u._path=Uo("path"),m.appendChild(u._path),this._updateStyle(u),this._layers[gt(u)]=u},_addPath:function(u){var m=u._container;this._container.appendChild(m),u.options.interactive&&u.addInteractiveTarget(m)},_removePath:function(u){var m=u._container;Mr(m),u.removeInteractiveTarget(m),delete this._layers[gt(u)]},_updateStyle:function(u){var m=u._stroke,S=u._fill,R=u.options,H=u._container;H.stroked=!!R.stroke,H.filled=!!R.fill,R.stroke?(m||(m=u._stroke=Uo("stroke")),H.appendChild(m),m.weight=R.weight+"px",m.color=R.color,m.opacity=R.opacity,m.dashStyle=R.dashArray?K(R.dashArray)?R.dashArray.join(" "):R.dashArray.replace(/( *, *)/g," "):"",m.endcap=R.lineCap.replace("butt","flat"),m.joinstyle=R.lineJoin):m&&(H.removeChild(m),u._stroke=null),R.fill?(S||(S=u._fill=Uo("fill")),H.appendChild(S),S.color=R.fillColor||R.color,S.opacity=R.fillOpacity):S&&(H.removeChild(S),u._fill=null)},_updateCircle:function(u){var m=u._point.round(),S=Math.round(u._radius),R=Math.round(u._radiusY||S);this._setPath(u,u._empty()?"M0 0":"AL "+m.x+","+m.y+" "+S+","+R+" 0,23592600")},_setPath:function(u,m){u._path.v=m},_bringToFront:function(u){Fa(u._container)},_bringToBack:function(u){Fo(u._container)}},yo=Yr?Uo:de,br=so.extend({getEvents:function(){var u=so.prototype.getEvents.call(this);return u.zoomstart=this._onZoomStart,u},_initContainer:function(){this._container=yo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=yo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Mr(this._container),Xn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){so.prototype._update.call(this);var u=this._bounds,m=u.getSize(),S=this._container;(!this._svgSize||!this._svgSize.equals(m))&&(this._svgSize=m,S.setAttribute("width",m.x),S.setAttribute("height",m.y)),pn(S,u.min),S.setAttribute("viewBox",[u.min.x,u.min.y,m.x,m.y].join(" ")),this.fire("update")}},_initPath:function(u){var m=u._path=yo("path");u.options.className&&Mn(m,u.options.className),u.options.interactive&&Mn(m,"leaflet-interactive"),this._updateStyle(u),this._layers[gt(u)]=u},_addPath:function(u){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(u._path),u.addInteractiveTarget(u._path)},_removePath:function(u){Mr(u._path),u.removeInteractiveTarget(u._path),delete this._layers[gt(u)]},_updatePath:function(u){u._project(),u._update()},_updateStyle:function(u){var m=u._path,S=u.options;m&&(S.stroke?(m.setAttribute("stroke",S.color),m.setAttribute("stroke-opacity",S.opacity),m.setAttribute("stroke-width",S.weight),m.setAttribute("stroke-linecap",S.lineCap),m.setAttribute("stroke-linejoin",S.lineJoin),S.dashArray?m.setAttribute("stroke-dasharray",S.dashArray):m.removeAttribute("stroke-dasharray"),S.dashOffset?m.setAttribute("stroke-dashoffset",S.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),S.fill?(m.setAttribute("fill",S.fillColor||S.color),m.setAttribute("fill-opacity",S.fillOpacity),m.setAttribute("fill-rule",S.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(u,m){this._setPath(u,ae(u._parts,m))},_updateCircle:function(u){var m=u._point,S=Math.max(Math.round(u._radius),1),H="a"+S+","+(Math.max(Math.round(u._radiusY),1)||S)+" 0 1,0 ",ft=u._empty()?"M0 0":"M"+(m.x-S)+","+m.y+H+2*S+",0 "+H+2*-S+",0 ";this._setPath(u,ft)},_setPath:function(u,m){u._path.setAttribute("d",m)},_bringToFront:function(u){Fa(u._path)},_bringToBack:function(u){Fo(u._path)}});function jo(u){return to||Yr?new br(u):null}Yr&&br.include(Ga),ar.include({getRenderer:function(u){var m=u.options.renderer||this._getPaneRenderer(u.options.pane)||this.options.renderer||this._renderer;return m||(m=this._renderer=this._createRenderer()),this.hasLayer(m)||this.addLayer(m),m},_getPaneRenderer:function(u){if("overlayPane"===u||void 0===u)return!1;var m=this._paneRenderers[u];return void 0===m&&(m=this._createRenderer({pane:u}),this._paneRenderers[u]=m),m},_createRenderer:function(u){return this.options.preferCanvas&&Ju(u)||jo(u)}});var hi=pr.extend({initialize:function(u,m){pr.prototype.initialize.call(this,this._boundsToLatLngs(u),m)},setBounds:function(u){return this.setLatLngs(this._boundsToLatLngs(u))},_boundsToLatLngs:function(u){return[(u=E(u)).getSouthWest(),u.getNorthWest(),u.getNorthEast(),u.getSouthEast()]}});br.create=yo,br.pointsToPath=ae,Ln.geometryToLayer=ri,Ln.coordsToLatLng=Go,Ln.coordsToLatLngs=yi,Ln.latLngToCoords=Ku,Ln.latLngsToCoords=Ba,Ln.getFeature=Rr,Ln.asFeature=er,ar.mergeOptions({boxZoom:!0});var Ma=go.extend({initialize:function(u){this._map=u,this._container=u._container,this._pane=u._panes.overlayPane,this._resetStateTimeout=0,u.on("unload",this._destroy,this)},addHooks:function(){kn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Xn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Mr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(u){if(!u.shiftKey||1!==u.which&&1!==u.button)return!1;this._clearDeferredResetState(),this._resetState(),li(),cu(),this._startPoint=this._map.mouseEventToContainerPoint(u),kn(document,{contextmenu:ya,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(u){this._moved||(this._moved=!0,this._box=Yn("div","leaflet-zoom-box",this._container),Mn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(u);var m=new l(this._point,this._startPoint),S=m.getSize();pn(this._box,m.min),this._box.style.width=S.x+"px",this._box.style.height=S.y+"px"},_finish:function(){this._moved&&(Mr(this._box),Ir(this._container,"leaflet-crosshair")),Cr(),Rl(),Xn(document,{contextmenu:ya,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(u){if((1===u.which||1===u.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(Mt(this._resetState,this),0);var m=new _(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(m).fire("boxzoomend",{boxZoomBounds:m})}},_onKeyDown:function(u){27===u.keyCode&&this._finish()}});ar.addInitHook("addHandler","boxZoom",Ma),ar.mergeOptions({doubleClickZoom:!0});var Us=go.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(u){var m=this._map,S=m.getZoom(),R=m.options.zoomDelta,H=u.originalEvent.shiftKey?S-R:S+R;"center"===m.options.doubleClickZoom?m.setZoom(H):m.setZoomAround(u.containerPoint,H)}});ar.addInitHook("addHandler","doubleClickZoom",Us),ar.mergeOptions({dragging:!0,inertia:!an,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ca=go.extend({addHooks:function(){if(!this._draggable){var u=this._map;this._draggable=new sr(u._mapPane,u._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),u.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),u.on("zoomend",this._onZoomEnd,this),u.whenReady(this._onZoomEnd,this))}Mn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ir(this._map._container,"leaflet-grab"),Ir(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var u=this._map;if(u._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=E(this._map.options.maxBounds);this._offsetLimit=d(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;u.fire("movestart").fire("dragstart"),u.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(u){if(this._map.options.inertia){var m=this._lastTime=+new Date,S=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(S),this._times.push(m),this._prunePositions(m)}this._map.fire("move",u).fire("drag",u)},_prunePositions:function(u){for(;this._positions.length>1&&u-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var u=this._map.getSize().divideBy(2),m=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=m.subtract(u).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(u,m){return u-(u-m)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var u=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;u.x<m.min.x&&(u.x=this._viscousLimit(u.x,m.min.x)),u.y<m.min.y&&(u.y=this._viscousLimit(u.y,m.min.y)),u.x>m.max.x&&(u.x=this._viscousLimit(u.x,m.max.x)),u.y>m.max.y&&(u.y=this._viscousLimit(u.y,m.max.y)),this._draggable._newPos=this._draggable._startPos.add(u)}},_onPreDragWrap:function(){var u=this._worldWidth,m=Math.round(u/2),S=this._initialWorldOffset,R=this._draggable._newPos.x,H=(R-m+S)%u+m-S,ft=(R+m+S)%u-m-S,Bt=Math.abs(H+S)<Math.abs(ft+S)?H:ft;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Bt},_onDragEnd:function(u){var m=this._map,S=m.options,R=!S.inertia||this._times.length<2;if(m.fire("dragend",u),R)m.fire("moveend");else{this._prunePositions(+new Date);var H=this._lastPos.subtract(this._positions[0]),Bt=S.easeLinearity,te=H.multiplyBy(Bt/((this._lastTime-this._times[0])/1e3)),he=te.distanceTo([0,0]),we=Math.min(S.inertiaMaxSpeed,he),Fe=te.multiplyBy(we/he),Ze=we/(S.inertiaDeceleration*Bt),Un=Fe.multiplyBy(-Ze/2).round();Un.x||Un.y?(Un=m._limitOffset(Un,m.options.maxBounds),z(function(){m.panBy(Un,{duration:Ze,easeLinearity:Bt,noMoveStart:!0,animate:!0})})):m.fire("moveend")}}});ar.addInitHook("addHandler","dragging",Ca),ar.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Fi=go.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(u){this._map=u,this._setPanDelta(u.options.keyboardPanDelta),this._setZoomDelta(u.options.zoomDelta)},addHooks:function(){var u=this._map._container;u.tabIndex<=0&&(u.tabIndex="0"),kn(u,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Xn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var u=document.body,m=document.documentElement,S=u.scrollTop||m.scrollTop,R=u.scrollLeft||m.scrollLeft;this._map._container.focus(),window.scrollTo(R,S)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(u){var R,H,m=this._panKeys={},S=this.keyCodes;for(R=0,H=S.left.length;R<H;R++)m[S.left[R]]=[-1*u,0];for(R=0,H=S.right.length;R<H;R++)m[S.right[R]]=[u,0];for(R=0,H=S.down.length;R<H;R++)m[S.down[R]]=[0,u];for(R=0,H=S.up.length;R<H;R++)m[S.up[R]]=[0,-1*u]},_setZoomDelta:function(u){var R,H,m=this._zoomKeys={},S=this.keyCodes;for(R=0,H=S.zoomIn.length;R<H;R++)m[S.zoomIn[R]]=u;for(R=0,H=S.zoomOut.length;R<H;R++)m[S.zoomOut[R]]=-u},_addHooks:function(){kn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Xn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(u){if(!(u.altKey||u.ctrlKey||u.metaKey)){var R,m=u.keyCode,S=this._map;if(m in this._panKeys)(!S._panAnim||!S._panAnim._inProgress)&&(R=this._panKeys[m],u.shiftKey&&(R=a(R).multiplyBy(3)),S.panBy(R),S.options.maxBounds&&S.panInsideBounds(S.options.maxBounds));else if(m in this._zoomKeys)S.setZoom(S.getZoom()+(u.shiftKey?3:1)*this._zoomKeys[m]);else{if(27!==m||!S._popup||!S._popup.options.closeOnEscapeKey)return;S.closePopup()}ya(u)}}});ar.addInitHook("addHandler","keyboard",Fi),ar.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Fl=go.extend({addHooks:function(){kn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Xn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(u){var m=Vc(u),S=this._map.options.wheelDebounceTime;this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(u),this._startTime||(this._startTime=+new Date);var R=Math.max(S-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(Mt(this._performZoom,this),R),ya(u)},_performZoom:function(){var u=this._map,m=u.getZoom(),S=this._map.options.zoomSnap||0;u._stop();var H=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,ft=S?Math.ceil(H/S)*S:H,Bt=u._limitZoom(m+(this._delta>0?ft:-ft))-m;this._delta=0,this._startTime=null,Bt&&("center"===u.options.scrollWheelZoom?u.setZoom(m+Bt):u.setZoomAround(this._lastMousePos,m+Bt))}});ar.addInitHook("addHandler","scrollWheelZoom",Fl),ar.mergeOptions({tap:!0,tapTolerance:15});var Hc=go.extend({addHooks:function(){kn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Xn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(u){if(u.touches){if(Bo(u),this._fireClick=!0,u.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var m=u.touches[0],S=m.target;this._startPos=this._newPos=new ce(m.clientX,m.clientY),S.tagName&&"a"===S.tagName.toLowerCase()&&Mn(S,"leaflet-active"),this._holdTimeout=setTimeout(Mt(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",m))},this),1e3),this._simulateEvent("mousedown",m),kn(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(u){if(clearTimeout(this._holdTimeout),Xn(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&u&&u.changedTouches){var m=u.changedTouches[0],S=m.target;S&&S.tagName&&"a"===S.tagName.toLowerCase()&&Ir(S,"leaflet-active"),this._simulateEvent("mouseup",m),this._isTapValid()&&this._simulateEvent("click",m)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(u){var m=u.touches[0];this._newPos=new ce(m.clientX,m.clientY),this._simulateEvent("mousemove",m)},_simulateEvent:function(u,m){var S=document.createEvent("MouseEvents");S._simulated=!0,m.target._simulatedClick=!0,S.initMouseEvent(u,!0,!0,window,1,m.screenX,m.screenY,m.clientX,m.clientY,!1,!1,!1,!1,0,null),m.target.dispatchEvent(S)}});ir&&(!lr||bn)&&ar.addInitHook("addHandler","tap",Hc),ar.mergeOptions({touchZoom:ir&&!an,bounceAtZoomLimits:!0});var Wc=go.extend({addHooks:function(){Mn(this._map._container,"leaflet-touch-zoom"),kn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ir(this._map._container,"leaflet-touch-zoom"),Xn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(u){var m=this._map;if(u.touches&&2===u.touches.length&&!m._animatingZoom&&!this._zooming){var S=m.mouseEventToContainerPoint(u.touches[0]),R=m.mouseEventToContainerPoint(u.touches[1]);this._centerPoint=m.getSize()._divideBy(2),this._startLatLng=m.containerPointToLatLng(this._centerPoint),"center"!==m.options.touchZoom&&(this._pinchStartLatLng=m.containerPointToLatLng(S.add(R)._divideBy(2))),this._startDist=S.distanceTo(R),this._startZoom=m.getZoom(),this._moved=!1,this._zooming=!0,m._stop(),kn(document,"touchmove",this._onTouchMove,this),kn(document,"touchend",this._onTouchEnd,this),Bo(u)}},_onTouchMove:function(u){if(u.touches&&2===u.touches.length&&this._zooming){var m=this._map,S=m.mouseEventToContainerPoint(u.touches[0]),R=m.mouseEventToContainerPoint(u.touches[1]),H=S.distanceTo(R)/this._startDist;if(this._zoom=m.getScaleZoom(H,this._startZoom),!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&H<1||this._zoom>m.getMaxZoom()&&H>1)&&(this._zoom=m._limitZoom(this._zoom)),"center"===m.options.touchZoom){if(this._center=this._startLatLng,1===H)return}else{var ft=S._add(R)._divideBy(2)._subtract(this._centerPoint);if(1===H&&0===ft.x&&0===ft.y)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(ft),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0),yt(this._animRequest);var Bt=Mt(m._move,m,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=z(Bt,this,!0),Bo(u)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,yt(this._animRequest),Xn(document,"touchmove",this._onTouchMove,this),Xn(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});ar.addInitHook("addHandler","touchZoom",Wc),ar.BoxZoom=Ma,ar.DoubleClickZoom=Us,ar.Drag=Ca,ar.Keyboard=Fi,ar.ScrollWheelZoom=Fl,ar.Tap=Hc,ar.TouchZoom=Wc,_t.version="1.7.1",_t.Control=vi,_t.control=hu,_t.Browser=Zr,_t.Evented=ge,_t.Mixin=_h,_t.Util=Nt,_t.Class=qt,_t.Handler=go,_t.extend=xt,_t.bind=Mt,_t.stamp=gt,_t.setOptions=Tt,_t.DomEvent=dp,_t.DomUtil=hp,_t.PosAnimation=un,_t.Draggable=sr,_t.LineUtil=hs,_t.PolyUtil=na,_t.Point=ce,_t.point=a,_t.Bounds=l,_t.bounds=d,_t.Transformation=Lt,_t.transformation=Ht,_t.Projection=wh,_t.LatLng=O,_t.latLng=j,_t.LatLngBounds=_,_t.latLngBounds=E,_t.CRS=W,_t.GeoJSON=Ln,_t.geoJSON=fn,_t.geoJson=_r,_t.Layer=Qr,_t.LayerGroup=ki,_t.layerGroup=function(u,m){return new ki(u,m)},_t.FeatureGroup=Fn,_t.featureGroup=function(u,m){return new Fn(u,m)},_t.ImageOverlay=ii,_t.imageOverlay=function(u,m,S){return new ii(u,m,S)},_t.VideoOverlay=Ur,_t.videoOverlay=function Gs(u,m,S){return new Ur(u,m,S)},_t.SVGOverlay=Or,_t.svgOverlay=function mu(u,m,S){return new Or(u,m,S)},_t.DivOverlay=Nr,_t.Popup=gn,_t.popup=function(u,m){return new gn(u,m)},_t.Tooltip=_o,_t.tooltip=function(u,m){return new _o(u,m)},_t.Icon=ba,_t.icon=function ia(u){return new ba(u)},_t.DivIcon=gs,_t.divIcon=function ci(u){return new gs(u)},_t.Marker=oa,_t.marker=function zo(u,m){return new oa(u,m)},_t.TileLayer=fi,_t.tileLayer=sa,_t.GridLayer=ao,_t.gridLayer=function $a(u){return new ao(u)},_t.SVG=br,_t.svg=jo,_t.Renderer=so,_t.Canvas=za,_t.canvas=Ju,_t.Path=xr,_t.CircleMarker=du,_t.circleMarker=function Uc(u,m){return new du(u,m)},_t.Circle=pu,_t.circle=function Va(u,m,S){return new pu(u,m,S)},_t.Polyline=aa,_t.polyline=function gu(u,m){return new aa(u,m)},_t.Polygon=pr,_t.polygon=function Ti(u,m){return new pr(u,m)},_t.Rectangle=hi,_t.rectangle=function wo(u,m){return new hi(u,m)},_t.Map=ar,_t.map=function wa(u,m){return new ar(u,m)};var bh=window.L;_t.noConflict=function(){return window.L=bh,this},window.L=_t}(kt)},6507:(Oe,kt,_t)=>{var k=_t(4695),xt=_t(5057),zt=typeof Float64Array<"u";function Mt(ht,J){return ht[0]-J[0]}function Rt(){var vt,ht=this.stride,J=new Array(ht.length);for(vt=0;vt<J.length;++vt)J[vt]=[Math.abs(ht[vt]),vt];J.sort(Mt);var Tt=new Array(J.length);for(vt=0;vt<Tt.length;++vt)Tt[vt]=J[vt][1];return Tt}function gt(ht,J){var vt=["View",J,"d",ht].join("");J<0&&(vt="View_Nil"+ht);var Tt="generic"===ht;if(-1===J){var $t="function "+vt+"(a){this.data=a;};var proto="+vt+".prototype;proto.dtype='"+ht+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+vt+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+vt+"(a){return new "+vt+"(a);}";return new Function($t)()}if(0===J)return $t="function "+vt+"(a,d) {this.data = a;this.offset = d};var proto="+vt+".prototype;proto.dtype='"+ht+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+vt+"_copy() {return new "+vt+"(this.data,this.offset)};proto.pick=function "+vt+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+vt+"_get(){return "+(Tt?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+vt+"_set(v){return "+(Tt?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+vt+"(a,b,c,d){return new "+vt+"(a,d)}",new Function("TrivialArray",$t)(Pt[ht][0]);$t=["'use strict'"];var nt=k(J),q=nt.map(function(yt){return"i"+yt}),K="this.offset+"+nt.map(function(yt){return"this.stride["+yt+"]*i"+yt}).join("+"),X=nt.map(function(yt){return"b"+yt}).join(","),V=nt.map(function(yt){return"c"+yt}).join(",");$t.push("function "+vt+"(a,"+X+","+V+",d){this.data=a","this.shape=["+X+"]","this.stride=["+V+"]","this.offset=d|0}","var proto="+vt+".prototype","proto.dtype='"+ht+"'","proto.dimension="+J),$t.push("Object.defineProperty(proto,'size',{get:function "+vt+"_size(){return "+nt.map(function(yt){return"this.shape["+yt+"]"}).join("*"),"}})"),1===J?$t.push("proto.order=[0]"):($t.push("Object.defineProperty(proto,'order',{get:"),J<4?($t.push("function "+vt+"_order(){"),2===J?$t.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===J&&$t.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):$t.push("ORDER})")),$t.push("proto.set=function "+vt+"_set("+q.join(",")+",v){"),$t.push(Tt?"return this.data.set("+K+",v)}":"return this.data["+K+"]=v}"),$t.push("proto.get=function "+vt+"_get("+q.join(",")+"){"),$t.push(Tt?"return this.data.get("+K+")}":"return this.data["+K+"]}"),$t.push("proto.index=function "+vt+"_index(",q.join(),"){return "+K+"}"),$t.push("proto.hi=function "+vt+"_hi("+q.join(",")+"){return new "+vt+"(this.data,"+nt.map(function(yt){return["(typeof i",yt,"!=='number'||i",yt,"<0)?this.shape[",yt,"]:i",yt,"|0"].join("")}).join(",")+","+nt.map(function(yt){return"this.stride["+yt+"]"}).join(",")+",this.offset)}");var Z=nt.map(function(yt){return"a"+yt+"=this.shape["+yt+"]"}),$=nt.map(function(yt){return"c"+yt+"=this.stride["+yt+"]"});$t.push("proto.lo=function "+vt+"_lo("+q.join(",")+"){var b=this.offset,d=0,"+Z.join(",")+","+$.join(","));for(var ct=0;ct<J;++ct)$t.push("if(typeof i"+ct+"==='number'&&i"+ct+">=0){d=i"+ct+"|0;b+=c"+ct+"*d;a"+ct+"-=d}");for($t.push("return new "+vt+"(this.data,"+nt.map(function(yt){return"a"+yt}).join(",")+","+nt.map(function(yt){return"c"+yt}).join(",")+",b)}"),$t.push("proto.step=function "+vt+"_step("+q.join(",")+"){var "+nt.map(function(yt){return"a"+yt+"=this.shape["+yt+"]"}).join(",")+","+nt.map(function(yt){return"b"+yt+"=this.stride["+yt+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil"),ct=0;ct<J;++ct)$t.push("if(typeof i"+ct+"==='number'){d=i"+ct+"|0;if(d<0){c+=b"+ct+"*(a"+ct+"-1);a"+ct+"=ceil(-a"+ct+"/d)}else{a"+ct+"=ceil(a"+ct+"/d)}b"+ct+"*=d}");$t.push("return new "+vt+"(this.data,"+nt.map(function(yt){return"a"+yt}).join(",")+","+nt.map(function(yt){return"b"+yt}).join(",")+",c)}");var bt=new Array(J),pt=new Array(J);for(ct=0;ct<J;++ct)bt[ct]="a[i"+ct+"]",pt[ct]="b[i"+ct+"]";for($t.push("proto.transpose=function "+vt+"_transpose("+q+"){"+q.map(function(yt,Nt){return yt+"=("+yt+"===undefined?"+Nt+":"+yt+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+vt+"(this.data,"+bt.join(",")+","+pt.join(",")+",this.offset)}"),$t.push("proto.pick=function "+vt+"_pick("+q+"){var a=[],b=[],c=this.offset"),ct=0;ct<J;++ct)$t.push("if(typeof i"+ct+"==='number'&&i"+ct+">=0){c=(c+this.stride["+ct+"]*i"+ct+")|0}else{a.push(this.shape["+ct+"]);b.push(this.stride["+ct+"])}");return $t.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),$t.push("return function construct_"+vt+"(data,shape,stride,offset){return new "+vt+"(data,"+nt.map(function(yt){return"shape["+yt+"]"}).join(",")+","+nt.map(function(yt){return"stride["+yt+"]"}).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",$t.join("\n"))(Pt[ht],Rt)}var Pt={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};Oe.exports=function Ct(ht,J,vt,Tt){if(void 0===ht)return(0,Pt.array[0])([]);"number"==typeof ht&&(ht=[ht]),void 0===J&&(J=[ht.length]);var $t=J.length;if(void 0===vt){vt=new Array($t);for(var nt=$t-1,q=1;nt>=0;--nt)vt[nt]=q,q*=J[nt]}if(void 0===Tt)for(Tt=0,nt=0;nt<$t;++nt)vt[nt]<0&&(Tt-=(J[nt]-1)*vt[nt]);for(var K=function Ot(ht){if(xt(ht))return"buffer";if(zt)switch(Object.prototype.toString.call(ht)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(ht)?"array":"generic"}(ht),X=Pt[K];X.length<=$t+1;)X.push(gt(K,X.length-1));return(0,X[$t+1])(ht,J,vt,Tt)}},8888:(Oe,kt,_t)=>{Oe.exports=function vt(Tt){for(var $t=Tt.length,nt=[],q=[],X=0;X<$t;++X)for(var V=Tt[X],Z=V.length,$=Z-1,ct=0;ct<Z;$=ct++){var bt=V[$],pt=V[ct];bt[0]===pt[0]?q.push([bt,pt]):nt.push([bt,pt])}if(0===nt.length)return 0===q.length?Ct:function ht(Tt){return function(nt){return Tt(nt[0],nt[1])?0:1}}(Ot(q));var z=xt(nt),yt=function Pt(Tt,$t){return function(nt){var q=Mt.le($t,nt[0]);if(q<0)return 1;var K=Tt[q];if(!K){if(!(q>0&&$t[q]===nt[0]))return 1;K=Tt[q-1]}for(var X=1;K;){var V=K.key,Z=k(nt,V[0],V[1]);if(V[0][0]<V[1][0])if(Z<0)K=K.left;else{if(!(Z>0))return 0;X=-1,K=K.right}else if(Z>0)K=K.left;else{if(!(Z<0))return 0;X=1,K=K.right}}return X}}(z.slabs,z.coordinates);return 0===q.length?yt:function J(Tt,$t){return function(q){return Tt(q[0],q[1])?0:$t(q)}}(Ot(q),yt)};var k=_t(8613)[3],xt=_t(6613),zt=_t(1137),Mt=_t(1650);function Rt(){return!0}function Ot(Tt){for(var $t={},nt=0;nt<Tt.length;++nt){var q=Tt[nt],K=q[0][0],X=q[0][1],V=q[1][1],Z=[Math.min(X,V),Math.max(X,V)];K in $t?$t[K].push(Z):$t[K]=[Z]}var $={},ct=Object.keys($t);for(nt=0;nt<ct.length;++nt)$[ct[nt]]=zt($t[ct[nt]]);return function gt(Tt){return function($t,nt){var q=Tt[$t];return!!q&&!!q.queryPoint(nt,Rt)}}($)}function Ct(Tt){return 1}},9987:(Oe,kt,_t)=>{"use strict";_t.r(kt),_t.d(kt,{default:()=>qs});var xt=1,zt=2,Mt=3,gt=5,Ot=6378137,Pt=6356752.314,Ct=.0066943799901413165,ht=484813681109536e-20,J=Math.PI/2,vt=.16666666666666666,Tt=.04722222222222222,$t=.022156084656084655,nt=1e-10,q=.017453292519943295,K=57.29577951308232,X=Math.PI/4,V=2*Math.PI,Z=3.14159265359,$={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};const ct={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}};var bt=/[\s_\-\/\(\)]/g;function pt(v,M){if(v[M])return v[M];for(var et,D=Object.keys(v),U=M.toLowerCase().replace(bt,""),G=-1;++G<D.length;)if((et=D[G]).toLowerCase().replace(bt,"")===U)return v[et]}function z(v){var U,G,et,M={},D=v.split("+").map(function(tt){return tt.trim()}).filter(function(tt){return tt}).reduce(function(tt,Et){var Vt=Et.split("=");return Vt.push(!0),tt[Vt[0].toLowerCase()]=Vt[1],tt},{}),st={proj:"projName",datum:"datumCode",rf:function(tt){M.rf=parseFloat(tt)},lat_0:function(tt){M.lat0=tt*q},lat_1:function(tt){M.lat1=tt*q},lat_2:function(tt){M.lat2=tt*q},lat_ts:function(tt){M.lat_ts=tt*q},lon_0:function(tt){M.long0=tt*q},lon_1:function(tt){M.long1=tt*q},lon_2:function(tt){M.long2=tt*q},alpha:function(tt){M.alpha=parseFloat(tt)*q},gamma:function(tt){M.rectified_grid_angle=parseFloat(tt)},lonc:function(tt){M.longc=tt*q},x_0:function(tt){M.x0=parseFloat(tt)},y_0:function(tt){M.y0=parseFloat(tt)},k_0:function(tt){M.k0=parseFloat(tt)},k:function(tt){M.k0=parseFloat(tt)},a:function(tt){M.a=parseFloat(tt)},b:function(tt){M.b=parseFloat(tt)},r_a:function(){M.R_A=!0},zone:function(tt){M.zone=parseInt(tt,10)},south:function(){M.utmSouth=!0},towgs84:function(tt){M.datum_params=tt.split(",").map(function(Et){return parseFloat(Et)})},to_meter:function(tt){M.to_meter=parseFloat(tt)},units:function(tt){M.units=tt;var Et=pt(ct,tt);Et&&(M.to_meter=Et.to_meter)},from_greenwich:function(tt){M.from_greenwich=tt*q},pm:function(tt){var Et=pt($,tt);M.from_greenwich=(Et||parseFloat(tt))*q},nadgrids:function(tt){"@null"===tt?M.datumCode="none":M.nadgrids=tt},axis:function(tt){var Et="ewnsud";3===tt.length&&-1!==Et.indexOf(tt.substr(0,1))&&-1!==Et.indexOf(tt.substr(1,1))&&-1!==Et.indexOf(tt.substr(2,1))&&(M.axis=tt)},approx:function(){M.approx=!0}};for(U in D)G=D[U],U in st?"function"==typeof(et=st[U])?et(G):M[et]=G:M[U]=G;return"string"==typeof M.datumCode&&"WGS84"!==M.datumCode&&(M.datumCode=M.datumCode.toLowerCase()),M}const yt=function O(v){return new E(v).output()};var Nt=1,Ft=/\s/,a=/[A-Za-z]/,l=/[A-Za-z84_]/,d=/[,\]]/,_=/[\d\.E\-\+]/;function E(v){if("string"!=typeof v)throw new Error("not a string");this.text=v.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Nt}function j(v,M,D){Array.isArray(M)&&(D.unshift(M),M=null);var G=D.reduce(function(et,st){return W(st,et),et},M?{}:v);M&&(v[M]=G)}function W(v,M){if(Array.isArray(v)){var D=v.shift();if("PARAMETER"===D&&(D=v.shift()),1===v.length)return Array.isArray(v[0])?(M[D]={},void W(v[0],M[D])):void(M[D]=v[0]);if(v.length)if("TOWGS84"!==D){if("AXIS"===D)return D in M||(M[D]=[]),void M[D].push(v);var U;switch(Array.isArray(D)||(M[D]={}),D){case"UNIT":case"PRIMEM":case"VERT_DATUM":return M[D]={name:v[0].toLowerCase(),convert:v[1]},void(3===v.length&&W(v[2],M[D]));case"SPHEROID":case"ELLIPSOID":return M[D]={name:v[0],a:v[1],rf:v[2]},void(4===v.length&&W(v[3],M[D]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return v[0]=["name",v[0]],void j(M,D,v);default:for(U=-1;++U<v.length;)if(!Array.isArray(v[U]))return W(v,M[D]);return j(M,D,v)}}else M[D]=v;else M[D]=!0}else M[v]=!0}E.prototype.readCharicter=function(){var v=this.text[this.place++];if(4!==this.state)for(;Ft.test(v);){if(this.place>=this.text.length)return;v=this.text[this.place++]}switch(this.state){case Nt:return this.neutral(v);case 2:return this.keyword(v);case 4:return this.quoted(v);case 5:return this.afterquote(v);case 3:return this.number(v);case-1:return}},E.prototype.afterquote=function(v){if('"'===v)return this.word+='"',void(this.state=4);if(d.test(v))return this.word=this.word.trim(),void this.afterItem(v);throw new Error("havn't handled \""+v+'" in afterquote yet, index '+this.place)},E.prototype.afterItem=function(v){return","===v?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=Nt)):"]"===v?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=Nt,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},E.prototype.number=function(v){if(!_.test(v)){if(d.test(v))return this.word=parseFloat(this.word),void this.afterItem(v);throw new Error("havn't handled \""+v+'" in number yet, index '+this.place)}this.word+=v},E.prototype.quoted=function(v){'"'!==v?this.word+=v:this.state=5},E.prototype.keyword=function(v){if(l.test(v))this.word+=v;else{if("["===v){var M=[];return M.push(this.word),this.level++,null===this.root?this.root=M:this.currentObject.push(M),this.stack.push(this.currentObject),this.currentObject=M,void(this.state=Nt)}if(!d.test(v))throw new Error("havn't handled \""+v+'" in keyword yet, index '+this.place);this.afterItem(v)}},E.prototype.neutral=function(v){if(a.test(v))return this.word=v,void(this.state=2);if('"'===v)return this.word="",void(this.state=4);if(_.test(v))return this.word=v,void(this.state=3);if(!d.test(v))throw new Error("havn't handled \""+v+'" in neutral yet, index '+this.place);this.afterItem(v)},E.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var ut=.017453292519943295;function wt(v){return v*ut}function Ht(v){var M=yt(v),D=M.shift(),U=M.shift();M.unshift(["name",U]),M.unshift(["type",D]);var G={};return W(M,G),function Lt(v){if("GEOGCS"===v.type?v.projName="longlat":"LOCAL_CS"===v.type?(v.projName="identity",v.local=!0):v.projName="object"==typeof v.PROJECTION?Object.keys(v.PROJECTION)[0]:v.PROJECTION,v.AXIS){for(var M="",D=0,U=v.AXIS.length;D<U;++D){var G=[v.AXIS[D][0].toLowerCase(),v.AXIS[D][1].toLowerCase()];-1!==G[0].indexOf("north")||("y"===G[0]||"lat"===G[0])&&"north"===G[1]?M+="n":-1!==G[0].indexOf("south")||("y"===G[0]||"lat"===G[0])&&"south"===G[1]?M+="s":-1!==G[0].indexOf("east")||("x"===G[0]||"lon"===G[0])&&"east"===G[1]?M+="e":(-1!==G[0].indexOf("west")||("x"===G[0]||"lon"===G[0])&&"west"===G[1])&&(M+="w")}2===M.length&&(M+="u"),3===M.length&&(v.axis=M)}v.UNIT&&(v.units=v.UNIT.name.toLowerCase(),"metre"===v.units&&(v.units="meter"),v.UNIT.convert&&("GEOGCS"===v.type?v.DATUM&&v.DATUM.SPHEROID&&(v.to_meter=v.UNIT.convert*v.DATUM.SPHEROID.a):v.to_meter=v.UNIT.convert));var et=v.GEOGCS;function st(Vt){return Vt*(v.to_meter||1)}"GEOGCS"===v.type&&(et=v),et&&(v.datumCode=et.DATUM?et.DATUM.name.toLowerCase():et.name.toLowerCase(),"d_"===v.datumCode.slice(0,2)&&(v.datumCode=v.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===v.datumCode||"new_zealand_1949"===v.datumCode)&&(v.datumCode="nzgd49"),("wgs_1984"===v.datumCode||"world_geodetic_system_1984"===v.datumCode)&&("Mercator_Auxiliary_Sphere"===v.PROJECTION&&(v.sphere=!0),v.datumCode="wgs84"),"_ferro"===v.datumCode.slice(-6)&&(v.datumCode=v.datumCode.slice(0,-6)),"_jakarta"===v.datumCode.slice(-8)&&(v.datumCode=v.datumCode.slice(0,-8)),~v.datumCode.indexOf("belge")&&(v.datumCode="rnb72"),et.DATUM&&et.DATUM.SPHEROID&&(v.ellps=et.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===v.ellps.toLowerCase().slice(0,13)&&(v.ellps="intl"),v.a=et.DATUM.SPHEROID.a,v.rf=parseFloat(et.DATUM.SPHEROID.rf,10)),et.DATUM&&et.DATUM.TOWGS84&&(v.datum_params=et.DATUM.TOWGS84),~v.datumCode.indexOf("osgb_1936")&&(v.datumCode="osgb36"),~v.datumCode.indexOf("osni_1952")&&(v.datumCode="osni52"),(~v.datumCode.indexOf("tm65")||~v.datumCode.indexOf("geodetic_datum_of_1965"))&&(v.datumCode="ire65"),"ch1903+"===v.datumCode&&(v.datumCode="ch1903"),~v.datumCode.indexOf("israel")&&(v.datumCode="isr93")),v.b&&!isFinite(v.b)&&(v.b=v.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",wt],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",wt],["x0","false_easting",st],["y0","false_northing",st],["long0","central_meridian",wt],["lat0","latitude_of_origin",wt],["lat0","standard_parallel_1",wt],["lat1","standard_parallel_1",wt],["lat2","standard_parallel_2",wt],["azimuth","Azimuth"],["alpha","azimuth",wt],["srsCode","name"]].forEach(function(Vt){return function ot(v,M){var D=M[0],U=M[1];!(D in v)&&U in v&&(v[D]=v[U],3===M.length&&(v[D]=M[2](v[D])))}(v,Vt)}),!v.long0&&v.longc&&("Albers_Conic_Equal_Area"===v.projName||"Lambert_Azimuthal_Equal_Area"===v.projName)&&(v.long0=v.longc),v.lat_ts||!v.lat1||"Stereographic_South_Pole"!==v.projName&&"Polar Stereographic (variant B)"!==v.projName?!v.lat_ts&&v.lat0&&"Polar_Stereographic"===v.projName&&(v.lat_ts=v.lat0,v.lat0=wt(v.lat0>0?90:-90)):(v.lat0=wt(v.lat1>0?90:-90),v.lat_ts=v.lat1)}(G),G}function Ut(v){var M=this;if(2===arguments.length){var D=arguments[1];Ut[v]="string"==typeof D?"+"===D.charAt(0)?z(arguments[1]):Ht(arguments[1]):D}else if(1===arguments.length){if(Array.isArray(v))return v.map(function(U){Array.isArray(U)?Ut.apply(M,U):Ut(U)});if("string"==typeof v){if(v in Ut)return Ut[v]}else"EPSG"in v?Ut["EPSG:"+v.EPSG]=v:"ESRI"in v?Ut["ESRI:"+v.ESRI]=v:"IAU2000"in v?Ut["IAU2000:"+v.IAU2000]=v:console.log(v);return}}!function k(v){v("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),v("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),v("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),v.WGS84=v["EPSG:4326"],v["EPSG:3785"]=v["EPSG:3857"],v.GOOGLE=v["EPSG:3857"],v["EPSG:900913"]=v["EPSG:3857"],v["EPSG:102113"]=v["EPSG:3857"]}(Ut);const Wt=Ut;var Ce=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],nn=["3857","900913","3785","102113"];const He=function an(v){if(!function de(v){return"string"==typeof v}(v))return v;if(function ae(v){return v in Wt}(v))return Wt[v];if(function Ue(v){return Ce.some(function(M){return v.indexOf(M)>-1})}(v)){var M=Ht(v);if(function yn(v){var M=pt(v,"authority");if(M){var D=pt(M,"epsg");return D&&nn.indexOf(D)>-1}}(M))return Wt["EPSG:3857"];var D=function on(v){var M=pt(v,"extension");if(M)return pt(M,"proj4")}(M);return D?z(D):M}return function dn(v){return"+"===v[0]}(v)?z(v):void 0};function Nn(v,M){var D,U;if(v=v||{},!M)return v;for(U in M)void 0!==(D=M[U])&&(v[U]=D);return v}function Le(v,M,D){var U=v*M;return D/Math.sqrt(1-U*U)}function De(v){return v<0?-1:1}function le(v){return Math.abs(v)<=Z?v:v-De(v)*V}function bn(v,M,D){var U=v*D;return U=Math.pow((1-U)/(1+U),.5*v),Math.tan(.5*(J-M))/U}function Sn(v,M){for(var U,G,D=.5*v,et=J-2*Math.atan(M),st=0;st<=15;st++)if(U=v*Math.sin(et),et+=G=J-2*Math.atan(M*Math.pow((1-U)/(1+U),D))-et,Math.abs(G)<=1e-10)return et;return-9999}function We(v){return v}var Pr=[{init:function cn(){var v=this.b/this.a;this.es=1-v*v,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):Le(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},forward:function Gn(v){var U,G,M=v.x,D=v.y;if(D*K>90&&D*K<-90&&M*K>180&&M*K<-180)return null;if(Math.abs(Math.abs(D)-J)<=nt)return null;if(this.sphere)U=this.x0+this.a*this.k0*le(M-this.long0),G=this.y0+this.a*this.k0*Math.log(Math.tan(X+.5*D));else{var et=Math.sin(D),st=bn(this.e,D,et);U=this.x0+this.a*this.k0*le(M-this.long0),G=this.y0-this.a*this.k0*Math.log(st)}return v.x=U,v.y=G,v},inverse:function In(v){var U,G,M=v.x-this.x0,D=v.y-this.y0;if(this.sphere)G=J-2*Math.atan(Math.exp(-D/(this.a*this.k0)));else{var et=Math.exp(-D/(this.a*this.k0));if(-9999===(G=Sn(this.e,et)))return null}return U=le(this.long0+M/(this.a*this.k0)),v.x=U,v.y=G,v},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function _e(){},forward:We,inverse:We,names:["longlat","identity"]}],lr={},ir=[];function Vr(v,M){var D=ir.length;return v.names?(ir[D]=v,v.names.forEach(function(U){lr[U.toLowerCase()]=D}),this):(console.log(M),!0)}const qr={start:function ui(){Pr.forEach(Vr)},add:Vr,get:function Gi(v){if(!v)return!1;var M=v.toLowerCase();return typeof lr[M]<"u"&&ir[lr[M]]?ir[lr[M]]:void 0}};var en={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:6378249.2,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},to=en.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};en.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var Zr={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};const os=function No(v,M,D,U,G,et,st){var tt={};return tt.datum_type=void 0===v||"none"===v?gt:4,M&&(tt.datum_params=M.map(parseFloat),(0!==tt.datum_params[0]||0!==tt.datum_params[1]||0!==tt.datum_params[2])&&(tt.datum_type=xt),tt.datum_params.length>3&&(0!==tt.datum_params[3]||0!==tt.datum_params[4]||0!==tt.datum_params[5]||0!==tt.datum_params[6])&&(tt.datum_type=zt,tt.datum_params[3]*=ht,tt.datum_params[4]*=ht,tt.datum_params[5]*=ht,tt.datum_params[6]=tt.datum_params[6]/1e6+1)),st&&(tt.datum_type=Mt,tt.grids=st),tt.a=D,tt.b=U,tt.es=G,tt.ep2=et,tt};var Na={};function as(v){if(0===v.length)return null;var M="@"===v[0];return M&&(v=v.slice(1)),"null"===v?{name:"null",mandatory:!M,grid:null,isNull:!0}:{name:v,mandatory:!M,grid:Na[v]||null,isNull:!1}}function va(v){return v/3600*Math.PI/180}function eo(v,M,D){return String.fromCharCode.apply(null,new Uint8Array(v.buffer.slice(M,D)))}function su(v){return v.map(function(M){return[va(M.longitudeShift),va(M.latitudeShift)]})}function ko(v,M,D){return{name:eo(v,M+8,M+16).trim(),parent:eo(v,M+24,M+24+8).trim(),lowerLatitude:v.getFloat64(M+72,D),upperLatitude:v.getFloat64(M+88,D),lowerLongitude:v.getFloat64(M+104,D),upperLongitude:v.getFloat64(M+120,D),latitudeInterval:v.getFloat64(M+136,D),longitudeInterval:v.getFloat64(M+152,D),gridNodeCount:v.getInt32(M+168,D)}}function gh(v,M,D,U){for(var G=M+176,st=[],tt=0;tt<D.gridNodeCount;tt++){var Et={latitudeShift:v.getFloat32(G+16*tt,U),longitudeShift:v.getFloat32(G+16*tt+4,U),latitudeAccuracy:v.getFloat32(G+16*tt+8,U),longitudeAccuracy:v.getFloat32(G+16*tt+12,U)};st.push(Et)}return st}function Br(v,M){if(!(this instanceof Br))return new Br(v);M=M||function(Vt){if(Vt)throw Vt};var D=He(v);if("object"==typeof D){var U=Br.projections.get(D.projName);if(U){if(D.datumCode&&"none"!==D.datumCode){var G=pt(Zr,D.datumCode);G&&(D.datum_params=D.datum_params||(G.towgs84?G.towgs84.split(","):null),D.ellps=G.ellipse,D.datumName=G.datumName?G.datumName:D.datumCode)}D.k0=D.k0||1,D.axis=D.axis||"enu",D.ellps=D.ellps||"wgs84",D.lat1=D.lat1||D.lat0;var et=function Xr(v,M,D,U,G){if(!v){var et=pt(en,U);et||(et=to),v=et.a,M=et.b,D=et.rf}return D&&!M&&(M=(1-1/D)*v),(0===D||Math.abs(v-M)<nt)&&(G=!0,M=v),{a:v,b:M,rf:D,sphere:G}}(D.a,D.b,D.rf,D.ellps,D.sphere),st=function Yr(v,M,D,U){var G=v*v,et=M*M,st=(G-et)/G,tt=0;return U?(G=(v*=1-st*(vt+st*(Tt+st*$t)))*v,st=0):tt=Math.sqrt(st),{es:st,e:tt,ep2:(G-et)/et}}(et.a,et.b,0,D.R_A),tt=function ei(v){return void 0===v?null:v.split(",").map(as)}(D.nadgrids),Et=D.datum||os(D.datumCode,D.datum_params,et.a,et.b,st.es,st.ep2,tt);Nn(this,D),Nn(this,U),this.a=et.a,this.b=et.b,this.rf=et.rf,this.sphere=et.sphere,this.es=st.es,this.e=st.e,this.ep2=st.ep2,this.datum=Et,this.init(),M(null,this)}else M(v)}else M(v)}(Br.projections=qr).start();const no=Br;function Ns(v,M,D){var st,tt,Vt,U=v.x,G=v.y,et=v.z?v.z:0;if(G<-J&&G>-1.001*J)G=-J;else if(G>J&&G<1.001*J)G=J;else{if(G<-J)return{x:-1/0,y:-1/0,z:v.z};if(G>J)return{x:1/0,y:1/0,z:v.z}}return U>Math.PI&&(U-=2*Math.PI),tt=Math.sin(G),Vt=Math.cos(G),{x:((st=D/Math.sqrt(1-M*(tt*tt)))+et)*Vt*Math.cos(U),y:(st+et)*Vt*Math.sin(U),z:(st*(1-M)+et)*tt}}function Nc(v,M,D,U){var tt,Et,Vt,re,Yt,me,Me,be,Ee,Pe,tn,En,jn,Qi,ua,cr=v.x,Zn=v.y,nr=v.z?v.z:0;if(tt=Math.sqrt(cr*cr+Zn*Zn),Et=Math.sqrt(cr*cr+Zn*Zn+nr*nr),tt/D<1e-12){if(Qi=0,Et/D<1e-12)return ua=-U,{x:v.x,y:v.y,z:v.z}}else Qi=Math.atan2(Zn,cr);Vt=nr/Et,be=(re=tt/Et)*(1-M)*(Yt=1/Math.sqrt(1-M*(2-M)*re*re)),Ee=Vt*Yt,jn=0;do{jn++,me=M*(Me=D/Math.sqrt(1-M*Ee*Ee))/(Me+(ua=tt*be+nr*Ee-Me*(1-M*Ee*Ee))),En=(tn=Vt*(Yt=1/Math.sqrt(1-me*(2-me)*re*re)))*be-(Pe=re*(1-me)*Yt)*Ee,be=Pe,Ee=tn}while(En*En>1e-24&&jn<30);return{x:Qi,y:Math.atan(tn/Math.abs(Pe)),z:ua}}function ka(v){return v===xt||v===zt}function Ll(v,M,D){if(null===v.grids||0===v.grids.length)return console.log("Grid shift grids not found"),-1;for(var U={x:-D.x,y:D.y},G={x:Number.NaN,y:Number.NaN},st=[],tt=0;tt<v.grids.length;tt++){var Et=v.grids[tt];if(st.push(Et.name),Et.isNull){G=U;break}if(null!==Et.grid){var Vt=Et.grid.subgrids[0],re=(Math.abs(Vt.del[1])+Math.abs(Vt.del[0]))/1e4;if(!(Vt.ll[1]-re>U.y||Vt.ll[0]-re>U.x||Vt.ll[1]+(Vt.lim[1]-1)*Vt.del[1]+re<U.y||Vt.ll[0]+(Vt.lim[0]-1)*Vt.del[0]+re<U.x||(G=Fs(U,M,Vt),isNaN(G.x))))break}else if(Et.mandatory)return console.log("Unable to find mandatory grid '"+Et.name+"'"),-1}return isNaN(G.x)?(console.log("Failed to find a grid shift table for location '"+-U.x*K+" "+U.y*K+" tried: '"+st+"'"),-1):(D.x=-G.x,D.y=G.y,0)}function Fs(v,M,D){var U={x:Number.NaN,y:Number.NaN};if(isNaN(v.x))return U;var G={x:v.x,y:v.y};G.x-=D.ll[0],G.y-=D.ll[1],G.x=le(G.x-Math.PI)+Math.PI;var et=Yn(G,D);if(M){if(isNaN(et.x))return U;et.x=G.x-et.x,et.y=G.y-et.y;var Et,Vt,st=9;do{if(Vt=Yn(et,D),isNaN(Vt.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}et.x+=(Et={x:G.x-(Vt.x+et.x),y:G.y-(Vt.y+et.y)}).x,et.y+=Et.y}while(st--&&Math.abs(Et.x)>1e-12&&Math.abs(Et.y)>1e-12);if(st<0)return console.log("Inverse grid shift iterator failed to converge."),U;U.x=le(et.x+D.ll[0]),U.y=et.y+D.ll[1]}else isNaN(et.x)||(U.x=v.x+et.x,U.y=v.y+et.y);return U}function Yn(v,M){var st,D={x:v.x/M.del[0],y:v.y/M.del[1]},U_x=Math.floor(D.x),U_y=Math.floor(D.y),G_x=D.x-1*U_x,G_y=D.y-1*U_y,et={x:Number.NaN,y:Number.NaN};if(U_x<0||U_x>=M.lim[0]||U_y<0||U_y>=M.lim[1])return et;var tt_x=M.cvs[st=U_y*M.lim[0]+U_x][0],tt_y=M.cvs[st][1];st++;var Et_x=M.cvs[st][0],Et_y=M.cvs[st][1],Vt_x=M.cvs[st+=M.lim[0]][0],Vt_y=M.cvs[st][1];st--;var re_y=M.cvs[st][1],Yt=G_x*G_y,me=G_x*(1-G_y),Me=(1-G_x)*(1-G_y),be=(1-G_x)*G_y;return et.x=Me*tt_x+me*Et_x+be*M.cvs[st][0]+Yt*Vt_x,et.y=Me*tt_y+me*Et_y+be*re_y+Yt*Vt_y,et}function Mr(v,M,D){var st,tt,Et,U=D.x,G=D.y,et=D.z||0,Vt={};for(Et=0;Et<3;Et++)if(!M||2!==Et||void 0!==D.z)switch(0===Et?(st=U,tt=-1!=="ew".indexOf(v.axis[Et])?"x":"y"):1===Et?(st=G,tt=-1!=="ns".indexOf(v.axis[Et])?"y":"x"):(st=et,tt="z"),v.axis[Et]){case"e":case"n":Vt[tt]=st;break;case"w":case"s":Vt[tt]=-st;break;case"u":void 0!==D[tt]&&(Vt.z=st);break;case"d":void 0!==D[tt]&&(Vt.z=-st);break;default:return null}return Vt}function us(v){var M={x:v[0],y:v[1]};return v.length>2&&(M.z=v[2]),v.length>3&&(M.m=v[3]),M}function Fo(v){if("function"==typeof Number.isFinite){if(Number.isFinite(v))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof v||v!=v||!isFinite(v))throw new TypeError("coordinates must be finite numbers")}function Mn(v,M,D,U){var G,et=void 0!==(D=Array.isArray(D)?us(D):{x:D.x,y:D.y,z:D.z,m:D.m}).z;if(function Fa(v){Fo(v.x),Fo(v.y)}(D),v.datum&&M.datum&&function Gu(v,M){return(v.datum.datum_type===xt||v.datum.datum_type===zt||v.datum.datum_type===Mt)&&"WGS84"!==M.datumCode||(M.datum.datum_type===xt||M.datum.datum_type===zt||M.datum.datum_type===Mt)&&"WGS84"!==v.datumCode}(v,M)&&(D=Mn(v,G=new no("WGS84"),D,U),v=G),U&&"enu"!==v.axis&&(D=Mr(v,!1,D)),"longlat"===v.projName)D={x:D.x*q,y:D.y*q,z:D.z||0};else if(v.to_meter&&(D={x:D.x*v.to_meter,y:D.y*v.to_meter,z:D.z||0}),!(D=v.inverse(D)))return;if(v.from_greenwich&&(D.x+=v.from_greenwich),D=function ks(v,M,D){if(function ro(v,M){return!(v.datum_type!==M.datum_type||v.a!==M.a||Math.abs(v.es-M.es)>5e-11)&&(v.datum_type===xt?v.datum_params[0]===M.datum_params[0]&&v.datum_params[1]===M.datum_params[1]&&v.datum_params[2]===M.datum_params[2]:v.datum_type!==zt||v.datum_params[0]===M.datum_params[0]&&v.datum_params[1]===M.datum_params[1]&&v.datum_params[2]===M.datum_params[2]&&v.datum_params[3]===M.datum_params[3]&&v.datum_params[4]===M.datum_params[4]&&v.datum_params[5]===M.datum_params[5]&&v.datum_params[6]===M.datum_params[6])}(v,M)||v.datum_type===gt||M.datum_type===gt)return D;var U=v.a,G=v.es;if(v.datum_type===Mt){if(0!==Ll(v,!1,D))return;U=Ot,G=Ct}var st=M.a,tt=M.b,Et=M.es;return M.datum_type===Mt&&(st=Ot,tt=Pt,Et=Ct),G!==Et||U!==st||ka(v.datum_type)||ka(M.datum_type)?(D=Ns(D,G,U),ka(v.datum_type)&&(D=function mh(v,M,D){if(M===xt)return{x:v.x+D[0],y:v.y+D[1],z:v.z+D[2]};if(M===zt){var st=D[3],tt=D[4],Et=D[5],Vt=D[6];return{x:Vt*(v.x-Et*v.y+tt*v.z)+D[0],y:Vt*(Et*v.x+v.y-st*v.z)+D[1],z:Vt*(-tt*v.x+st*v.y+v.z)+D[2]}}}(D,v.datum_type,v.datum_params)),ka(M.datum_type)&&(D=function uu(v,M,D){if(M===xt)return{x:v.x-D[0],y:v.y-D[1],z:v.z-D[2]};if(M===zt){var st=D[3],tt=D[4],Et=D[5],Vt=D[6],re=(v.x-D[0])/Vt,Yt=(v.y-D[1])/Vt,me=(v.z-D[2])/Vt;return{x:re+Et*Yt-tt*me,y:-Et*re+Yt+st*me,z:tt*re-st*Yt+me}}}(D,M.datum_type,M.datum_params)),D=Nc(D,Et,st,tt),M.datum_type!==Mt||0===Ll(M,!0,D)?D:void 0):D}(v.datum,M.datum,D))return M.from_greenwich&&(D={x:D.x-M.from_greenwich,y:D.y,z:D.z||0}),"longlat"===M.projName?D={x:D.x*K,y:D.y*K,z:D.z||0}:(D=M.forward(D),M.to_meter&&(D={x:D.x/M.to_meter,y:D.y/M.to_meter,z:D.z||0})),U&&"enu"!==M.axis?Mr(M,!0,D):(et||delete D.z,D)}var Ir=no("WGS84");function Lr(v,M,D,U){var G,et,st;return Array.isArray(D)?(G=Mn(v,M,D,U)||{x:NaN,y:NaN},D.length>2?typeof v.name<"u"&&"geocent"===v.name||typeof M.name<"u"&&"geocent"===M.name?"number"==typeof G.z?[G.x,G.y,G.z].concat(D.splice(3)):[G.x,G.y,D[2]].concat(D.splice(3)):[G.x,G.y].concat(D.splice(2)):[G.x,G.y]):(et=Mn(v,M,D,U),2===(st=Object.keys(D)).length||st.forEach(function(tt){if(typeof v.name<"u"&&"geocent"===v.name||typeof M.name<"u"&&"geocent"===M.name){if("x"===tt||"y"===tt||"z"===tt)return}else if("x"===tt||"y"===tt)return;et[tt]=D[tt]}),et)}function lu(v){return v instanceof no?v:v.oProj?v.oProj:no(v)}const Oi=function po(v,M,D){v=lu(v);var G,U=!1;return typeof M>"u"?(M=v,v=Ir,U=!0):(typeof M.x<"u"||Array.isArray(M))&&(D=M,M=v,v=Ir,U=!0),M=lu(M),D?Lr(v,M,D):(G={forward:function(et,st){return Lr(v,M,et,st)},inverse:function(et,st){return Lr(M,v,et,st)}},U&&(G.oProj=M),G)};var tr=6,ta="AJSAJS",pn="AFAFAF",Ni=65,li=73,Cr=79,Qe=86,Vo=90;const cu={forward:Rl,inverse:function Vs(v){var M=fu(Uu(v.toUpperCase()));return M.lat&&M.lon?[M.lon,M.lat,M.lon,M.lat]:[M.left,M.bottom,M.right,M.top]},toPoint:Ie};function Rl(v,M){return M=M||5,function kn(v,M){var D="00000"+v.easting,U="00000"+v.northing;return v.zoneNumber+v.zoneLetter+function Ui(v,M,D){var U=Xn(D);return function vh(v,M,D){var U=D-1,G=ta.charCodeAt(U),et=pn.charCodeAt(U),st=G+v-1,tt=et+M,Et=!1;return st>Vo&&(st=st-Vo+Ni-1,Et=!0),(st===li||G<li&&st>li||(st>li||G<li)&&Et)&&st++,(st===Cr||G<Cr&&st>Cr||(st>Cr||G<Cr)&&Et)&&++st===li&&st++,st>Vo&&(st=st-Vo+Ni-1),tt>Qe?(tt=tt-Qe+Ni-1,Et=!0):Et=!1,(tt===li||et<li&&tt>li||(tt>li||et<li)&&Et)&&tt++,(tt===Cr||et<Cr&&tt>Cr||(tt>Cr||et<Cr)&&Et)&&++tt===li&&tt++,tt>Qe&&(tt=tt-Qe+Ni-1),String.fromCharCode(st)+String.fromCharCode(tt)}(Math.floor(v/1e5),Math.floor(M/1e5)%20,U)}(v.easting,v.northing,v.zoneNumber)+D.substr(D.length-5,M)+U.substr(U.length-5,M)}(function or(v){var tt,Et,Vt,re,Yt,Ee,Pe,M=v.lat,D=v.lon,U=6378137,G=.00669438,Me=_a(M),be=_a(D);Pe=Math.floor((D+180)/6)+1,180===D&&(Pe=60),M>=56&&M<64&&D>=3&&D<12&&(Pe=32),M>=72&&M<84&&(D>=0&&D<9?Pe=31:D>=9&&D<21?Pe=33:D>=21&&D<33?Pe=35:D>=33&&D<42&&(Pe=37)),Ee=_a(6*(Pe-1)-180+3),tt=G/(1-G),Et=U/Math.sqrt(1-G*Math.sin(Me)*Math.sin(Me)),Vt=Math.tan(Me)*Math.tan(Me),re=tt*Math.cos(Me)*Math.cos(Me);var tn=.9996*Et*((Yt=Math.cos(Me)*(be-Ee))+(1-Vt+re)*Yt*Yt*Yt/6+(5-18*Vt+Vt*Vt+72*re-58*tt)*Yt*Yt*Yt*Yt*Yt/120)+5e5,En=.9996*(U*(.9983242984503243*Me-.002514607064228144*Math.sin(2*Me)+2639046602129982e-21*Math.sin(4*Me)-35*G*G*G/3072*Math.sin(6*Me))+Et*Math.tan(Me)*(Yt*Yt/2+(5-Vt+9*re+4*re*re)*Yt*Yt*Yt*Yt/24+(61-58*Vt+Vt*Vt+600*re-330*tt)*Yt*Yt*Yt*Yt*Yt*Yt/720));return M<0&&(En+=1e7),{northing:Math.round(En),easting:Math.round(tn),zoneNumber:Pe,zoneLetter:hp(M)}}({lat:v[1],lon:v[0]}),M)}function Ie(v){var M=fu(Uu(v.toUpperCase()));return M.lat&&M.lon?[M.lon,M.lat]:[(M.left+M.right)/2,(M.top+M.bottom)/2]}function _a(v){return v*(Math.PI/180)}function sn(v){return v/Math.PI*180}function fu(v){var M=v.northing,D=v.easting,U=v.zoneLetter,G=v.zoneNumber;if(G<0||G>60)return null;var Et,re,Yt,me,Me,be,Pe,tn,En,tt=.00669438,Vt=(1-Math.sqrt(1-tt))/(1+Math.sqrt(1-tt)),jn=D-5e5,cr=M;U<"N"&&(cr-=1e7),Pe=6*(G-1)-180+3,Et=tt/(1-tt),En=(tn=cr/.9996/6367449.145945056)+(3*Vt/2-27*Vt*Vt*Vt/32)*Math.sin(2*tn)+(21*Vt*Vt/16-55*Vt*Vt*Vt*Vt/32)*Math.sin(4*tn)+151*Vt*Vt*Vt/96*Math.sin(6*tn),re=6378137/Math.sqrt(1-tt*Math.sin(En)*Math.sin(En)),Yt=Math.tan(En)*Math.tan(En),me=Et*Math.cos(En)*Math.cos(En),Me=6378137*(1-tt)/Math.pow(1-tt*Math.sin(En)*Math.sin(En),1.5),be=jn/(.9996*re);var Zn=En-re*Math.tan(En)/Me*(be*be/2-(5+3*Yt+10*me-4*me*me-9*Et)*be*be*be*be/24+(61+90*Yt+298*me+45*Yt*Yt-252*Et-3*me*me)*be*be*be*be*be*be/720);Zn=sn(Zn);var Qi,nr=(be-(1+2*Yt+me)*be*be*be/6+(5-2*me+28*Yt-3*me*me+8*Et+24*Yt*Yt)*be*be*be*be*be/120)/Math.cos(En);if(nr=Pe+sn(nr),v.accuracy){var $r=fu({northing:v.northing+v.accuracy,easting:v.easting+v.accuracy,zoneLetter:v.zoneLetter,zoneNumber:v.zoneNumber});Qi={top:$r.lat,right:$r.lon,bottom:Zn,left:nr}}else Qi={lat:Zn,lon:nr};return Qi}function hp(v){var M="Z";return 84>=v&&v>=72?M="X":72>v&&v>=64?M="W":64>v&&v>=56?M="V":56>v&&v>=48?M="U":48>v&&v>=40?M="T":40>v&&v>=32?M="S":32>v&&v>=24?M="R":24>v&&v>=16?M="Q":16>v&&v>=8?M="P":8>v&&v>=0?M="N":0>v&&v>=-8?M="M":-8>v&&v>=-16?M="L":-16>v&&v>=-24?M="K":-24>v&&v>=-32?M="J":-32>v&&v>=-40?M="H":-40>v&&v>=-48?M="G":-48>v&&v>=-56?M="F":-56>v&&v>=-64?M="E":-64>v&&v>=-72?M="D":-72>v&&v>=-80&&(M="C"),M}function Xn(v){var M=v%tr;return 0===M&&(M=tr),M}function Uu(v){if(v&&0===v.length)throw"MGRSPoint coverting from nothing";for(var G,M=v.length,D=null,U="",et=0;!/[A-Z]/.test(G=v.charAt(et));){if(et>=2)throw"MGRSPoint bad conversion from: "+v;U+=G,et++}var st=parseInt(U,10);if(0===et||et+3>M)throw"MGRSPoint bad conversion from: "+v;var tt=v.charAt(et++);if(tt<="A"||"B"===tt||"Y"===tt||tt>="Z"||"I"===tt||"O"===tt)throw"MGRSPoint zone letter "+tt+" not handled: "+v;D=v.substring(et,et+=2);for(var Et=Xn(st),Vt=function Ol(v,M){for(var D=ta.charCodeAt(M-1),U=1e5,G=!1;D!==v.charCodeAt(0);){if(++D===li&&D++,D===Cr&&D++,D>Vo){if(G)throw"Bad character: "+v;D=Ni,G=!0}U+=1e5}return U}(D.charAt(0),Et),re=function ea(v,M){if(v>"V")throw"MGRSPoint given invalid Northing "+v;for(var D=pn.charCodeAt(M-1),U=0,G=!1;D!==v.charCodeAt(0);){if(++D===li&&D++,D===Cr&&D++,D>Qe){if(G)throw"Bad character: "+v;D=Ni,G=!0}U+=1e5}return U}(D.charAt(1),Et);re<Bs(tt);)re+=2e6;var Yt=M-et;if(Yt%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+v;var Ee,Pe,tn,me=Yt/2,Me=0,be=0;return me>0&&(Ee=1e5/Math.pow(10,me),Pe=v.substring(et,et+me),Me=parseFloat(Pe)*Ee,tn=v.substring(et+me),be=parseFloat(tn)*Ee),{easting:Me+Vt,northing:be+re,zoneLetter:tt,zoneNumber:st,accuracy:Ee}}function Bs(v){var M;switch(v){case"C":M=11e5;break;case"D":M=2e6;break;case"E":M=28e5;break;case"F":M=37e5;break;case"G":M=46e5;break;case"H":M=55e5;break;case"J":M=64e5;break;case"K":M=73e5;break;case"L":M=82e5;break;case"M":M=91e5;break;case"N":M=0;break;case"P":M=8e5;break;case"Q":M=17e5;break;case"R":M=26e5;break;case"S":M=35e5;break;case"T":M=44e5;break;case"U":M=53e5;break;case"V":M=62e5;break;case"W":M=7e6;break;case"X":M=79e5;break;default:M=-1}if(M>=0)return M;throw"Invalid zone letter: "+v}function ls(v,M,D){if(!(this instanceof ls))return new ls(v,M,D);if(Array.isArray(v))this.x=v[0],this.y=v[1],this.z=v[2]||0;else if("object"==typeof v)this.x=v.x,this.y=v.y,this.z=v.z||0;else if("string"==typeof v&&typeof M>"u"){var U=v.split(",");this.x=parseFloat(U[0],10),this.y=parseFloat(U[1],10),this.z=parseFloat(U[2],10)||0}else this.x=v,this.y=M,this.z=D||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}ls.fromMGRS=function(v){return new ls(Ie(v))},ls.prototype.toMGRS=function(v){return Rl([this.x,this.y],v)};const ju=ls;var Bo=1,ya=.25,kc=.046875,Fc=.01953125,Vc=.01068115234375,ji=.75,Hn=.46875,Bc=.013020833333333334,Nl=.007120768229166667,dp=.3645833333333333,un=.005696614583333333,ar=.3076171875;function wa(v){var M=[];M[0]=Bo-v*(ya+v*(kc+v*(Fc+v*Vc))),M[1]=v*(ji-v*(kc+v*(Fc+v*Vc)));var D=v*v;return M[2]=D*(Hn-v*(Bc+v*Nl)),M[3]=(D*=v)*(dp-v*un),M[4]=D*v*ar,M}function vi(v,M,D,U){return U[0]*v-(D*=M)*(U[1]+(M*=M)*(U[2]+M*(U[3]+M*U[4])))}var hu=20;function Hu(v,M,D){for(var U=1/(1-M),G=v,et=hu;et;--et){var st=Math.sin(G),tt=1-M*st*st;if(G-=tt=(vi(G,st,Math.cos(G),D)-v)*(tt*Math.sqrt(tt))*U,Math.abs(tt)<nt)return G}return G}const $s={init:function $c(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=wa(this.es),this.ml0=vi(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function ke(v){var G,et,st,D=v.y,U=le(v.x-this.long0),tt=Math.sin(D),Et=Math.cos(D);if(this.es){var re=Et*U,Yt=Math.pow(re,2),me=this.ep2*Math.pow(Et,2),Me=Math.pow(me,2),be=Math.abs(Et)>nt?Math.tan(D):0,Ee=Math.pow(be,2),Pe=Math.pow(Ee,2);G=1-this.es*Math.pow(tt,2),re/=Math.sqrt(G);var tn=vi(D,tt,Et,this.en);et=this.a*(this.k0*re*(1+Yt/6*(1-Ee+me+Yt/20*(5-18*Ee+Pe+14*me-58*Ee*me+Yt/42*(61+179*Pe-Pe*Ee-479*Ee)))))+this.x0,st=this.a*(this.k0*(tn-this.ml0+tt*U*re/2*(1+Yt/12*(5-Ee+9*me+4*Me+Yt/30*(61+Pe-58*Ee+270*me-330*Ee*me+Yt/56*(1385+543*Pe-Pe*Ee-3111*Ee))))))+this.y0}else{var Vt=Et*Math.sin(U);if(Math.abs(Math.abs(Vt)-1)<nt)return 93;if(et=.5*this.a*this.k0*Math.log((1+Vt)/(1-Vt))+this.x0,st=Et*Math.cos(U)/Math.sqrt(1-Math.pow(Vt,2)),(Vt=Math.abs(st))>=1){if(Vt-1>nt)return 93;st=0}else st=Math.acos(st);D<0&&(st=-st),st=this.a*this.k0*(st-this.lat0)+this.y0}return v.x=et,v.y=st,v},inverse:function Wu(v){var M,D,U,G,et=1/this.a*(v.x-this.x0),st=1/this.a*(v.y-this.y0);if(this.es)if(D=Hu(M=this.ml0+st/this.k0,this.es,this.en),Math.abs(D)<J){var Yt=Math.sin(D),me=Math.cos(D),Me=Math.abs(me)>nt?Math.tan(D):0,be=this.ep2*Math.pow(me,2),Ee=Math.pow(be,2),Pe=Math.pow(Me,2),tn=Math.pow(Pe,2);M=1-this.es*Math.pow(Yt,2);var En=et*Math.sqrt(M)/this.k0,jn=Math.pow(En,2);U=D-(M*=Me)*jn/(1-this.es)*.5*(1-jn/12*(5+3*Pe-9*be*Pe+be-4*Ee-jn/30*(61+90*Pe-252*be*Pe+45*tn+46*be-jn/56*(1385+3633*Pe+4095*tn+1574*tn*Pe)))),G=le(this.long0+En*(1-jn/6*(1+2*Pe+be-jn/20*(5+28*Pe+24*tn+8*be*Pe+6*be-jn/42*(61+662*Pe+1320*tn+720*tn*Pe))))/me)}else U=J*De(st),G=0;else{var tt=Math.exp(et/this.k0),Et=.5*(tt-1/tt),re=Math.cos(this.lat0+st/this.k0);M=Math.sqrt((1-Math.pow(re,2))/(1+Math.pow(Et,2))),U=Math.asin(M),st<0&&(U=-U),G=0===Et&&0===re?0:le(Math.atan2(Et,re)+this.long0)}return v.x=G,v.y=U,v},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function Yu(v){var M=Math.exp(v);return(M-1/M)/2}function qe(v,M){v=Math.abs(v),M=Math.abs(M);var D=Math.max(v,M),U=Math.min(v,M)/(D||1);return D*Math.sqrt(1+Math.pow(U,2))}function ni(v,M){for(var st,D=2*Math.cos(2*M),U=v.length-1,G=v[U],et=0;--U>=0;)st=D*G-et+v[U],et=G,G=st;return M+st*Math.sin(2*M)}function sr(v,M,D){for(var be,Ee,U=Math.sin(M),G=Math.cos(M),et=Yu(D),st=function zc(v){var M=Math.exp(v);return(M+1/M)/2}(D),tt=2*G*st,Et=-2*U*et,Vt=v.length-1,re=v[Vt],Yt=0,me=0,Me=0;--Vt>=0;)be=me,Ee=Yt,re=tt*(me=re)-be-Et*(Yt=Me)+v[Vt],Me=Et*me-Ee+tt*Yt;return[(tt=U*st)*re-(Et=G*et)*Me,tt*Me+Et*re]}const io={init:function yh(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&($s.init.apply(this),this.forward=$s.forward,this.inverse=$s.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var v=this.es/(1+Math.sqrt(1-this.es)),M=v/(2-v),D=M;this.cgb[0]=M*(2+M*(-2/3+M*(M*(116/45+M*(26/45+M*(-2854/675)))-2))),this.cbg[0]=M*(M*(2/3+M*(4/3+M*(-82/45+M*(32/45+M*(4642/4725)))))-2),this.cgb[1]=(D*=M)*(7/3+M*(M*(-227/45+M*(2704/315+M*(2323/945)))-1.6)),this.cbg[1]=D*(5/3+M*(-16/15+M*(-13/9+M*(904/315+M*(-1522/945))))),this.cgb[2]=(D*=M)*(56/15+M*(-136/35+M*(-1262/105+M*(73814/2835)))),this.cbg[2]=D*(-26/15+M*(34/21+M*(1.6+M*(-12686/2835)))),this.cgb[3]=(D*=M)*(4279/630+M*(-332/35+M*(-399572/14175))),this.cbg[3]=D*(1237/630+M*(M*(-24832/14175)-2.4)),this.cgb[4]=(D*=M)*(4174/315+M*(-144838/6237)),this.cbg[4]=D*(-734/315+M*(109598/31185)),this.cgb[5]=(D*=M)*(601676/22275),this.cbg[5]=D*(444337/155925),D=Math.pow(M,2),this.Qn=this.k0/(1+M)*(1+D*(1/4+D*(1/64+D/256))),this.utg[0]=M*(M*(2/3+M*(-37/96+M*(1/360+M*(81/512+M*(-96199/604800)))))-.5),this.gtu[0]=M*(.5+M*(-2/3+M*(5/16+M*(41/180+M*(-127/288+M*(7891/37800)))))),this.utg[1]=D*(-1/48+M*(-1/15+M*(437/1440+M*(-46/105+M*(1118711/3870720))))),this.gtu[1]=D*(13/48+M*(M*(557/1440+M*(281/630+M*(-1983433/1935360)))-.6)),this.utg[2]=(D*=M)*(-17/480+M*(37/840+M*(209/4480+M*(-5569/90720)))),this.gtu[2]=D*(61/240+M*(-103/140+M*(15061/26880+M*(167603/181440)))),this.utg[3]=(D*=M)*(-4397/161280+M*(11/504+M*(830251/7257600))),this.gtu[3]=D*(49561/161280+M*(-179/168+M*(6601661/7257600))),this.utg[4]=(D*=M)*(-4583/161280+M*(108847/3991680)),this.gtu[4]=D*(34729/80640+M*(-3418889/1995840)),this.utg[5]=(D*=M)*(-20648693/638668800),this.gtu[5]=.6650675310896665*D;var U=ni(this.cbg,this.lat0);this.Zb=-this.Qn*(U+function Xu(v,M){for(var st,D=2*Math.cos(M),U=v.length-1,G=v[U],et=0;--U>=0;)st=D*G-et+v[U],et=G,G=st;return Math.sin(M)*st}(this.gtu,2*U))},forward:function kl(v){var M=le(v.x-this.long0),D=v.y;D=ni(this.cbg,D);var U=Math.sin(D),G=Math.cos(D),et=Math.sin(M),st=Math.cos(M);D=Math.atan2(U,st*G),M=Math.atan2(et*G,qe(U,G*st)),M=function _h(v){var M=Math.abs(v);return M=function go(v){var M=1+v,D=M-1;return 0===D?v:v*Math.log(M)/D}(M*(1+M/(qe(1,M)+1))),v<0?-M:M}(Math.tan(M));var Et,Vt,tt=sr(this.gtu,2*D,2*M);return D+=tt[0],M+=tt[1],Math.abs(M)<=2.623395162778?(Et=this.a*(this.Qn*M)+this.x0,Vt=this.a*(this.Qn*D+this.Zb)+this.y0):(Et=1/0,Vt=1/0),v.x=Et,v.y=Vt,v},inverse:function Hi(v){var U,G,M=1/this.a*(v.x-this.x0),D=1/this.a*(v.y-this.y0);if(D=(D-this.Zb)/this.Qn,M/=this.Qn,Math.abs(M)<=2.623395162778){var et=sr(this.utg,2*D,2*M);D+=et[0],M+=et[1],M=Math.atan(Yu(M));var st=Math.sin(D),tt=Math.cos(D),Et=Math.sin(M),Vt=Math.cos(M);D=Math.atan2(st*Vt,qe(Et,Vt*tt)),U=le((M=Math.atan2(Et,Vt*tt))+this.long0),G=ni(this.cgb,D)}else U=1/0,G=1/0;return v.x=U,v.y=G,v},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]},$o={init:function cs(){var v=function _i(v,M){if(void 0===v){if((v=Math.floor(30*(le(M)+Math.PI)/Math.PI)+1)<0)return 0;if(v>60)return 60}return v}(this.zone,this.long0);if(void 0===v)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(v)-183)*q,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,io.init.apply(this),this.forward=io.forward,this.inverse=io.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function mo(v,M){return Math.pow((1-v)/(1+v),M)}const na={init:function Ci(){var v=Math.sin(this.lat0),M=Math.cos(this.lat0);M*=M,this.rc=Math.sqrt(1-this.es)/(1-this.es*v*v),this.C=Math.sqrt(1+this.es*M*M/(1-this.es)),this.phic0=Math.asin(v/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+X)/(Math.pow(Math.tan(.5*this.lat0+X),this.C)*mo(this.e*v,this.ratexp))},forward:function Xe(v){var M=v.x,D=v.y;return v.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*D+X),this.C)*mo(this.e*Math.sin(D),this.ratexp))-J,v.x=this.C*M,v},inverse:function hs(v){for(var D=v.x/this.C,U=v.y,G=Math.pow(Math.tan(.5*U+X)/this.K,1/this.C),et=20;et>0&&(U=2*Math.atan(G*mo(this.e*Math.sin(v.y),-.5*this.e))-J,!(Math.abs(U-v.y)<1e-14));--et)v.y=U;return et?(v.x=D,v.y=U,v):null},names:["gauss"]},Gc={init:function qi(){na.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function ds(v){var M,D,U,G;return v.x=le(v.x-this.long0),na.forward.apply(this,[v]),M=Math.sin(v.y),D=Math.cos(v.y),U=Math.cos(v.x),v.x=(G=this.k0*this.R2/(1+this.sinc0*M+this.cosc0*D*U))*D*Math.sin(v.x),v.y=G*(this.cosc0*M-this.sinc0*D*U),v.x=this.a*v.x+this.x0,v.y=this.a*v.y+this.y0,v},inverse:function wh(v){var M,D,U,G,et;if(v.x=(v.x-this.x0)/this.a,v.y=(v.y-this.y0)/this.a,v.x/=this.k0,v.y/=this.k0,et=Math.sqrt(v.x*v.x+v.y*v.y)){var st=2*Math.atan2(et,this.R2);M=Math.sin(st),D=Math.cos(st),G=Math.asin(D*this.sinc0+v.y*M*this.cosc0/et),U=Math.atan2(v.x*M,et*this.cosc0*D-v.y*this.sinc0*M)}else G=this.phic0,U=0;return v.x=U,v.y=G,na.inverse.apply(this,[v]),v.x=le(v.x+this.long0),v},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]},Qu={init:function Qr(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=nt&&(this.k0=.5*(1+De(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=nt&&(this.con=this.lat0>0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=nt&&(this.k0=.5*this.cons*Le(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/bn(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Le(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-J,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function ki(v){var et,st,tt,Et,Vt,re,M=v.x,D=v.y,U=Math.sin(D),G=Math.cos(D),Yt=le(M-this.long0);return Math.abs(Math.abs(M-this.long0)-Math.PI)<=nt&&Math.abs(D+this.lat0)<=nt?(v.x=NaN,v.y=NaN,v):this.sphere?(et=2*this.k0/(1+this.sinlat0*U+this.coslat0*G*Math.cos(Yt)),v.x=this.a*et*G*Math.sin(Yt)+this.x0,v.y=this.a*et*(this.coslat0*U-this.sinlat0*G*Math.cos(Yt))+this.y0,v):(st=2*Math.atan(this.ssfn_(D,U,this.e))-J,Et=Math.cos(st),tt=Math.sin(st),Math.abs(this.coslat0)<=nt?(Vt=bn(this.e,D*this.con,this.con*U),v.x=this.x0+(re=2*this.a*this.k0*Vt/this.cons)*Math.sin(M-this.long0),v.y=this.y0-this.con*re*Math.cos(M-this.long0),v):(Math.abs(this.sinlat0)<nt?(et=2*this.a*this.k0/(1+Et*Math.cos(Yt)),v.y=et*tt):(et=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*tt+this.cosX0*Et*Math.cos(Yt))),v.y=et*(this.cosX0*tt-this.sinX0*Et*Math.cos(Yt))+this.y0),v.x=et*Et*Math.sin(Yt)+this.x0,v))},inverse:function ra(v){v.x-=this.x0,v.y-=this.y0;var M,D,G,et,st=Math.sqrt(v.x*v.x+v.y*v.y);if(this.sphere){var tt=2*Math.atan(st/(2*this.a*this.k0));return M=this.long0,D=this.lat0,st<=nt?(v.x=M,v.y=D,v):(D=Math.asin(Math.cos(tt)*this.sinlat0+v.y*Math.sin(tt)*this.coslat0/st),M=Math.abs(this.coslat0)<nt?le(this.lat0>0?this.long0+Math.atan2(v.x,-1*v.y):this.long0+Math.atan2(v.x,v.y)):le(this.long0+Math.atan2(v.x*Math.sin(tt),st*this.coslat0*Math.cos(tt)-v.y*this.sinlat0*Math.sin(tt))),v.x=M,v.y=D,v)}if(Math.abs(this.coslat0)<=nt){if(st<=nt)return D=this.lat0,v.x=M=this.long0,v.y=D,v;v.x*=this.con,v.y*=this.con,D=this.con*Sn(this.e,st*this.cons/(2*this.a*this.k0)),M=this.con*le(this.con*this.long0+Math.atan2(v.x,-1*v.y))}else G=2*Math.atan(st*this.cosX0/(2*this.a*this.k0*this.ms1)),M=this.long0,st<=nt?et=this.X0:(et=Math.asin(Math.cos(G)*this.sinX0+v.y*Math.sin(G)*this.cosX0/st),M=le(this.long0+Math.atan2(v.x*Math.sin(G),st*this.cosX0*Math.cos(G)-v.y*this.sinX0*Math.sin(G)))),D=-1*Sn(this.e,Math.tan(.5*(J+et)));return v.x=M,v.y=D,v},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function xa(v,M,D){return M*=D,Math.tan(.5*(J+v))*Math.pow((1-M)/(1+M),.5*D)}},oa={init:function ba(){var v=this.lat0;this.lambda0=this.long0;var M=Math.sin(v),D=this.a,G=1/this.rf,et=2*G-Math.pow(G,2),st=this.e=Math.sqrt(et);this.R=this.k0*D*Math.sqrt(1-et)/(1-et*Math.pow(M,2)),this.alpha=Math.sqrt(1+et/(1-et)*Math.pow(Math.cos(v),4)),this.b0=Math.asin(M/this.alpha);var tt=Math.log(Math.tan(Math.PI/4+this.b0/2)),Et=Math.log(Math.tan(Math.PI/4+v/2)),Vt=Math.log((1+st*M)/(1-st*M));this.K=tt-this.alpha*Et+this.alpha*st/2*Vt},forward:function ia(v){var M=Math.log(Math.tan(Math.PI/4-v.y/2)),D=this.e/2*Math.log((1+this.e*Math.sin(v.y))/(1-this.e*Math.sin(v.y))),G=2*(Math.atan(Math.exp(-this.alpha*(M+D)+this.K))-Math.PI/4),et=this.alpha*(v.x-this.lambda0),st=Math.atan(Math.sin(et)/(Math.sin(this.b0)*Math.tan(G)+Math.cos(this.b0)*Math.cos(et))),tt=Math.asin(Math.cos(this.b0)*Math.sin(G)-Math.sin(this.b0)*Math.cos(G)*Math.cos(et));return v.y=this.R/2*Math.log((1+Math.sin(tt))/(1-Math.sin(tt)))+this.y0,v.x=this.R*st+this.x0,v},inverse:function ps(v){for(var U=(v.x-this.x0)/this.R,G=2*(Math.atan(Math.exp((v.y-this.y0)/this.R))-Math.PI/4),et=Math.asin(Math.cos(this.b0)*Math.sin(G)+Math.sin(this.b0)*Math.cos(G)*Math.cos(U)),st=Math.atan(Math.sin(U)/(Math.cos(this.b0)*Math.cos(U)-Math.sin(this.b0)*Math.tan(G))),tt=this.lambda0+st/this.alpha,Et=0,Vt=et,re=-1e3,Yt=0;Math.abs(Vt-re)>1e-7;){if(++Yt>20)return;Et=1/this.alpha*(Math.log(Math.tan(Math.PI/4+et/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(Vt))/2)),re=Vt,Vt=2*Math.atan(Math.exp(Et))-Math.PI/2}return v.x=tt,v.y=Vt,v},names:["somerc"]};var zo=1e-7;const aa={init:function du(){var v,M,D,U,G,et,st,tt,Et,Vt,Yt,re=0,me=0,Me=0,be=0,Ee=0,Pe=0,tn=0;this.no_off=function xr(v){var D="object"==typeof v.PROJECTION?Object.keys(v.PROJECTION)[0]:v.PROJECTION;return"no_uoff"in v||"no_off"in v||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(D)}(this),this.no_rot="no_rot"in this;var jn=!1;"alpha"in this&&(jn=!0);var cr=!1;if("rectified_grid_angle"in this&&(cr=!0),jn&&(tn=this.alpha),cr&&(re=this.rectified_grid_angle*q),jn||cr)me=this.longc;else if(Me=this.long1,Ee=this.lat1,be=this.long2,Pe=this.lat2,Math.abs(Ee-Pe)<=zo||(v=Math.abs(Ee))<=zo||Math.abs(v-J)<=zo||Math.abs(Math.abs(this.lat0)-J)<=zo||Math.abs(Math.abs(Pe)-J)<=zo)throw new Error;var Zn=1-this.es;M=Math.sqrt(Zn),Math.abs(this.lat0)>nt?(tt=Math.sin(this.lat0),D=Math.cos(this.lat0),v=1-this.es*tt*tt,this.B=D*D,this.B=Math.sqrt(1+this.es*this.B*this.B/Zn),this.A=this.B*this.k0*M/v,(G=(U=this.B*M/(D*Math.sqrt(v)))*U-1)<=0?G=0:(G=Math.sqrt(G),this.lat0<0&&(G=-G)),this.E=G+=U,this.E*=Math.pow(bn(this.e,this.lat0,tt),this.B)):(this.B=1/M,this.A=this.k0,this.E=U=G=1),jn||cr?(jn?(Yt=Math.asin(Math.sin(tn)/U),cr||(re=tn)):(Yt=re,tn=Math.asin(U*Math.sin(Yt))),this.lam0=me-Math.asin(.5*(G-1/G)*Math.tan(Yt))/this.B):(et=Math.pow(bn(this.e,Ee,Math.sin(Ee)),this.B),st=Math.pow(bn(this.e,Pe,Math.sin(Pe)),this.B),G=this.E/et,Et=(st-et)/(st+et),Vt=((Vt=this.E*this.E)-st*et)/(Vt+st*et),(v=Me-be)<-Math.pi?be-=V:v>Math.pi&&(be+=V),this.lam0=le(.5*(Me+be)-Math.atan(Vt*Math.tan(.5*this.B*(Me-be))/Et)/this.B),Yt=Math.atan(2*Math.sin(this.B*le(Me-this.lam0))/(G-1/G)),re=tn=Math.asin(U*Math.sin(Yt))),this.singam=Math.sin(Yt),this.cosgam=Math.cos(Yt),this.sinrot=Math.sin(re),this.cosrot=Math.cos(re),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(U*U-1)/Math.cos(tn))),this.lat0<0&&(this.u_0=-this.u_0)),G=.5*Yt,this.v_pole_n=this.ArB*Math.log(Math.tan(X-G)),this.v_pole_s=this.ArB*Math.log(Math.tan(X+G))},forward:function Uc(v){var D,U,G,et,st,tt,Et,Vt,M={};if(v.x=v.x-this.lam0,Math.abs(Math.abs(v.y)-J)>nt){if(D=.5*((st=this.E/Math.pow(bn(this.e,v.y,Math.sin(v.y)),this.B))-(tt=1/st)),U=.5*(st+tt),et=Math.sin(this.B*v.x),G=(D*this.singam-et*this.cosgam)/U,Math.abs(Math.abs(G)-1)<nt)throw new Error;Vt=.5*this.ArB*Math.log((1-G)/(1+G)),tt=Math.cos(this.B*v.x),Et=Math.abs(tt)<zo?this.A*v.x:this.ArB*Math.atan2(D*this.cosgam+et*this.singam,tt)}else Vt=v.y>0?this.v_pole_n:this.v_pole_s,Et=this.ArB*v.y;return this.no_rot?(M.x=Et,M.y=Vt):(M.x=Vt*this.cosrot+(Et-=this.u_0)*this.sinrot,M.y=Et*this.cosrot-Vt*this.sinrot),M.x=this.a*M.x+this.x0,M.y=this.a*M.y+this.y0,M},inverse:function pu(v){var M,D,U,G,et,st,tt,Et={};if(v.x=1/this.a*(v.x-this.x0),v.y=1/this.a*(v.y-this.y0),this.no_rot?(D=v.y,M=v.x):(D=v.x*this.cosrot-v.y*this.sinrot,M=v.y*this.cosrot+v.x*this.sinrot+this.u_0),G=.5*((U=Math.exp(-this.BrA*D))-1/U),et=.5*(U+1/U),tt=((st=Math.sin(this.BrA*M))*this.cosgam+G*this.singam)/et,Math.abs(Math.abs(tt)-1)<nt)Et.x=0,Et.y=tt<0?-J:J;else{if(Et.y=this.E/Math.sqrt((1+tt)/(1-tt)),Et.y=Sn(this.e,Math.pow(Et.y,1/this.B)),Et.y===1/0)throw new Error;Et.x=-this.rB*Math.atan2(G*this.cosgam-st*this.singam,Math.cos(this.BrA*M))}return Et.x+=this.lam0,Et},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]},ri={init:function gu(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<nt)){var v=this.b/this.a;this.e=Math.sqrt(1-v*v);var M=Math.sin(this.lat1),D=Math.cos(this.lat1),U=Le(this.e,M,D),G=bn(this.e,this.lat1,M),et=Math.sin(this.lat2),st=Math.cos(this.lat2),tt=Le(this.e,et,st),Et=bn(this.e,this.lat2,et),Vt=bn(this.e,this.lat0,Math.sin(this.lat0));this.ns=Math.abs(this.lat1-this.lat2)>nt?Math.log(U/tt)/Math.log(G/Et):M,isNaN(this.ns)&&(this.ns=M),this.f0=U/(this.ns*Math.pow(G,this.ns)),this.rh=this.a*this.f0*Math.pow(Vt,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function pr(v){var M=v.x,D=v.y;Math.abs(2*Math.abs(D)-Math.PI)<=nt&&(D=De(D)*(J-2*nt));var G,et,U=Math.abs(Math.abs(D)-J);if(U>nt)G=bn(this.e,D,Math.sin(D)),et=this.a*this.f0*Math.pow(G,this.ns);else{if((U=D*this.ns)<=0)return null;et=0}var st=this.ns*le(M-this.long0);return v.x=this.k0*(et*Math.sin(st))+this.x0,v.y=this.k0*(this.rh-et*Math.cos(st))+this.y0,v},inverse:function Ti(v){var M,D,U,G,et,st=(v.x-this.x0)/this.k0,tt=this.rh-(v.y-this.y0)/this.k0;this.ns>0?(M=Math.sqrt(st*st+tt*tt),D=1):(M=-Math.sqrt(st*st+tt*tt),D=-1);var Et=0;if(0!==M&&(Et=Math.atan2(D*st,D*tt)),0!==M||this.ns>0){if(D=1/this.ns,U=Math.pow(M/(this.a*this.f0),D),-9999===(G=Sn(this.e,U)))return null}else G=-J;return et=le(Et/this.ns+this.long0),v.x=et,v.y=G,v},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]},Ba={init:function Ei(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function Go(v){var M,D,U,G,et,st,tt,Vt=v.y,re=le(v.x-this.long0);return M=Math.pow((1+this.e*Math.sin(Vt))/(1-this.e*Math.sin(Vt)),this.alfa*this.e/2),D=2*(Math.atan(this.k*Math.pow(Math.tan(Vt/2+this.s45),this.alfa)/M)-this.s45),U=-re*this.alfa,G=Math.asin(Math.cos(this.ad)*Math.sin(D)+Math.sin(this.ad)*Math.cos(D)*Math.cos(U)),et=Math.asin(Math.cos(D)*Math.sin(U)/Math.cos(G)),st=this.n*et,tt=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(G/2+this.s45),this.n),v.y=tt*Math.cos(st)/1,v.x=tt*Math.sin(st)/1,this.czech||(v.y*=-1,v.x*=-1),v},inverse:function yi(v){var M,D,U,G,st,tt,Et,Vt=v.x;v.x=v.y,v.y=Vt,this.czech||(v.y*=-1,v.x*=-1),st=Math.sqrt(v.x*v.x+v.y*v.y),G=Math.atan2(v.y,v.x)/Math.sin(this.s0),U=2*(Math.atan(Math.pow(this.ro0/st,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),M=Math.asin(Math.cos(this.ad)*Math.sin(U)-Math.sin(this.ad)*Math.cos(U)*Math.cos(G)),D=Math.asin(Math.cos(U)*Math.sin(G)/Math.cos(M)),v.x=this.long0-D/this.alfa,tt=M,Et=0;var re=0;do{v.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(M/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(tt))/(1-this.e*Math.sin(tt)),this.e/2))-this.s45),Math.abs(tt-v.y)<1e-10&&(Et=1),tt=v.y,re+=1}while(0===Et&&re<15);return re>=15?null:v},names:["Krovak","krovak"]};function Rr(v,M,D,U,G){return v*G-M*Math.sin(2*G)+D*Math.sin(4*G)-U*Math.sin(6*G)}function er(v){return 1-.25*v*(1+v/16*(3+1.25*v))}function Re(v){return.375*v*(1+.25*v*(1+.46875*v))}function fn(v){return.05859375*v*v*(1+.75*v)}function _r(v){return v*v*v*(35/3072)}function ii(v,M,D){var U=M*D;return v/Math.sqrt(1-U*U)}function Yi(v){return Math.abs(v)<J?v:v-De(v)*Math.PI}function Ur(v,M,D,U,G){var et,st;et=v/M;for(var tt=0;tt<15;tt++)if(et+=st=(v-(M*et-D*Math.sin(2*et)+U*Math.sin(4*et)-G*Math.sin(6*et)))/(M-2*D*Math.cos(2*et)+4*U*Math.cos(4*et)-6*G*Math.cos(6*et)),Math.abs(st)<=1e-10)return et;return NaN}const gn={init:function Gs(){this.sphere||(this.e0=er(this.es),this.e1=Re(this.es),this.e2=fn(this.es),this.e3=_r(this.es),this.ml0=this.a*Rr(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function Or(v){var M,D,U=v.x,G=v.y;if(U=le(U-this.long0),this.sphere)M=this.a*Math.asin(Math.cos(G)*Math.sin(U)),D=this.a*(Math.atan2(Math.tan(G),Math.cos(U))-this.lat0);else{var et=Math.sin(G),st=Math.cos(G),tt=ii(this.a,this.e,et),Et=Math.tan(G)*Math.tan(G),Vt=U*Math.cos(G),re=Vt*Vt,Yt=this.es*st*st/(1-this.es);M=tt*Vt*(1-re*Et*(1/6-(8-Et+8*Yt)*re/120)),D=this.a*Rr(this.e0,this.e1,this.e2,this.e3,G)-this.ml0+tt*et/st*re*(.5+(5-Et+6*Yt)*re/24)}return v.x=M+this.x0,v.y=D+this.y0,v},inverse:function mu(v){v.x-=this.x0,v.y-=this.y0;var U,G,M=v.x/this.a,D=v.y/this.a;if(this.sphere){var et=D+this.lat0;U=Math.asin(Math.sin(et)*Math.cos(M)),G=Math.atan2(Math.tan(M),Math.cos(et))}else{var tt=Ur(this.ml0/this.a+D,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(tt)-J)<=nt)return v.x=this.long0,v.y=J,D<0&&(v.y*=-1),v;var Et=ii(this.a,this.e,Math.sin(tt)),Vt=Et*Et*Et/this.a/this.a*(1-this.es),re=Math.pow(Math.tan(tt),2),Yt=M*this.a/Et,me=Yt*Yt;U=tt-Et*Math.tan(tt)/Vt*Yt*Yt*(.5-(1+3*re)*Yt*Yt/24),G=Yt*(1-me*(re/3+(1+3*re)*re*me/15))/Math.cos(tt)}return v.x=le(G+this.long0),v.y=Yi(U),v},names:["Cassini","Cassini_Soldner","cass"]};function vo(v,M){var D;return v>1e-7?(1-v*v)*(M/(1-(D=v*M)*D)-.5/v*Math.log((1-D)/(1+D))):2*M}const br={init:function ao(){var M,v=Math.abs(this.lat0);if(this.mode=Math.abs(v-J)<nt?this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(v)<nt?this.EQUIT:this.OBLIQ,this.es>0)switch(this.qp=vo(this.e,1),this.mmf=.5/(1-this.es),this.apa=function Uo(v){var M,D=[];return D[0]=.3333333333333333*v,D[0]+=.17222222222222222*(M=v*v),D[1]=.06388888888888888*M,D[0]+=.10257936507936508*(M*=v),D[1]+=.0664021164021164*M,D[2]=.016415012942191543*M,D}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),M=Math.sin(this.lat0),this.sinb1=vo(this.e,M)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*M*M)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function $a(v){var M,D,U,G,et,st,tt,Et,Vt,re,Yt=v.x,me=v.y;if(Yt=le(Yt-this.long0),this.sphere){if(et=Math.sin(me),re=Math.cos(me),U=Math.cos(Yt),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((D=this.mode===this.EQUIT?1+re*U:1+this.sinph0*et+this.cosph0*re*U)<=nt)return null;M=(D=Math.sqrt(2/D))*re*Math.sin(Yt),D*=this.mode===this.EQUIT?et:this.cosph0*et-this.sinph0*re*U}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(U=-U),Math.abs(me+this.lat0)<nt)return null;D=X-.5*me,M=(D=2*(this.mode===this.S_POLE?Math.cos(D):Math.sin(D)))*Math.sin(Yt),D*=U}}else{switch(tt=0,Et=0,Vt=0,U=Math.cos(Yt),G=Math.sin(Yt),et=Math.sin(me),st=vo(this.e,et),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(tt=st/this.qp,Et=Math.sqrt(1-tt*tt)),this.mode){case this.OBLIQ:Vt=1+this.sinb1*tt+this.cosb1*Et*U;break;case this.EQUIT:Vt=1+Et*U;break;case this.N_POLE:Vt=J+me,st=this.qp-st;break;case this.S_POLE:Vt=me-J,st=this.qp+st}if(Math.abs(Vt)<nt)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:Vt=Math.sqrt(2/Vt),D=this.mode===this.OBLIQ?this.ymf*Vt*(this.cosb1*tt-this.sinb1*Et*U):(Vt=Math.sqrt(2/(1+Et*U)))*tt*this.ymf,M=this.xmf*Vt*Et*G;break;case this.N_POLE:case this.S_POLE:st>=0?(M=(Vt=Math.sqrt(st))*G,D=U*(this.mode===this.S_POLE?Vt:-Vt)):M=D=0}}return v.x=this.a*M+this.x0,v.y=this.a*D+this.y0,v},inverse:function fi(v){v.x-=this.x0,v.y-=this.y0;var U,G,et,st,tt,Et,Vt,M=v.x/this.a,D=v.y/this.a;if(this.sphere){var Yt,re=0,me=0;if((G=.5*(Yt=Math.sqrt(M*M+D*D)))>1)return null;switch(G=2*Math.asin(G),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(me=Math.sin(G),re=Math.cos(G)),this.mode){case this.EQUIT:G=Math.abs(Yt)<=nt?0:Math.asin(D*me/Yt),M*=me,D=re*Yt;break;case this.OBLIQ:G=Math.abs(Yt)<=nt?this.lat0:Math.asin(re*this.sinph0+D*me*this.cosph0/Yt),M*=me*this.cosph0,D=(re-Math.sin(G)*this.sinph0)*Yt;break;case this.N_POLE:D=-D,G=J-G;break;case this.S_POLE:G-=J}U=0!==D||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(M,D):0}else{if(Vt=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(M/=this.dd,D*=this.dd,(Et=Math.sqrt(M*M+D*D))<nt)return v.x=this.long0,v.y=this.lat0,v;st=2*Math.asin(.5*Et/this.rq),et=Math.cos(st),M*=st=Math.sin(st),this.mode===this.OBLIQ?(tt=this.qp*(Vt=et*this.sinb1+D*st*this.cosb1/Et),D=Et*this.cosb1*et-D*this.sinb1*st):(tt=this.qp*(Vt=D*st/Et),D=Et*et)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(D=-D),!(tt=M*M+D*D))return v.x=this.long0,v.y=this.lat0,v;Vt=1-tt/this.qp,this.mode===this.S_POLE&&(Vt=-Vt)}U=Math.atan2(M,D),G=function Ga(v,M){var D=v+v;return v+M[0]*Math.sin(D)+M[1]*Math.sin(D+D)+M[2]*Math.sin(D+D+D)}(Math.asin(Vt),this.apa)}return v.x=le(this.long0+U),v.y=G,v},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function jo(v){return Math.abs(v)>1&&(v=v>1?1:-1),Math.asin(v)}const Fi={init:function hi(){Math.abs(this.lat1+this.lat2)<nt||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Le(this.e3,this.sin_po,this.cos_po),this.qs1=vo(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Le(this.e3,this.sin_po,this.cos_po),this.qs2=vo(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=vo(this.e3,this.sin_po),this.ns0=Math.abs(this.lat1-this.lat2)>nt?(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function wo(v){var M=v.x,D=v.y;this.sin_phi=Math.sin(D),this.cos_phi=Math.cos(D);var U=vo(this.e3,this.sin_phi),G=this.a*Math.sqrt(this.c-this.ns0*U)/this.ns0,et=this.ns0*le(M-this.long0),st=G*Math.sin(et)+this.x0,tt=this.rh-G*Math.cos(et)+this.y0;return v.x=st,v.y=tt,v},inverse:function Ma(v){var M,U,G,et,st;return v.x-=this.x0,v.y=this.rh-v.y+this.y0,this.ns0>=0?(M=Math.sqrt(v.x*v.x+v.y*v.y),U=1):(M=-Math.sqrt(v.x*v.x+v.y*v.y),U=-1),G=0,0!==M&&(G=Math.atan2(U*v.x,U*v.y)),U=M*this.ns0/this.a,st=this.sphere?Math.asin((this.c-U*U)/(2*this.ns0)):this.phi1z(this.e3,(this.c-U*U)/this.ns0),et=le(G/this.ns0+this.long0),v.x=et,v.y=st,v},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function Us(v,M){var D,G,et,st,tt=jo(.5*M);if(v<nt)return tt;for(var Et=v*v,Vt=1;Vt<=25;Vt++)if(tt+=st=.5*(et=1-(G=v*(D=Math.sin(tt)))*G)*et/Math.cos(tt)*(M/(1-Et)-D/et+.5/v*Math.log((1-G)/(1+G))),Math.abs(st)<=1e-7)return tt;return null}},u={init:function Fl(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function Hc(v){var M,D,U,G,st,tt,Et,re=v.y;return U=le(v.x-this.long0),M=Math.sin(re),D=Math.cos(re),G=Math.cos(U),(st=this.sin_p14*M+this.cos_p14*D*G)>0||Math.abs(st)<=nt?(tt=this.x0+1*this.a*D*Math.sin(U)/st,Et=this.y0+1*this.a*(this.cos_p14*M-this.sin_p14*D*G)/st):(tt=this.x0+this.infinity_dist*D*Math.sin(U),Et=this.y0+this.infinity_dist*(this.cos_p14*M-this.sin_p14*D*G)),v.x=tt,v.y=Et,v},inverse:function Wc(v){var M,D,U,G,et,st;return v.x=(v.x-this.x0)/this.a,v.y=(v.y-this.y0)/this.a,v.x/=this.k0,v.y/=this.k0,(M=Math.sqrt(v.x*v.x+v.y*v.y))?(G=Math.atan2(M,this.rc),D=Math.sin(G),st=jo((U=Math.cos(G))*this.sin_p14+v.y*D*this.cos_p14/M),et=Math.atan2(v.x*D,M*this.cos_p14*U-v.y*this.sin_p14*D),et=le(this.long0+et)):(st=this.phic0,et=0),v.x=et,v.y=st,v},names:["gnom"]},Bt={init:function S(){this.sphere||(this.k0=Le(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function R(v){var U,G,D=v.y,et=le(v.x-this.long0);if(this.sphere)U=this.x0+this.a*et*Math.cos(this.lat_ts),G=this.y0+this.a*Math.sin(D)/Math.cos(this.lat_ts);else{var st=vo(this.e,Math.sin(D));U=this.x0+this.a*this.k0*et,G=this.y0+this.a*st*.5/this.k0}return v.x=U,v.y=G,v},inverse:function H(v){var M,D;return v.x-=this.x0,v.y-=this.y0,this.sphere?(M=le(this.long0+v.x/this.a/Math.cos(this.lat_ts)),D=Math.asin(v.y/this.a*Math.cos(this.lat_ts))):(D=function m(v,M){var D=1-(1-v*v)/(2*v)*Math.log((1-v)/(1+v));if(Math.abs(Math.abs(M)-D)<1e-6)return M<0?-1*J:J;for(var G,et,st,tt,U=Math.asin(.5*M),Et=0;Et<30;Et++)if(et=Math.sin(U),st=Math.cos(U),tt=v*et,U+=G=Math.pow(1-tt*tt,2)/(2*st)*(M/(1-v*v)-et/(1-tt*tt)+.5/v*Math.log((1-tt)/(1+tt))),Math.abs(G)<=1e-10)return U;return NaN}(this.e,2*v.y*this.k0/this.a),M=le(this.long0+v.x/(this.a*this.k0))),v.x=M,v.y=D,v},names:["cea"]},Ze={init:function te(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function he(v){var D=v.y,U=le(v.x-this.long0),G=Yi(D-this.lat0);return v.x=this.x0+this.a*U*this.rc,v.y=this.y0+this.a*G,v},inverse:function we(v){var D=v.y;return v.x=le(this.long0+(v.x-this.x0)/(this.a*this.rc)),v.y=Yi(this.lat0+(D-this.y0)/this.a),v},names:["Equirectangular","Equidistant_Cylindrical","eqc"]};const Ta={init:function di(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=er(this.es),this.e1=Re(this.es),this.e2=fn(this.es),this.e3=_r(this.es),this.ml0=this.a*Rr(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function Ai(v){var U,G,et,D=v.y,st=le(v.x-this.long0);if(et=st*Math.sin(D),this.sphere)Math.abs(D)<=nt?(U=this.a*st,G=-1*this.a*this.lat0):(U=this.a*Math.sin(et)/Math.tan(D),G=this.a*(Yi(D-this.lat0)+(1-Math.cos(et))/Math.tan(D)));else if(Math.abs(D)<=nt)U=this.a*st,G=-1*this.ml0;else{var tt=ii(this.a,this.e,Math.sin(D))/Math.tan(D);U=tt*Math.sin(et),G=this.a*Rr(this.e0,this.e1,this.e2,this.e3,D)-this.ml0+tt*(1-Math.cos(et))}return v.x=U+this.x0,v.y=G+this.y0,v},inverse:function Vl(v){var M,D,U,G,et,st,tt,Et,Vt;if(U=v.x-this.x0,G=v.y-this.y0,this.sphere)if(Math.abs(G+this.a*this.lat0)<=nt)M=le(U/this.a+this.long0),D=0;else{var re;for(tt=U*U/this.a/this.a+(st=this.lat0+G/this.a)*st,Et=st,et=20;et;--et)if(Et+=Vt=-1*(st*(Et*(re=Math.tan(Et))+1)-Et-.5*(Et*Et+tt)*re)/((Et-st)/re-1),Math.abs(Vt)<=nt){D=Et;break}M=le(this.long0+Math.asin(U*Math.tan(Et)/this.a)/Math.sin(D))}else if(Math.abs(G+this.ml0)<=nt)D=0,M=le(this.long0+U/this.a);else{var Yt,me,Me,be,Ee;for(tt=U*U/this.a/this.a+(st=(this.ml0+G)/this.a)*st,Et=st,et=20;et;--et)if(Ee=this.e*Math.sin(Et),Yt=Math.sqrt(1-Ee*Ee)*Math.tan(Et),me=this.a*Rr(this.e0,this.e1,this.e2,this.e3,Et),Me=this.e0-2*this.e1*Math.cos(2*Et)+4*this.e2*Math.cos(4*Et)-6*this.e3*Math.cos(6*Et),Et-=Vt=(st*(Yt*(be=me/this.a)+1)-be-.5*Yt*(be*be+tt))/(this.es*Math.sin(2*Et)*(be*be+tt-2*st*be)/(4*Yt)+(st-be)*(Yt*Me-2/Math.sin(2*Et))-Me),Math.abs(Vt)<=nt){D=Et;break}Yt=Math.sqrt(1-this.es*Math.pow(Math.sin(D),2))*Math.tan(D),M=le(this.long0+Math.asin(U*Yt/this.a)/Math.sin(D))}return v.x=M,v.y=D,v},names:["Polyconic","poly"]},tl={init:function Ea(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function Bl(v){var M,st=(v.y-this.lat0)/ht*1e-5,tt=v.x-this.long0,Et=1,Vt=0;for(M=1;M<=10;M++)Vt+=this.A[M]*(Et*=st);var Ee,re=Vt,Yt=tt,me=1,Me=0,Pe=0,tn=0;for(M=1;M<=6;M++)Ee=Me*re+me*Yt,Pe=Pe+this.B_re[M]*(me=me*re-Me*Yt)-this.B_im[M]*(Me=Ee),tn=tn+this.B_im[M]*me+this.B_re[M]*Me;return v.x=tn*this.a+this.x0,v.y=Pe*this.a+this.y0,v},inverse:function js(v){var M,Yt,st=(v.y-this.y0)/this.a,tt=(v.x-this.x0)/this.a,Et=1,Vt=0,me=0,Me=0;for(M=1;M<=6;M++)Yt=Vt*st+Et*tt,me=me+this.C_re[M]*(Et=Et*st-Vt*tt)-this.C_im[M]*(Vt=Yt),Me=Me+this.C_im[M]*Et+this.C_re[M]*Vt;for(var be=0;be<this.iterations;be++){var En,Ee=me,Pe=Me,jn=st,cr=tt;for(M=2;M<=6;M++)En=Pe*me+Ee*Me,jn+=(M-1)*(this.B_re[M]*(Ee=Ee*me-Pe*Me)-this.B_im[M]*(Pe=En)),cr+=(M-1)*(this.B_im[M]*Ee+this.B_re[M]*Pe);Ee=1,Pe=0;var Zn=this.B_re[1],nr=this.B_im[1];for(M=2;M<=6;M++)En=Pe*me+Ee*Me,Zn+=M*(this.B_re[M]*(Ee=Ee*me-Pe*Me)-this.B_im[M]*(Pe=En)),nr+=M*(this.B_im[M]*Ee+this.B_re[M]*Pe);var Qi=Zn*Zn+nr*nr;me=(jn*Zn+cr*nr)/Qi,Me=(cr*Zn-jn*nr)/Qi}var $r=me,ua=Me,Ha=1,Bi=0;for(M=1;M<=9;M++)Bi+=this.D[M]*(Ha*=$r);var jl=this.lat0+Bi*ht*1e5;return v.x=this.long0+ua,v.y=jl,v},names:["New_Zealand_Map_Grid","nzmg"]},lo={init:function Tr(){},forward:function el(v){var D=v.y,U=le(v.x-this.long0),G=this.x0+this.a*U,et=this.y0+this.a*Math.log(Math.tan(Math.PI/4+D/2.5))*1.25;return v.x=G,v.y=et,v},inverse:function zl(v){v.x-=this.x0,v.y-=this.y0;var M=le(this.long0+v.x/this.a),D=2.5*(Math.atan(Math.exp(.8*v.y/this.a))-Math.PI/4);return v.x=M,v.y=D,v},names:["Miller_Cylindrical","mill"]};const xo={init:function Gl(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=wa(this.es)},forward:function wi(v){var M,D,U=v.x,G=v.y;if(U=le(U-this.long0),this.sphere){if(this.m)for(var et=this.n*Math.sin(G),st=20;st;--st){var tt=(this.m*G+Math.sin(G)-et)/(this.m+Math.cos(G));if(G-=tt,Math.abs(tt)<nt)break}else G=1!==this.n?Math.asin(this.n*Math.sin(G)):G;M=this.a*this.C_x*U*(this.m+Math.cos(G)),D=this.a*this.C_y*G}else{var Et=Math.sin(G),Vt=Math.cos(G);D=this.a*vi(G,Et,Vt,this.en),M=this.a*U*Vt/Math.sqrt(1-this.es*Et*Et)}return v.x=M,v.y=D,v},inverse:function am(v){var M,U,G;return v.x-=this.x0,U=v.x/this.a,v.y-=this.y0,M=v.y/this.a,this.sphere?(M/=this.C_y,U/=this.C_x*(this.m+Math.cos(M)),this.m?M=jo((this.m*M+Math.sin(M))/this.n):1!==this.n&&(M=jo(Math.sin(M)/this.n)),U=le(U+this.long0),M=Yi(M)):(M=Hu(v.y/this.a,this.es,this.en),(G=Math.abs(M))<J?(G=Math.sin(M),U=le(this.long0+v.x*Math.sqrt(1-this.es*G*G)/(this.a*Math.cos(M)))):G-nt<J&&(U=this.long0)),v.x=U,v.y=M,v},names:["Sinusoidal","sinu"]},um={init:function sm(){},forward:function pp(v){for(var D=v.y,U=le(v.x-this.long0),G=D,et=Math.PI*Math.sin(D);;){var st=-(G+Math.sin(G)-et)/(1+Math.cos(G));if(G+=st,Math.abs(st)<nt)break}G/=2,Math.PI/2-Math.abs(D)<nt&&(U=0);var tt=.900316316158*this.a*U*Math.cos(G)+this.x0,Et=1.4142135623731*this.a*Math.sin(G)+this.y0;return v.x=tt,v.y=Et,v},inverse:function rl(v){var M,D;v.x-=this.x0,v.y-=this.y0,D=v.y/(1.4142135623731*this.a),Math.abs(D)>.999999999999&&(D=.999999999999),M=Math.asin(D);var U=le(this.long0+v.x/(.900316316158*this.a*Math.cos(M)));U<-Math.PI&&(U=-Math.PI),U>Math.PI&&(U=Math.PI),D=(2*M+Math.sin(2*M))/Math.PI,Math.abs(D)>1&&(D=1);var G=Math.asin(D);return v.x=U,v.y=G,v},names:["Mollweide","moll"]},Mh={init:function Yc(){Math.abs(this.lat1+this.lat2)<nt||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=er(this.es),this.e1=Re(this.es),this.e2=fn(this.es),this.e3=_r(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Le(this.e,this.sinphi,this.cosphi),this.ml1=Rr(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<nt?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Le(this.e,this.sinphi,this.cosphi),this.ml2=Rr(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Rr(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function lm(v){var U,M=v.x,D=v.y;if(this.sphere)U=this.a*(this.g-D);else{var G=Rr(this.e0,this.e1,this.e2,this.e3,D);U=this.a*(this.g-G)}var et=this.ns*le(M-this.long0),st=this.x0+U*Math.sin(et),tt=this.y0+this.rh-U*Math.cos(et);return v.x=st,v.y=tt,v},inverse:function Hs(v){var M,D,U,G;v.x-=this.x0,v.y=this.rh-v.y+this.y0,this.ns>=0?(D=Math.sqrt(v.x*v.x+v.y*v.y),M=1):(D=-Math.sqrt(v.x*v.x+v.y*v.y),M=-1);var et=0;return 0!==D&&(et=Math.atan2(M*v.x,M*v.y)),this.sphere?(G=le(this.long0+et/this.ns),U=Yi(this.g-D/this.a),v.x=G,v.y=U,v):(U=Ur(this.g-D/this.a,this.e0,this.e1,this.e2,this.e3),G=le(this.long0+et/this.ns),v.x=G,v.y=U,v)},names:["Equidistant_Conic","eqdc"]},fm={init:function Tn(){this.R=this.a},forward:function mp(v){var G,et,D=v.y,U=le(v.x-this.long0);Math.abs(D)<=nt&&(G=this.x0+this.R*U,et=this.y0);var st=jo(2*Math.abs(D/Math.PI));(Math.abs(U)<=nt||Math.abs(Math.abs(D)-J)<=nt)&&(G=this.x0,et=D>=0?this.y0+Math.PI*this.R*Math.tan(.5*st):this.y0+Math.PI*this.R*-Math.tan(.5*st));var tt=.5*Math.abs(Math.PI/U-U/Math.PI),Et=tt*tt,Vt=Math.sin(st),re=Math.cos(st),Yt=re/(Vt+re-1),Me=Yt*(2/Vt-1),be=Me*Me,Ee=Math.PI*this.R*(tt*(Yt-be)+Math.sqrt(Et*(Yt-be)*(Yt-be)-(be+Et)*(Yt*Yt-be)))/(be+Et);U<0&&(Ee=-Ee),G=this.x0+Ee;var Pe=Et+Yt;return Ee=Math.PI*this.R*(Me*Pe-tt*Math.sqrt((be+Et)*(Et+1)-Pe*Pe))/(be+Et),et=D>=0?this.y0+Ee:this.y0-Ee,v.x=G,v.y=et,v},inverse:function $y(v){var M,D,U,G,et,st,tt,Et,Vt,re,Yt,me;return v.x-=this.x0,v.y-=this.y0,Yt=Math.PI*this.R,et=(U=v.x/Yt)*U+(G=v.y/Yt)*G,Yt=3*(G*G/(Et=-2*(st=-Math.abs(G)*(1+et))+1+2*G*G+et*et)+(2*(tt=st-2*G*G+U*U)*tt*tt/Et/Et/Et-9*st*tt/Et/Et)/27)/(Vt=(st-tt*tt/3/Et)/Et)/(re=2*Math.sqrt(-Vt/3)),Math.abs(Yt)>1&&(Yt=Yt>=0?1:-1),me=Math.acos(Yt)/3,D=v.y>=0?(-re*Math.cos(me+Math.PI/3)-tt/3/Et)*Math.PI:-(-re*Math.cos(me+Math.PI/3)-tt/3/Et)*Math.PI,M=Math.abs(U)<nt?this.long0:le(this.long0+Math.PI*(et-1+Math.sqrt(1+2*(U*U-G*G)+et*et))/2/U),v.x=M,v.y=D,v},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},xe={init:function hm(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function vp(v){var st,tt,Et,Vt,re,Yt,me,Me,be,Ee,Pe,tn,En,jn,cr,Zn,nr,Qi,$r,ua,Ha,Bi,M=v.x,D=v.y,U=Math.sin(v.y),G=Math.cos(v.y),et=le(M-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=nt?(v.x=this.x0+this.a*(J-D)*Math.sin(et),v.y=this.y0-this.a*(J-D)*Math.cos(et),v):Math.abs(this.sin_p12+1)<=nt?(v.x=this.x0+this.a*(J+D)*Math.sin(et),v.y=this.y0+this.a*(J+D)*Math.cos(et),v):(Qi=this.sin_p12*U+this.cos_p12*G*Math.cos(et),nr=(Zn=Math.acos(Qi))?Zn/Math.sin(Zn):1,v.x=this.x0+this.a*nr*G*Math.sin(et),v.y=this.y0+this.a*nr*(this.cos_p12*U-this.sin_p12*G*Math.cos(et)),v):(st=er(this.es),tt=Re(this.es),Et=fn(this.es),Vt=_r(this.es),Math.abs(this.sin_p12-1)<=nt?(re=this.a*Rr(st,tt,Et,Vt,J),Yt=this.a*Rr(st,tt,Et,Vt,D),v.x=this.x0+(re-Yt)*Math.sin(et),v.y=this.y0-(re-Yt)*Math.cos(et),v):Math.abs(this.sin_p12+1)<=nt?(re=this.a*Rr(st,tt,Et,Vt,J),Yt=this.a*Rr(st,tt,Et,Vt,D),v.x=this.x0+(re+Yt)*Math.sin(et),v.y=this.y0+(re+Yt)*Math.cos(et),v):(me=U/G,Me=ii(this.a,this.e,this.sin_p12),be=ii(this.a,this.e,U),Ee=Math.atan((1-this.es)*me+this.es*Me*this.sin_p12/(be*G)),$r=0===(Pe=Math.atan2(Math.sin(et),this.cos_p12*Math.tan(Ee)-this.sin_p12*Math.cos(et)))?Math.asin(this.cos_p12*Math.sin(Ee)-this.sin_p12*Math.cos(Ee)):Math.abs(Math.abs(Pe)-Math.PI)<=nt?-Math.asin(this.cos_p12*Math.sin(Ee)-this.sin_p12*Math.cos(Ee)):Math.asin(Math.sin(et)*Math.cos(Ee)/Math.sin(Pe)),tn=this.e*this.sin_p12/Math.sqrt(1-this.es),En=this.e*this.cos_p12*Math.cos(Pe)/Math.sqrt(1-this.es),v.x=this.x0+(Zn=Me*$r*(1-(ua=$r*$r)*(cr=En*En)*(1-cr)/6+(Ha=ua*$r)/8*(jn=tn*En)*(1-2*cr)+(Bi=Ha*$r)/120*(cr*(4-7*cr)-3*tn*tn*(1-7*cr))-Bi*$r/48*jn))*Math.sin(Pe),v.y=this.y0+Zn*Math.cos(Pe),v))},inverse:function dm(v){var M,D,U,G,et,st,tt,Et,Vt,re,Yt,me,be,Ee,Pe,tn,En,jn,cr,Zn,nr,Qi,$r;return v.x-=this.x0,v.y-=this.y0,this.sphere?(M=Math.sqrt(v.x*v.x+v.y*v.y))>2*J*this.a?void 0:(D=M/this.a,U=Math.sin(D),G=Math.cos(D),et=this.long0,Math.abs(M)<=nt?st=this.lat0:(st=jo(G*this.sin_p12+v.y*U*this.cos_p12/M),tt=Math.abs(this.lat0)-J,et=Math.abs(tt)<=nt?le(this.lat0>=0?this.long0+Math.atan2(v.x,-v.y):this.long0-Math.atan2(-v.x,v.y)):le(this.long0+Math.atan2(v.x*U,M*this.cos_p12*G-v.y*this.sin_p12*U))),v.x=et,v.y=st,v):(Et=er(this.es),Vt=Re(this.es),re=fn(this.es),Yt=_r(this.es),Math.abs(this.sin_p12-1)<=nt?(st=Ur(((me=this.a*Rr(Et,Vt,re,Yt,J))-(M=Math.sqrt(v.x*v.x+v.y*v.y)))/this.a,Et,Vt,re,Yt),et=le(this.long0+Math.atan2(v.x,-1*v.y)),v.x=et,v.y=st,v):Math.abs(this.sin_p12+1)<=nt?(me=this.a*Rr(Et,Vt,re,Yt,J),st=Ur(((M=Math.sqrt(v.x*v.x+v.y*v.y))-me)/this.a,Et,Vt,re,Yt),et=le(this.long0+Math.atan2(v.x,v.y)),v.x=et,v.y=st,v):(M=Math.sqrt(v.x*v.x+v.y*v.y),Pe=Math.atan2(v.x,v.y),be=ii(this.a,this.e,this.sin_p12),tn=Math.cos(Pe),cr=3*this.es*(1-(jn=-(En=this.e*this.cos_p12*tn)*En/(1-this.es)))*this.sin_p12*this.cos_p12*tn/(1-this.es),Qi=1-jn*(nr=(Zn=M/be)-jn*(1+jn)*Math.pow(Zn,3)/6-cr*(1+3*jn)*Math.pow(Zn,4)/24)*nr/2-Zn*nr*nr*nr/6,Ee=Math.asin(this.sin_p12*Math.cos(nr)+this.cos_p12*Math.sin(nr)*tn),et=le(this.long0+Math.asin(Math.sin(Pe)*Math.sin(nr)/Math.cos(Ee))),$r=Math.sin(Ee),st=Math.atan2(($r-this.es*Qi*this.sin_p12)*Math.tan(Ee),$r*(1-this.es)),v.x=et,v.y=st,v))},names:["Azimuthal_Equidistant","aeqd"]},_p={init:function ur(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function gm(v){var M,D,U,G,st,tt,Et,re=v.y;return U=le(v.x-this.long0),M=Math.sin(re),D=Math.cos(re),G=Math.cos(U),((st=this.sin_p14*M+this.cos_p14*D*G)>0||Math.abs(st)<=nt)&&(tt=1*this.a*D*Math.sin(U),Et=this.y0+1*this.a*(this.cos_p14*M-this.sin_p14*D*G)),v.x=tt,v.y=Et,v},inverse:function mm(v){var M,D,U,G,et,st,tt;return v.x-=this.x0,v.y-=this.y0,D=jo((M=Math.sqrt(v.x*v.x+v.y*v.y))/this.a),U=Math.sin(D),G=Math.cos(D),st=this.long0,Math.abs(M)<=nt?(tt=this.lat0,v.x=st,v.y=tt,v):(tt=jo(G*this.sin_p14+v.y*U*this.cos_p14/M),et=Math.abs(this.lat0)-J,Math.abs(et)<=nt?(st=le(this.lat0>=0?this.long0+Math.atan2(v.x,-v.y):this.long0-Math.atan2(-v.x,v.y)),v.x=st,v.y=tt,v):(st=le(this.long0+Math.atan2(v.x*U,M*this.cos_p14*G-v.y*this.sin_p14*U)),v.x=st,v.y=tt,v))},names:["ortho"]};var Sr_FRONT=1,Sr_RIGHT=2,Sr_BACK=3,Sr_LEFT=4,Sr_TOP=5,Sr_BOTTOM=6,Vn={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Eh(v,M,D,U){var G;return v<nt?(U.value=Vn.AREA_0,G=0):(G=Math.atan2(M,D),Math.abs(G)<=X?U.value=Vn.AREA_0:G>X&&G<=J+X?(U.value=Vn.AREA_1,G-=J):G>J+X||G<=-(J+X)?(U.value=Vn.AREA_2,G=G>=0?G-Z:G+Z):(U.value=Vn.AREA_3,G+=J)),G}function _u(v,M){var D=v+M;return D<-Z?D+=V:D>+Z&&(D-=V),D}const ms={init:function Ch(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.face=this.lat0>=J-X/2?Sr_TOP:this.lat0<=-(J-X/2)?Sr_BOTTOM:Math.abs(this.long0)<=X?Sr_FRONT:Math.abs(this.long0)<=J+X?this.long0>0?Sr_RIGHT:Sr_LEFT:Sr_BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function Th(v){var D,U,G,et,st,tt,M={x:0,y:0},Et={value:0};if(v.x-=this.long0,D=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(v.y)):v.y,U=v.x,this.face===Sr_TOP)et=J-D,U>=X&&U<=J+X?(Et.value=Vn.AREA_0,G=U-J):U>J+X||U<=-(J+X)?(Et.value=Vn.AREA_1,G=U>0?U-Z:U+Z):U>-(J+X)&&U<=-X?(Et.value=Vn.AREA_2,G=U+J):(Et.value=Vn.AREA_3,G=U);else if(this.face===Sr_BOTTOM)et=J+D,U>=X&&U<=J+X?(Et.value=Vn.AREA_0,G=-U+J):U<X&&U>=-X?(Et.value=Vn.AREA_1,G=-U):U<-X&&U>=-(J+X)?(Et.value=Vn.AREA_2,G=-U-J):(Et.value=Vn.AREA_3,G=U>0?-U+Z:-U-Z);else{var Vt,re,Yt,me,Me,be;this.face===Sr_RIGHT?U=_u(U,+J):this.face===Sr_BACK?U=_u(U,+Z):this.face===Sr_LEFT&&(U=_u(U,-J)),me=Math.sin(D),Me=Math.cos(D),be=Math.sin(U),Vt=Me*Math.cos(U),re=Me*be,Yt=me,this.face===Sr_FRONT?G=Eh(et=Math.acos(Vt),Yt,re,Et):this.face===Sr_RIGHT?G=Eh(et=Math.acos(re),Yt,-Vt,Et):this.face===Sr_BACK?G=Eh(et=Math.acos(-Vt),Yt,-re,Et):this.face===Sr_LEFT?G=Eh(et=Math.acos(-re),Yt,Vt,Et):(et=G=0,Et.value=Vn.AREA_0)}return tt=Math.atan(12/Z*(G+Math.acos(Math.sin(G)*Math.cos(X))-J)),st=Math.sqrt((1-Math.cos(et))/(Math.cos(tt)*Math.cos(tt))/(1-Math.cos(Math.atan(1/Math.cos(G))))),Et.value===Vn.AREA_1?tt+=J:Et.value===Vn.AREA_2?tt+=Z:Et.value===Vn.AREA_3&&(tt+=1.5*Z),M.x=st*Math.cos(tt),M.y=st*Math.sin(tt),M.x=M.x*this.a+this.x0,M.y=M.y*this.a+this.y0,v.x=M.x,v.y=M.y,v},inverse:function vm(v){var D,U,G,et,st,tt,Et,Vt,re,Ee,Pe,tn,M={lam:0,phi:0},Yt={value:0};if(v.x=(v.x-this.x0)/this.a,v.y=(v.y-this.y0)/this.a,U=Math.atan(Math.sqrt(v.x*v.x+v.y*v.y)),D=Math.atan2(v.y,v.x),v.x>=0&&v.x>=Math.abs(v.y)?Yt.value=Vn.AREA_0:v.y>=0&&v.y>=Math.abs(v.x)?(Yt.value=Vn.AREA_1,D-=J):v.x<0&&-v.x>=Math.abs(v.y)?(Yt.value=Vn.AREA_2,D=D<0?D+Z:D-Z):(Yt.value=Vn.AREA_3,D+=J),re=Z/12*Math.tan(D),st=Math.sin(re)/(Math.cos(re)-1/Math.sqrt(2)),tt=Math.atan(st),(Et=1-(G=Math.cos(D))*G*(et=Math.tan(U))*et*(1-Math.cos(Math.atan(1/Math.cos(tt)))))<-1?Et=-1:Et>1&&(Et=1),this.face===Sr_TOP)Vt=Math.acos(Et),M.phi=J-Vt,M.lam=Yt.value===Vn.AREA_0?tt+J:Yt.value===Vn.AREA_1?tt<0?tt+Z:tt-Z:Yt.value===Vn.AREA_2?tt-J:tt;else if(this.face===Sr_BOTTOM)Vt=Math.acos(Et),M.phi=Vt-J,M.lam=Yt.value===Vn.AREA_0?-tt+J:Yt.value===Vn.AREA_1?-tt:Yt.value===Vn.AREA_2?-tt-J:tt<0?-tt-Z:-tt+Z;else{var me,Me,be;re=(me=Et)*me,Me=(re+=(be=re>=1?0:Math.sqrt(1-re)*Math.sin(tt))*be)>=1?0:Math.sqrt(1-re),Yt.value===Vn.AREA_1?(re=Me,Me=-be,be=re):Yt.value===Vn.AREA_2?(Me=-Me,be=-be):Yt.value===Vn.AREA_3&&(re=Me,Me=be,be=-re),this.face===Sr_RIGHT?(re=me,me=-Me,Me=re):this.face===Sr_BACK?(me=-me,Me=-Me):this.face===Sr_LEFT&&(re=me,me=Me,Me=-re),M.phi=Math.acos(-be)-J,M.lam=Math.atan2(Me,me),this.face===Sr_RIGHT?M.lam=_u(M.lam,-J):this.face===Sr_BACK?M.lam=_u(M.lam,-Z):this.face===Sr_LEFT&&(M.lam=_u(M.lam,+J))}return 0!==this.es&&(Ee=M.phi<0?1:0,Pe=Math.tan(M.phi),tn=this.b/Math.sqrt(Pe*Pe+this.one_minus_f_squared),M.phi=Math.atan(Math.sqrt(this.a*this.a-tn*tn)/(this.one_minus_f*tn)),Ee&&(M.phi=-M.phi)),M.lam+=this.long0,v.x=M.lam,v.y=M.phi,v},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};var Xc=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Ua=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Ah=K/5,_m=1/Ah,ol=function(v,M){return v[0]+M*(v[1]+M*(v[2]+M*v[3]))};const bp={init:function Ph(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function ym(v){var M=le(v.x-this.long0),D=Math.abs(v.y),U=Math.floor(D*Ah);U<0?U=0:U>=18&&(U=17);var G={x:ol(Xc[U],D=K*(D-_m*U))*M,y:ol(Ua[U],D)};return v.y<0&&(G.y=-G.y),G.x=G.x*this.a*.8487+this.x0,G.y=G.y*this.a*1.3523+this.y0,G},inverse:function xp(v){var M={x:(v.x-this.x0)/(.8487*this.a),y:Math.abs(v.y-this.y0)/(1.3523*this.a)};if(M.y>=1)M.x/=Xc[18][0],M.y=v.y<0?-J:J;else{var D=Math.floor(18*M.y);for(D<0?D=0:D>=18&&(D=17);;)if(Ua[D][0]>M.y)--D;else{if(!(Ua[D+1][0]<=M.y))break;++D}var U=Ua[D],G=5*(M.y-U[0])/(Ua[D+1][0]-U[0]);G=function wp(v,M,D,U){for(var G=M;U;--U){var et=v(G);if(G-=et,Math.abs(et)<D)break}return G}(function(et){return(ol(U,et)-M.y)/function(v,M){return v[1]+M*(2*v[2]+3*M*v[3])}(U,et)},G,nt,100),M.x/=ol(Xc[D],G),M.y=(5*D+G)*q,v.y<0&&(M.y=-M.y)}return M.x=le(M.x+this.long0),M},names:["Robinson","robin"]},wm={init:function Aa(){this.name="geocent"},forward:function Lh(v){return Ns(v,this.es,this.a)},inverse:function Rh(v){return Nc(v,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]};var Zi_N_POLE=0,Zi_S_POLE=1,Zi_EQUIT=2,Zi_OBLIQ=3,oi={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};const Sm={init:function vs(){if(Object.keys(oi).forEach(function(D){if(typeof this[D]>"u")this[D]=oi[D].def;else{if(oi[D].num&&isNaN(this[D]))throw new Error("Invalid parameter value, must be numeric "+D+" = "+this[D]);oi[D].num&&(this[D]=parseFloat(this[D]))}oi[D].degrees&&(this[D]=this[D]*q)}.bind(this)),Math.abs(Math.abs(this.lat0)-J)<nt?this.mode=this.lat0<0?Zi_S_POLE:Zi_N_POLE:Math.abs(this.lat0)<nt?this.mode=Zi_EQUIT:(this.mode=Zi_OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var v=this.tilt,M=this.azi;this.cg=Math.cos(M),this.sg=Math.sin(M),this.cw=Math.cos(v),this.sw=Math.sin(v)},forward:function jr(v){v.x-=this.long0;var G,et,st,tt,M=Math.sin(v.y),D=Math.cos(v.y),U=Math.cos(v.x);switch(this.mode){case Zi_OBLIQ:et=this.sinph0*M+this.cosph0*D*U;break;case Zi_EQUIT:et=D*U;break;case Zi_S_POLE:et=-M;break;case Zi_N_POLE:et=M}switch(G=(et=this.pn1/(this.p-et))*D*Math.sin(v.x),this.mode){case Zi_OBLIQ:et*=this.cosph0*M-this.sinph0*D*U;break;case Zi_EQUIT:et*=M;break;case Zi_N_POLE:et*=-D*U;break;case Zi_S_POLE:et*=D*U}return G=(G*this.cg-et*this.sg)*this.cw*(tt=1/((st=et*this.cg+G*this.sg)*this.sw*this.h1+this.cw)),et=st*tt,v.x=G*this.a,v.y=et*this.a,v},inverse:function xm(v){v.x/=this.a,v.y/=this.a;var D,U,G,M={x:v.x,y:v.y};v.x=(D=this.pn1*v.x*(G=1/(this.pn1-v.y*this.sw)))*this.cg+(U=this.pn1*v.y*this.cw*G)*this.sg,v.y=U*this.cg-D*this.sg;var et=qe(v.x,v.y);if(Math.abs(et)<nt)M.x=0,M.y=v.y;else{var st,tt;switch(tt=1-et*et*this.pfact,tt=(this.p-Math.sqrt(tt))/(this.pn1/et+et/this.pn1),st=Math.sqrt(1-tt*tt),this.mode){case Zi_OBLIQ:M.y=Math.asin(st*this.sinph0+v.y*tt*this.cosph0/et),v.y=(st-this.sinph0*Math.sin(M.y))*et,v.x*=tt*this.cosph0;break;case Zi_EQUIT:M.y=Math.asin(v.y*tt/et),v.y=st*et,v.x*=tt;break;case Zi_N_POLE:M.y=Math.asin(st),v.y=-v.y;break;case Zi_S_POLE:M.y=-Math.asin(st)}M.x=Math.atan2(v.x,v.y)}return v.x=M.x+this.long0,v.y=M.y,v},names:["Tilted_Perspective","tpers"]},Ul={init:function Oh(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var v=1-this.es,M=1/v;this.radius_p=Math.sqrt(v),this.radius_p2=v,this.radius_p_inv2=M,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function Mm(v){var U,G,et,st,M=v.x,D=v.y;if(M-=this.long0,"ellipse"===this.shape){D=Math.atan(this.radius_p2*Math.tan(D));var tt=this.radius_p/qe(this.radius_p*Math.cos(D),Math.sin(D));if(G=tt*Math.cos(M)*Math.cos(D),et=tt*Math.sin(M)*Math.cos(D),st=tt*Math.sin(D),(this.radius_g-G)*G-et*et-st*st*this.radius_p_inv2<0)return v.x=Number.NaN,v.y=Number.NaN,v;U=this.radius_g-G,this.flip_axis?(v.x=this.radius_g_1*Math.atan(et/qe(st,U)),v.y=this.radius_g_1*Math.atan(st/U)):(v.x=this.radius_g_1*Math.atan(et/U),v.y=this.radius_g_1*Math.atan(st/qe(et,U)))}else"sphere"===this.shape&&(U=Math.cos(D),G=Math.cos(M)*U,et=Math.sin(M)*U,st=Math.sin(D),U=this.radius_g-G,this.flip_axis?(v.x=this.radius_g_1*Math.atan(et/qe(st,U)),v.y=this.radius_g_1*Math.atan(st/U)):(v.x=this.radius_g_1*Math.atan(et/U),v.y=this.radius_g_1*Math.atan(st/qe(et,U))));return v.x=v.x*this.a,v.y=v.y*this.a,v},inverse:function Sp(v){var G,et,st,tt,M=-1,D=0,U=0;if(v.x=v.x/this.a,v.y=v.y/this.a,"ellipse"===this.shape){this.flip_axis?(U=Math.tan(v.y/this.radius_g_1),D=Math.tan(v.x/this.radius_g_1)*qe(1,U)):(D=Math.tan(v.x/this.radius_g_1),U=Math.tan(v.y/this.radius_g_1)*qe(1,D));var Et=U/this.radius_p;if((st=(et=2*this.radius_g*M)*et-4*(G=D*D+Et*Et+M*M)*this.C)<0)return v.x=Number.NaN,v.y=Number.NaN,v;tt=(-et-Math.sqrt(st))/(2*G),M=this.radius_g+tt*M,D*=tt,U*=tt,v.x=Math.atan2(D,M),v.y=Math.atan(U*Math.cos(v.x)/M),v.y=Math.atan(this.radius_p_inv2*Math.tan(v.y))}else if("sphere"===this.shape){if(this.flip_axis?(U=Math.tan(v.y/this.radius_g_1),D=Math.tan(v.x/this.radius_g_1)*Math.sqrt(1+U*U)):(D=Math.tan(v.x/this.radius_g_1),U=Math.tan(v.y/this.radius_g_1)*Math.sqrt(1+D*D)),(st=(et=2*this.radius_g*M)*et-4*(G=D*D+U*U+M*M)*this.C)<0)return v.x=Number.NaN,v.y=Number.NaN,v;tt=(-et-Math.sqrt(st))/(2*G),M=this.radius_g+tt*M,D*=tt,U*=tt,v.x=Math.atan2(D,M),v.y=Math.atan(U*Math.cos(v.x)/M)}return v.x=v.x+this.long0,v},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};Oi.defaultDatum="WGS84",Oi.Proj=no,Oi.WGS84=new Oi.Proj("WGS84"),Oi.Point=ju,Oi.toPoint=us,Oi.defs=Wt,Oi.nadgrid=function Jo(v,M){var D=new DataView(M),U=function zu(v){var M=v.getInt32(8,!1);return 11!==M&&(11!==(M=v.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}(D),G=function Il(v,M){return{nFields:v.getInt32(8,M),nSubgridFields:v.getInt32(24,M),nSubgrids:v.getInt32(40,M),shiftType:eo(v,56,64).trim(),fromSemiMajorAxis:v.getFloat64(120,M),fromSemiMinorAxis:v.getFloat64(136,M),toSemiMajorAxis:v.getFloat64(152,M),toSemiMinorAxis:v.getFloat64(168,M)}}(D,U);G.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var et=function ss(v,M,D){for(var G=[],et=0;et<M.nSubgrids;et++){var st=ko(v,176,D),tt=gh(v,176,st,D),Et=Math.round(1+(st.upperLongitude-st.lowerLongitude)/st.longitudeInterval),Vt=Math.round(1+(st.upperLatitude-st.lowerLatitude)/st.latitudeInterval);G.push({ll:[va(st.lowerLongitude),va(st.lowerLatitude)],del:[va(st.longitudeInterval),va(st.latitudeInterval)],lim:[Et,Vt],count:st.gridNodeCount,cvs:su(tt)})}return G}(D,G,U),st={header:G,subgrids:et};return Na[v]=st,st},Oi.transform=Mn,Oi.mgrs=cu,Oi.version="__VERSION__",function sl(v){v.Proj.projections.add($s),v.Proj.projections.add(io),v.Proj.projections.add($o),v.Proj.projections.add(Gc),v.Proj.projections.add(Qu),v.Proj.projections.add(oa),v.Proj.projections.add(aa),v.Proj.projections.add(ri),v.Proj.projections.add(Ba),v.Proj.projections.add(gn),v.Proj.projections.add(br),v.Proj.projections.add(Fi),v.Proj.projections.add(u),v.Proj.projections.add(Bt),v.Proj.projections.add(Ze),v.Proj.projections.add(Ta),v.Proj.projections.add(tl),v.Proj.projections.add(lo),v.Proj.projections.add(xo),v.Proj.projections.add(um),v.Proj.projections.add(Mh),v.Proj.projections.add(fm),v.Proj.projections.add(xe),v.Proj.projections.add(_p),v.Proj.projections.add(ms),v.Proj.projections.add(bp),v.Proj.projections.add(wm),v.Proj.projections.add(Sm),v.Proj.projections.add(Ul)}(Oi);const qs=Oi},8613:(Oe,kt,_t)=>{"use strict";var k=_t(5991),xt=_t(2912),zt=_t(3193),Mt=_t(922);function Ct(V,Z,$,ct){return function(pt,z,yt){var Nt=V(V(Z(z[1],yt[0]),Z(-yt[1],z[0])),V(Z(pt[1],z[0]),Z(-z[1],pt[0]))),qt=V(Z(pt[1],yt[0]),Z(-yt[1],pt[0])),ne=ct(Nt,qt);return ne[ne.length-1]}}function ht(V,Z,$,ct){return function(pt,z,yt,Nt){var qt=V(V($(V(Z(yt[1],Nt[0]),Z(-Nt[1],yt[0])),z[2]),V($(V(Z(z[1],Nt[0]),Z(-Nt[1],z[0])),-yt[2]),$(V(Z(z[1],yt[0]),Z(-yt[1],z[0])),Nt[2]))),V($(V(Z(z[1],Nt[0]),Z(-Nt[1],z[0])),pt[2]),V($(V(Z(pt[1],Nt[0]),Z(-Nt[1],pt[0])),-z[2]),$(V(Z(pt[1],z[0]),Z(-z[1],pt[0])),Nt[2])))),ne=V(V($(V(Z(yt[1],Nt[0]),Z(-Nt[1],yt[0])),pt[2]),V($(V(Z(pt[1],Nt[0]),Z(-Nt[1],pt[0])),-yt[2]),$(V(Z(pt[1],yt[0]),Z(-yt[1],pt[0])),Nt[2]))),V($(V(Z(z[1],yt[0]),Z(-yt[1],z[0])),pt[2]),V($(V(Z(pt[1],yt[0]),Z(-yt[1],pt[0])),-z[2]),$(V(Z(pt[1],z[0]),Z(-z[1],pt[0])),yt[2])))),oe=ct(qt,ne);return oe[oe.length-1]}}function J(V,Z,$,ct){return function(pt,z,yt,Nt,qt){var ne=V(V(V($(V($(V(Z(Nt[1],qt[0]),Z(-qt[1],Nt[0])),yt[2]),V($(V(Z(yt[1],qt[0]),Z(-qt[1],yt[0])),-Nt[2]),$(V(Z(yt[1],Nt[0]),Z(-Nt[1],yt[0])),qt[2]))),z[3]),V($(V($(V(Z(Nt[1],qt[0]),Z(-qt[1],Nt[0])),z[2]),V($(V(Z(z[1],qt[0]),Z(-qt[1],z[0])),-Nt[2]),$(V(Z(z[1],Nt[0]),Z(-Nt[1],z[0])),qt[2]))),-yt[3]),$(V($(V(Z(yt[1],qt[0]),Z(-qt[1],yt[0])),z[2]),V($(V(Z(z[1],qt[0]),Z(-qt[1],z[0])),-yt[2]),$(V(Z(z[1],yt[0]),Z(-yt[1],z[0])),qt[2]))),Nt[3]))),V($(V($(V(Z(yt[1],Nt[0]),Z(-Nt[1],yt[0])),z[2]),V($(V(Z(z[1],Nt[0]),Z(-Nt[1],z[0])),-yt[2]),$(V(Z(z[1],yt[0]),Z(-yt[1],z[0])),Nt[2]))),-qt[3]),V($(V($(V(Z(Nt[1],qt[0]),Z(-qt[1],Nt[0])),z[2]),V($(V(Z(z[1],qt[0]),Z(-qt[1],z[0])),-Nt[2]),$(V(Z(z[1],Nt[0]),Z(-Nt[1],z[0])),qt[2]))),pt[3]),$(V($(V(Z(Nt[1],qt[0]),Z(-qt[1],Nt[0])),pt[2]),V($(V(Z(pt[1],qt[0]),Z(-qt[1],pt[0])),-Nt[2]),$(V(Z(pt[1],Nt[0]),Z(-Nt[1],pt[0])),qt[2]))),-z[3])))),V(V($(V($(V(Z(z[1],qt[0]),Z(-qt[1],z[0])),pt[2]),V($(V(Z(pt[1],qt[0]),Z(-qt[1],pt[0])),-z[2]),$(V(Z(pt[1],z[0]),Z(-z[1],pt[0])),qt[2]))),Nt[3]),V($(V($(V(Z(z[1],Nt[0]),Z(-Nt[1],z[0])),pt[2]),V($(V(Z(pt[1],Nt[0]),Z(-Nt[1],pt[0])),-z[2]),$(V(Z(pt[1],z[0]),Z(-z[1],pt[0])),Nt[2]))),-qt[3]),$(V($(V(Z(yt[1],Nt[0]),Z(-Nt[1],yt[0])),z[2]),V($(V(Z(z[1],Nt[0]),Z(-Nt[1],z[0])),-yt[2]),$(V(Z(z[1],yt[0]),Z(-yt[1],z[0])),Nt[2]))),pt[3]))),V($(V($(V(Z(yt[1],Nt[0]),Z(-Nt[1],yt[0])),pt[2]),V($(V(Z(pt[1],Nt[0]),Z(-Nt[1],pt[0])),-yt[2]),$(V(Z(pt[1],yt[0]),Z(-yt[1],pt[0])),Nt[2]))),-z[3]),V($(V($(V(Z(z[1],Nt[0]),Z(-Nt[1],z[0])),pt[2]),V($(V(Z(pt[1],Nt[0]),Z(-Nt[1],pt[0])),-z[2]),$(V(Z(pt[1],z[0]),Z(-z[1],pt[0])),Nt[2]))),yt[3]),$(V($(V(Z(z[1],yt[0]),Z(-yt[1],z[0])),pt[2]),V($(V(Z(pt[1],yt[0]),Z(-yt[1],pt[0])),-z[2]),$(V(Z(pt[1],z[0]),Z(-z[1],pt[0])),yt[2]))),-Nt[3]))))),oe=V(V(V($(V($(V(Z(Nt[1],qt[0]),Z(-qt[1],Nt[0])),yt[2]),V($(V(Z(yt[1],qt[0]),Z(-qt[1],yt[0])),-Nt[2]),$(V(Z(yt[1],Nt[0]),Z(-Nt[1],yt[0])),qt[2]))),pt[3]),$(V($(V(Z(Nt[1],qt[0]),Z(-qt[1],Nt[0])),pt[2]),V($(V(Z(pt[1],qt[0]),Z(-qt[1],pt[0])),-Nt[2]),$(V(Z(pt[1],Nt[0]),Z(-Nt[1],pt[0])),qt[2]))),-yt[3])),V($(V($(V(Z(yt[1],qt[0]),Z(-qt[1],yt[0])),pt[2]),V($(V(Z(pt[1],qt[0]),Z(-qt[1],pt[0])),-yt[2]),$(V(Z(pt[1],yt[0]),Z(-yt[1],pt[0])),qt[2]))),Nt[3]),$(V($(V(Z(yt[1],Nt[0]),Z(-Nt[1],yt[0])),pt[2]),V($(V(Z(pt[1],Nt[0]),Z(-Nt[1],pt[0])),-yt[2]),$(V(Z(pt[1],yt[0]),Z(-yt[1],pt[0])),Nt[2]))),-qt[3]))),V(V($(V($(V(Z(yt[1],qt[0]),Z(-qt[1],yt[0])),z[2]),V($(V(Z(z[1],qt[0]),Z(-qt[1],z[0])),-yt[2]),$(V(Z(z[1],yt[0]),Z(-yt[1],z[0])),qt[2]))),pt[3]),$(V($(V(Z(yt[1],qt[0]),Z(-qt[1],yt[0])),pt[2]),V($(V(Z(pt[1],qt[0]),Z(-qt[1],pt[0])),-yt[2]),$(V(Z(pt[1],yt[0]),Z(-yt[1],pt[0])),qt[2]))),-z[3])),V($(V($(V(Z(z[1],qt[0]),Z(-qt[1],z[0])),pt[2]),V($(V(Z(pt[1],qt[0]),Z(-qt[1],pt[0])),-z[2]),$(V(Z(pt[1],z[0]),Z(-z[1],pt[0])),qt[2]))),yt[3]),$(V($(V(Z(z[1],yt[0]),Z(-yt[1],z[0])),pt[2]),V($(V(Z(pt[1],yt[0]),Z(-yt[1],pt[0])),-z[2]),$(V(Z(pt[1],z[0]),Z(-z[1],pt[0])),yt[2]))),-qt[3])))),ge=ct(ne,oe);return ge[ge.length-1]}}function vt(V){return(3===V?Ct:4===V?ht:J)(xt,k,zt,Mt)}var Tt=vt(3),$t=vt(4),nt=[function(){return 0},function(){return 0},function(Z,$){return $[0]-Z[0]},function(Z,$,ct){var yt,bt=(Z[1]-ct[1])*($[0]-ct[0]),pt=(Z[0]-ct[0])*($[1]-ct[1]),z=bt-pt;if(bt>0){if(pt<=0)return z;yt=bt+pt}else{if(!(bt<0))return z;if(pt>=0)return z;yt=-(bt+pt)}var Nt=33306690738754716e-32*yt;return z>=Nt||z<=-Nt?z:Tt(Z,$,ct)},function(Z,$,ct,bt){var pt=Z[0]-bt[0],z=$[0]-bt[0],yt=ct[0]-bt[0],Nt=Z[1]-bt[1],qt=$[1]-bt[1],ne=ct[1]-bt[1],oe=Z[2]-bt[2],ge=$[2]-bt[2],ce=ct[2]-bt[2],Ft=z*ne,a=yt*qt,l=yt*Nt,d=pt*ne,_=pt*qt,E=z*Nt,O=oe*(Ft-a)+ge*(l-d)+ce*(_-E),W=7771561172376103e-31*((Math.abs(Ft)+Math.abs(a))*Math.abs(oe)+(Math.abs(l)+Math.abs(d))*Math.abs(ge)+(Math.abs(_)+Math.abs(E))*Math.abs(ce));return O>W||-O>W?O:$t(Z,$,ct,bt)}];function q(V){var Z=nt[V.length];return Z||(Z=nt[V.length]=vt(V.length)),Z.apply(void 0,V)}function K(V,Z,$,ct,bt,pt,z){return function(Nt,qt,ne,oe,ge){switch(arguments.length){case 0:case 1:return 0;case 2:return ct(Nt,qt);case 3:return bt(Nt,qt,ne);case 4:return pt(Nt,qt,ne,oe);case 5:return z(Nt,qt,ne,oe,ge)}for(var ce=new Array(arguments.length),Ft=0;Ft<arguments.length;++Ft)ce[Ft]=arguments[Ft];return V(ce)}}!function X(){for(;nt.length<=5;)nt.push(vt(nt.length));Oe.exports=K.apply(void 0,[q].concat(nt));for(var V=0;V<=5;++V)Oe.exports[V]=nt[V]}()},3193:(Oe,kt,_t)=>{"use strict";var k=_t(5991),xt=_t(7622);Oe.exports=function zt(Mt,Rt){var gt=Mt.length;if(1===gt){var Ot=k(Mt[0],Rt);return Ot[0]?Ot:[Ot[1]]}var Pt=new Array(2*gt),Ct=[.1,.1],ht=[.1,.1],J=0;k(Mt[0],Rt,Ct),Ct[0]&&(Pt[J++]=Ct[0]);for(var vt=1;vt<gt;++vt){k(Mt[vt],Rt,ht),xt(Ct[1],ht[0],Ct),Ct[0]&&(Pt[J++]=Ct[0]);var $t=ht[1],nt=Ct[1],q=$t+nt,X=nt-(q-$t);Ct[1]=q,X&&(Pt[J++]=X)}return Ct[1]&&(Pt[J++]=Ct[1]),0===J&&(Pt[J++]=0),Pt.length=J,Pt}},922:Oe=>{"use strict";Oe.exports=function _t(k,xt){var zt=0|k.length,Mt=0|xt.length;if(1===zt&&1===Mt)return function kt(k,xt){var zt=k+xt,Mt=zt-k,Pt=k-(zt-Mt)+(xt-Mt);return Pt?[Pt,zt]:[zt]}(k[0],-xt[0]);var nt,q,gt=new Array(zt+Mt),Ot=0,Pt=0,Ct=0,ht=Math.abs,J=k[Pt],vt=ht(J),Tt=-xt[Ct],$t=ht(Tt);vt<$t?(q=J,(Pt+=1)<zt&&(vt=ht(J=k[Pt]))):(q=Tt,(Ct+=1)<Mt&&($t=ht(Tt=-xt[Ct]))),Pt<zt&&vt<$t||Ct>=Mt?(nt=J,(Pt+=1)<zt&&(vt=ht(J=k[Pt]))):(nt=Tt,(Ct+=1)<Mt&&($t=ht(Tt=-xt[Ct])));for(var ct,bt,K=nt+q,X=K-nt,V=q-X,Z=V,$=K;Pt<zt&&Ct<Mt;)vt<$t?(nt=J,(Pt+=1)<zt&&(vt=ht(J=k[Pt]))):(nt=Tt,(Ct+=1)<Mt&&($t=ht(Tt=-xt[Ct]))),(V=(q=Z)-(X=(K=nt+q)-nt))&&(gt[Ot++]=V),Z=$-((ct=$+K)-(bt=ct-$))+(K-bt),$=ct;for(;Pt<zt;)(V=(q=Z)-(X=(K=(nt=J)+q)-nt))&&(gt[Ot++]=V),Z=$-((ct=$+K)-(bt=ct-$))+(K-bt),$=ct,(Pt+=1)<zt&&(J=k[Pt]);for(;Ct<Mt;)(V=(q=Z)-(X=(K=(nt=Tt)+q)-nt))&&(gt[Ot++]=V),Z=$-((ct=$+K)-(bt=ct-$))+(K-bt),$=ct,(Ct+=1)<Mt&&(Tt=-xt[Ct]);return Z&&(gt[Ot++]=Z),$&&(gt[Ot++]=$),Ot||(gt[Ot++]=0),gt.length=Ot,gt}},2912:Oe=>{"use strict";Oe.exports=function _t(k,xt){var zt=0|k.length,Mt=0|xt.length;if(1===zt&&1===Mt)return function kt(k,xt){var zt=k+xt,Mt=zt-k,Pt=k-(zt-Mt)+(xt-Mt);return Pt?[Pt,zt]:[zt]}(k[0],xt[0]);var nt,q,gt=new Array(zt+Mt),Ot=0,Pt=0,Ct=0,ht=Math.abs,J=k[Pt],vt=ht(J),Tt=xt[Ct],$t=ht(Tt);vt<$t?(q=J,(Pt+=1)<zt&&(vt=ht(J=k[Pt]))):(q=Tt,(Ct+=1)<Mt&&($t=ht(Tt=xt[Ct]))),Pt<zt&&vt<$t||Ct>=Mt?(nt=J,(Pt+=1)<zt&&(vt=ht(J=k[Pt]))):(nt=Tt,(Ct+=1)<Mt&&($t=ht(Tt=xt[Ct])));for(var ct,bt,K=nt+q,X=K-nt,V=q-X,Z=V,$=K;Pt<zt&&Ct<Mt;)vt<$t?(nt=J,(Pt+=1)<zt&&(vt=ht(J=k[Pt]))):(nt=Tt,(Ct+=1)<Mt&&($t=ht(Tt=xt[Ct]))),(V=(q=Z)-(X=(K=nt+q)-nt))&&(gt[Ot++]=V),Z=$-((ct=$+K)-(bt=ct-$))+(K-bt),$=ct;for(;Pt<zt;)(V=(q=Z)-(X=(K=(nt=J)+q)-nt))&&(gt[Ot++]=V),Z=$-((ct=$+K)-(bt=ct-$))+(K-bt),$=ct,(Pt+=1)<zt&&(J=k[Pt]);for(;Ct<Mt;)(V=(q=Z)-(X=(K=(nt=Tt)+q)-nt))&&(gt[Ot++]=V),Z=$-((ct=$+K)-(bt=ct-$))+(K-bt),$=ct,(Ct+=1)<Mt&&(Tt=xt[Ct]);return Z&&(gt[Ot++]=Z),$&&(gt[Ot++]=$),Ot||(gt[Ot++]=0),gt.length=Ot,gt}},7581:(Oe,kt,_t)=>{"use strict";Oe.exports=function zt(Mt,Rt){var gt,Ot,Pt,Ct;if(Rt[0][0]<Rt[1][0])gt=Rt[0],Ot=Rt[1];else{if(!(Rt[0][0]>Rt[1][0]))return xt(Rt,Mt);gt=Rt[1],Ot=Rt[0]}if(Mt[0][0]<Mt[1][0])Pt=Mt[0],Ct=Mt[1];else{if(!(Mt[0][0]>Mt[1][0]))return-xt(Mt,Rt);Pt=Mt[1],Ct=Mt[0]}var ht=k(gt,Ot,Ct),J=k(gt,Ot,Pt);if(ht<0){if(J<=0)return ht}else if(ht>0){if(J>=0)return ht}else if(J)return J;if(ht=k(Ct,Pt,Ot),J=k(Ct,Pt,gt),ht<0){if(J<=0)return ht}else if(ht>0){if(J>=0)return ht}else if(J)return J;return Ot[0]-Ct[0]};var k=_t(8613);function xt(Mt,Rt){var gt,Ot,vt,Tt;if(Rt[0][0]<Rt[1][0])gt=Rt[0],Ot=Rt[1];else{if(!(Rt[0][0]>Rt[1][0])){var Pt=Math.min(Mt[0][1],Mt[1][1]),Ct=Math.max(Mt[0][1],Mt[1][1]),ht=Math.min(Rt[0][1],Rt[1][1]),J=Math.max(Rt[0][1],Rt[1][1]);return Ct<ht?Ct-ht:Pt>J?Pt-J:Ct-J}gt=Rt[1],Ot=Rt[0]}Mt[0][1]<Mt[1][1]?(vt=Mt[0],Tt=Mt[1]):(vt=Mt[1],Tt=Mt[0]);var $t=k(Ot,gt,vt);return $t||($t=k(Ot,gt,Tt))?$t:Tt-Ot}},6613:(Oe,kt,_t)=>{"use strict";Oe.exports=function J(vt){for(var Tt=vt.length,$t=2*Tt,nt=new Array($t),q=0;q<Tt;++q){var K=vt[q],X=K[0][0]<K[1][0];nt[2*q]=new ht(K[0][0],K,X,q),nt[2*q+1]=new ht(K[1][0],K,!X,q)}nt.sort(function(Nt,qt){var ne=Nt.x-qt.x;return ne||(ne=Nt.create-qt.create)?ne:Math.min(Nt.segment[0][1],Nt.segment[1][1])-Math.min(qt.segment[0][1],qt.segment[1][1])});var V=xt(Mt),Z=[],$=[],ct=[];for(q=0;q<$t;){for(var pt=nt[q].x,z=[];q<$t;){var yt=nt[q];if(yt.x!==pt)break;q+=1,yt.segment[0][0]===yt.x&&yt.segment[1][0]===yt.x?yt.create&&(yt.segment[0][1]<yt.segment[1][1]?(z.push(new Ct(yt.segment[0][1],yt.index,!0,!0)),z.push(new Ct(yt.segment[1][1],yt.index,!1,!1))):(z.push(new Ct(yt.segment[1][1],yt.index,!0,!1)),z.push(new Ct(yt.segment[0][1],yt.index,!1,!0)))):V=yt.create?V.insert(yt.segment,yt.index):V.remove(yt.segment)}Z.push(V.root),$.push(pt),ct.push(z)}return new Rt(Z,$,ct)};var k=_t(1650),xt=_t(6836),zt=_t(8613),Mt=_t(7581);function Rt(vt,Tt,$t){this.slabs=vt,this.coordinates=Tt,this.horizontal=$t}function Ot(vt,Tt){return vt.y-Tt}function Pt(vt,Tt){for(var $t=null;vt;){var q,K,nt=vt.key;nt[0][0]<nt[1][0]?(q=nt[0],K=nt[1]):(q=nt[1],K=nt[0]);var X=zt(q,K,Tt);if(X<0)vt=vt.left;else if(X>0)if(Tt[0]!==nt[1][0])$t=vt,vt=vt.right;else{if(V=Pt(vt.right,Tt))return V;vt=vt.left}else{if(Tt[0]!==nt[1][0])return vt;var V;if(V=Pt(vt.right,Tt))return V;vt=vt.left}}return $t}function Ct(vt,Tt,$t,nt){this.y=vt,this.index=Tt,this.start=$t,this.closed=nt}function ht(vt,Tt,$t,nt){this.x=vt,this.segment=Tt,this.create=$t,this.index=nt}Rt.prototype.castUp=function(vt){var Tt=k.le(this.coordinates,vt[0]);if(Tt<0)return-1;var nt=Pt(this.slabs[Tt],vt),q=-1;if(nt&&(q=nt.value),this.coordinates[Tt]===vt[0]){var K=null;if(nt&&(K=nt.key),Tt>0){var X=Pt(this.slabs[Tt-1],vt);X&&(K?Mt(X.key,K)>0&&(K=X.key,q=X.value):(q=X.value,K=X.key))}var V=this.horizontal[Tt];if(V.length>0){var Z=k.ge(V,vt[1],Ot);if(Z<V.length){var $=V[Z];if(vt[1]===$.y){if($.closed)return $.index;for(;Z<V.length-1&&V[Z+1].y===vt[1];)if(($=V[Z+=1]).closed)return $.index;if($.y===vt[1]&&!$.start){if((Z+=1)>=V.length)return q;$=V[Z]}}if($.start)if(K){var ct=zt(K[0],K[1],[vt[0],$.y]);K[0][0]>K[1][0]&&(ct=-ct),ct>0&&(q=$.index)}else q=$.index;else $.y!==vt[1]&&(q=$.index)}}}return q}},6482:(Oe,kt)=>{kt.name="cartesian",kt.formatDistance=function _t(Mt){return Mt.toString()},kt.ringArea=function k(Mt){for(var Ot,Rt=-1,gt=Mt.length,Pt=Mt[gt-1],Ct=0;++Rt<gt;)Ct+=(Ot=Pt)[0]*(Pt=Mt[Rt])[1]-Ot[1]*Pt[0];return.5*Ct},kt.absoluteArea=Math.abs,kt.triangleArea=function xt(Mt){return Math.abs((Mt[0][0]-Mt[2][0])*(Mt[1][1]-Mt[0][1])-(Mt[0][0]-Mt[1][0])*(Mt[2][1]-Mt[0][1]))},kt.distance=function zt(Mt,Rt,gt,Ot){var Pt=Mt-gt,Ct=Rt-Ot;return Math.sqrt(Pt*Pt+Ct*Ct)}},3554:(Oe,kt)=>{var _t=Math.PI,k=_t/4,xt=_t/180;function Ot(ht,J){var V,vt=(J[0]-ht[0])*xt,Tt=Math.sin(vt),$t=Math.cos(vt),nt=Math.sin(ht[1]*xt),q=Math.cos(ht[1]*xt),K=Math.sin(J[1]*xt),X=Math.cos(J[1]*xt);return Math.atan2(Math.sqrt((V=X*Tt)*V+(V=q*K-nt*X*$t)*V),nt*K+q*X*$t)}function Ct(ht){return(ht=Math.sin(ht/2))*ht}kt.name="spherical",kt.formatDistance=function zt(ht){var J=ht*xt*6371;return(J>1?J.toFixed(3)+"km":(1e3*J).toPrecision(3)+"m")+" ("+ht.toPrecision(3)+"\xb0)"},kt.ringArea=function Mt(ht){if(!ht.length)return 0;for(var J=0,vt=ht[0],Tt=vt[0]*xt,$t=vt[1]*xt/2+k,nt=Tt,q=Math.cos($t),K=Math.sin($t),X=1,V=ht.length;X<V;++X){$t=(vt=ht[X])[1]*xt/2+k;var Z=(Tt=vt[0]*xt)-nt,$=Math.cos($t),ct=Math.sin($t),bt=K*ct,pt=q*$+bt*Math.cos(Z),z=bt*Math.sin(Z);J+=Math.atan2(z,pt),nt=Tt,q=$,K=ct}return 2*(J>_t?J-2*_t:J<-_t?J+2*_t:J)},kt.absoluteArea=function Rt(ht){return ht<0?ht+4*_t:ht},kt.triangleArea=function gt(ht){var J=Ot(ht[0],ht[1]),vt=Ot(ht[1],ht[2]),Tt=Ot(ht[2],ht[0]),$t=(J+vt+Tt)/2;return 4*Math.atan(Math.sqrt(Math.max(0,Math.tan($t/2)*Math.tan(($t-J)/2)*Math.tan(($t-vt)/2)*Math.tan(($t-Tt)/2))))},kt.distance=function Pt(ht,J,vt,Tt){return ht*=xt,J*=xt,vt*=xt,Tt*=xt,2*Math.asin(Math.sqrt(Ct(Tt-J)+Math.cos(J)*Math.cos(Tt)*Ct(vt-ht)))}},5991:Oe=>{"use strict";Oe.exports=function _t(k,xt,zt){var Mt=k*xt,Rt=kt*k,Ot=Rt-(Rt-k),Pt=k-Ot,Ct=kt*xt,J=Ct-(Ct-xt),vt=xt-J,q=Pt*vt-(Mt-Ot*J-Pt*J-Ot*vt);return zt?(zt[0]=q,zt[1]=Mt,zt):[q,Mt]};var kt=+(Math.pow(2,27)+1)},7622:Oe=>{"use strict";Oe.exports=function kt(_t,k,xt){var zt=_t+k,Mt=zt-_t,gt=k-Mt,Ot=_t-(zt-Mt);return xt?(xt[0]=Ot+gt,xt[1]=zt,xt):[Ot+gt,zt]}},187:(Oe,kt,_t)=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0}),kt.get=function J(q){return Pt[q]},kt.load=function vt(q){if(q in Pt)return Promise.resolve(Pt[q]);var K=function $t(q){if(0!==q.indexOf(Ot))throw new Error("Unsupported CRS URI: "+q);return q.substr(Ot.length)}(q);return fetch("https://epsg.io/"+K+".proj4").then(function(V){if(!V.ok)throw new Error("HTTP response code: "+V.status);return V.text()}).then(function(V){return Tt(q,V,{reverseAxes:q in Ct})})},kt.set=Tt,_t(5318);var xt=function zt(q){return q&&q.__esModule?q:{default:q}}(_t(9987)),Rt="http://www.opengis.net/def/crs/",gt=Rt+"OGC/",Ot=Rt+"EPSG/0/",Pt={},Ct=function Mt(q,K,X){return K in q?Object.defineProperty(q,K,{value:X,enumerable:!0,configurable:!0,writable:!0}):q[K]=X,q}({},Ot+4326,!0),ht=(0,xt.default)("+proj=longlat +datum=WGS84 +no_defs");function Tt(q,K){var X=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(!q||!K)throw new Error("crsUri and proj cannot be empty");var V=void 0;if("string"==typeof K){if(!(V=(0,xt.default)(K)))throw new Error("Unsupported proj4 string: "+K);xt.default.defs(q,K),X.reverseAxes&&(V=nt(V))}else V=K;return Pt[q]=V,V}function nt(q){return{forward:function(X){return q.forward(X).reverse()},inverse:function(X){return q.inverse([X[1],X[0]])}}}Tt(gt+"1.3/CRS84",ht),Tt(Ot+4979,nt(ht))},3604:function(Oe){Oe.exports=function(){function kt(){}return kt.prototype.encodeReserved=function(_t){return _t.split(/(%[0-9A-Fa-f]{2})/g).map(function(k){return/%[0-9A-Fa-f]/.test(k)||(k=encodeURI(k).replace(/%5B/g,"[").replace(/%5D/g,"]")),k}).join("")},kt.prototype.encodeUnreserved=function(_t){return encodeURIComponent(_t).replace(/[!'()*]/g,function(k){return"%"+k.charCodeAt(0).toString(16).toUpperCase()})},kt.prototype.encodeValue=function(_t,k,xt){return k="+"===_t||"#"===_t?this.encodeReserved(k):this.encodeUnreserved(k),xt?this.encodeUnreserved(xt)+"="+k:k},kt.prototype.isDefined=function(_t){return null!=_t},kt.prototype.isKeyOperator=function(_t){return";"===_t||"&"===_t||"?"===_t},kt.prototype.getValues=function(_t,k,xt,zt){var Mt=_t[xt],Rt=[];if(this.isDefined(Mt)&&""!==Mt)if("string"==typeof Mt||"number"==typeof Mt||"boolean"==typeof Mt)Mt=Mt.toString(),zt&&"*"!==zt&&(Mt=Mt.substring(0,parseInt(zt,10))),Rt.push(this.encodeValue(k,Mt,this.isKeyOperator(k)?xt:null));else if("*"===zt)Array.isArray(Mt)?Mt.filter(this.isDefined).forEach(function(Ot){Rt.push(this.encodeValue(k,Ot,this.isKeyOperator(k)?xt:null))},this):Object.keys(Mt).forEach(function(Ot){this.isDefined(Mt[Ot])&&Rt.push(this.encodeValue(k,Mt[Ot],Ot))},this);else{var gt=[];Array.isArray(Mt)?Mt.filter(this.isDefined).forEach(function(Ot){gt.push(this.encodeValue(k,Ot))},this):Object.keys(Mt).forEach(function(Ot){this.isDefined(Mt[Ot])&&(gt.push(this.encodeUnreserved(Ot)),gt.push(this.encodeValue(k,Mt[Ot].toString())))},this),this.isKeyOperator(k)?Rt.push(this.encodeUnreserved(xt)+"="+gt.join(",")):0!==gt.length&&Rt.push(gt.join(","))}else";"===k?this.isDefined(Mt)&&Rt.push(this.encodeUnreserved(xt)):""!==Mt||"&"!==k&&"?"!==k?""===Mt&&Rt.push(""):Rt.push(this.encodeUnreserved(xt)+"=");return Rt},kt.prototype.parse=function(_t){var k=this,xt=["+","#",".","/",";","?","&"];return{expand:function(zt){return _t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(Mt,Rt,gt){if(Rt){var Ot=null,Pt=[];if(-1!==xt.indexOf(Rt.charAt(0))&&(Ot=Rt.charAt(0),Rt=Rt.substr(1)),Rt.split(/,/g).forEach(function(ht){var J=/([^:\*]*)(?::(\d+)|(\*))?/.exec(ht);Pt.push.apply(Pt,k.getValues(zt,Ot,J[1],J[2]||J[3]))}),Ot&&"+"!==Ot){var Ct=",";return"?"===Ot?Ct="&":"#"!==Ot&&(Ct=Ot),(0!==Pt.length?Ot:"")+Pt.join(Ct)}return Pt.join(",")}return k.encodeReserved(gt)})}}},new kt}()},5318:function(){!function(Oe){"use strict";if(!Oe.fetch){var kt={searchParams:"URLSearchParams"in Oe,iterable:"Symbol"in Oe&&"iterator"in Symbol,blob:"FileReader"in Oe&&"Blob"in Oe&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in Oe,arrayBuffer:"ArrayBuffer"in Oe};if(kt.arrayBuffer)var _t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],k=function($){return $&&DataView.prototype.isPrototypeOf($)},xt=ArrayBuffer.isView||function($){return $&&_t.indexOf(Object.prototype.toString.call($))>-1};gt.prototype.append=function($,ct){$=zt($),ct=Mt(ct);var bt=this.map[$];bt||(this.map[$]=bt=[]),bt.push(ct)},gt.prototype.delete=function($){delete this.map[zt($)]},gt.prototype.get=function($){var ct=this.map[zt($)];return ct?ct[0]:null},gt.prototype.getAll=function($){return this.map[zt($)]||[]},gt.prototype.has=function($){return this.map.hasOwnProperty(zt($))},gt.prototype.set=function($,ct){this.map[zt($)]=[Mt(ct)]},gt.prototype.forEach=function($,ct){Object.getOwnPropertyNames(this.map).forEach(function(bt){this.map[bt].forEach(function(pt){$.call(ct,pt,bt,this)},this)},this)},gt.prototype.keys=function(){var $=[];return this.forEach(function(ct,bt){$.push(bt)}),Rt($)},gt.prototype.values=function(){var $=[];return this.forEach(function(ct){$.push(ct)}),Rt($)},gt.prototype.entries=function(){var $=[];return this.forEach(function(ct,bt){$.push([bt,ct])}),Rt($)},kt.iterable&&(gt.prototype[Symbol.iterator]=gt.prototype.entries);var $t=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];q.prototype.clone=function(){return new q(this,{body:this._bodyInit})},Tt.call(q.prototype),Tt.call(V.prototype),V.prototype.clone=function(){return new V(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new gt(this.headers),url:this.url})},V.error=function(){var $=new V(null,{status:0,statusText:""});return $.type="error",$};var Z=[301,302,303,307,308];V.redirect=function($,ct){if(-1===Z.indexOf(ct))throw new RangeError("Invalid status code");return new V(null,{status:ct,headers:{location:$}})},Oe.Headers=gt,Oe.Request=q,Oe.Response=V,Oe.fetch=function($,ct){return new Promise(function(bt,pt){var z=new q($,ct),yt=new XMLHttpRequest;yt.onload=function(){var Nt={status:yt.status,statusText:yt.statusText,headers:X(yt.getAllResponseHeaders()||"")};Nt.url="responseURL"in yt?yt.responseURL:Nt.headers.get("X-Request-URL"),bt(new V("response"in yt?yt.response:yt.responseText,Nt))},yt.onerror=function(){pt(new TypeError("Network request failed"))},yt.ontimeout=function(){pt(new TypeError("Network request failed"))},yt.open(z.method,z.url,!0),"include"===z.credentials&&(yt.withCredentials=!0),"responseType"in yt&&kt.blob&&(yt.responseType="blob"),z.headers.forEach(function(Nt,qt){yt.setRequestHeader(qt,Nt)}),yt.send(typeof z._bodyInit>"u"?null:z._bodyInit)})},Oe.fetch.polyfill=!0}function zt($){if("string"!=typeof $&&($=String($)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test($))throw new TypeError("Invalid character in header field name");return $.toLowerCase()}function Mt($){return"string"!=typeof $&&($=String($)),$}function Rt($){var ct={next:function(){var bt=$.shift();return{done:void 0===bt,value:bt}}};return kt.iterable&&(ct[Symbol.iterator]=function(){return ct}),ct}function gt($){this.map={},$ instanceof gt?$.forEach(function(ct,bt){this.append(bt,ct)},this):$&&Object.getOwnPropertyNames($).forEach(function(ct){this.append(ct,$[ct])},this)}function Ot($){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}function Pt($){return new Promise(function(ct,bt){$.onload=function(){ct($.result)},$.onerror=function(){bt($.error)}})}function Ct($){var ct=new FileReader,bt=Pt(ct);return ct.readAsArrayBuffer($),bt}function vt($){if($.slice)return $.slice(0);var ct=new Uint8Array($.byteLength);return ct.set(new Uint8Array($)),ct.buffer}function Tt(){return this.bodyUsed=!1,this._initBody=function($){if(this._bodyInit=$,$)if("string"==typeof $)this._bodyText=$;else if(kt.blob&&Blob.prototype.isPrototypeOf($))this._bodyBlob=$;else if(kt.formData&&FormData.prototype.isPrototypeOf($))this._bodyFormData=$;else if(kt.searchParams&&URLSearchParams.prototype.isPrototypeOf($))this._bodyText=$.toString();else if(kt.arrayBuffer&&kt.blob&&k($))this._bodyArrayBuffer=vt($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!kt.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf($)&&!xt($))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=vt($)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof $?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):kt.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},kt.blob&&(this.blob=function(){var $=Ot(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Ot(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Ct)}),this.text=function(){var $=Ot(this);if($)return $;if(this._bodyBlob)return function ht($){var ct=new FileReader,bt=Pt(ct);return ct.readAsText($),bt}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function J($){for(var ct=new Uint8Array($),bt=new Array(ct.length),pt=0;pt<ct.length;pt++)bt[pt]=String.fromCharCode(ct[pt]);return bt.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},kt.formData&&(this.formData=function(){return this.text().then(K)}),this.json=function(){return this.text().then(JSON.parse)},this}function q($,ct){var bt=(ct=ct||{}).body;if("string"==typeof $)this.url=$;else{if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,ct.headers||(this.headers=new gt($.headers)),this.method=$.method,this.mode=$.mode,!bt&&null!=$._bodyInit&&(bt=$._bodyInit,$.bodyUsed=!0)}if(this.credentials=ct.credentials||this.credentials||"omit",(ct.headers||!this.headers)&&(this.headers=new gt(ct.headers)),this.method=function nt($){var ct=$.toUpperCase();return $t.indexOf(ct)>-1?ct:$}(ct.method||this.method||"GET"),this.mode=ct.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&bt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(bt)}function K($){var ct=new FormData;return $.trim().split("&").forEach(function(bt){if(bt){var pt=bt.split("="),z=pt.shift().replace(/\+/g," "),yt=pt.join("=").replace(/\+/g," ");ct.append(decodeURIComponent(z),decodeURIComponent(yt))}}),ct}function X($){var ct=new gt;return $.split("\r\n").forEach(function(bt){var pt=bt.split(":"),z=pt.shift().trim();if(z){var yt=pt.join(":").trim();ct.append(z,yt)}}),ct}function V($,ct){ct||(ct={}),this.type="default",this.status="status"in ct?ct.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in ct?ct.statusText:"OK",this.headers=new gt(ct.headers),this.url=ct.url||"",this._initBody($)}}(typeof self<"u"?self:this)}},Oe=>{Oe(Oe.s=2651)}]);
//# sourceMappingURL=main.2d4e844648830c5a.js.map